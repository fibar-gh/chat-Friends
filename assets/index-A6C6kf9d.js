(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function tI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ud={exports:{}},Qa={},jd={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function nI(){if(Zg)return Ce;Zg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function I(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,B={};function x(L,Y,Se){this.props=L,this.context=Y,this.refs=B,this.updater=Se||O}x.prototype.isReactComponent={},x.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function K(){}K.prototype=x.prototype;function Q(L,Y,Se){this.props=L,this.context=Y,this.refs=B,this.updater=Se||O}var te=Q.prototype=new K;te.constructor=Q,M(te,x.prototype),te.isPureReactComponent=!0;var ue=Array.isArray,Ee=Object.prototype.hasOwnProperty,Ae={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(L,Y,Se){var Re,Pe={},ke=null,Ue=null;if(Y!=null)for(Re in Y.ref!==void 0&&(Ue=Y.ref),Y.key!==void 0&&(ke=""+Y.key),Y)Ee.call(Y,Re)&&!k.hasOwnProperty(Re)&&(Pe[Re]=Y[Re]);var Le=arguments.length-2;if(Le===1)Pe.children=Se;else if(1<Le){for(var ze=Array(Le),zt=0;zt<Le;zt++)ze[zt]=arguments[zt+2];Pe.children=ze}if(L&&L.defaultProps)for(Re in Le=L.defaultProps,Le)Pe[Re]===void 0&&(Pe[Re]=Le[Re]);return{$$typeof:n,type:L,key:ke,ref:Ue,props:Pe,_owner:Ae.current}}function R(L,Y){return{$$typeof:n,type:L.type,key:Y,ref:L.ref,props:L.props,_owner:L._owner}}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function N(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Se){return Y[Se]})}var b=/\/+/g;function C(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):Y.toString(36)}function We(L,Y,Se,Re,Pe){var ke=typeof L;(ke==="undefined"||ke==="boolean")&&(L=null);var Ue=!1;if(L===null)Ue=!0;else switch(ke){case"string":case"number":Ue=!0;break;case"object":switch(L.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=L,Pe=Pe(Ue),L=Re===""?"."+C(Ue,0):Re,ue(Pe)?(Se="",L!=null&&(Se=L.replace(b,"$&/")+"/"),We(Pe,Y,Se,"",function(zt){return zt})):Pe!=null&&(D(Pe)&&(Pe=R(Pe,Se+(!Pe.key||Ue&&Ue.key===Pe.key?"":(""+Pe.key).replace(b,"$&/")+"/")+L)),Y.push(Pe)),1;if(Ue=0,Re=Re===""?".":Re+":",ue(L))for(var Le=0;Le<L.length;Le++){ke=L[Le];var ze=Re+C(ke,Le);Ue+=We(ke,Y,Se,ze,Pe)}else if(ze=I(L),typeof ze=="function")for(L=ze.call(L),Le=0;!(ke=L.next()).done;)ke=ke.value,ze=Re+C(ke,Le++),Ue+=We(ke,Y,Se,ze,Pe);else if(ke==="object")throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Et(L,Y,Se){if(L==null)return L;var Re=[],Pe=0;return We(L,Re,"","",function(ke){return Y.call(Se,ke,Pe++)}),Re}function Dt(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(Se){(L._status===0||L._status===-1)&&(L._status=1,L._result=Se)},function(Se){(L._status===0||L._status===-1)&&(L._status=2,L._result=Se)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var Xe={current:null},re={transition:null},pe={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:re,ReactCurrentOwner:Ae};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Et,forEach:function(L,Y,Se){Et(L,function(){Y.apply(this,arguments)},Se)},count:function(L){var Y=0;return Et(L,function(){Y++}),Y},toArray:function(L){return Et(L,function(Y){return Y})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=x,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=Q,Ce.StrictMode=i,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ce.act=ae,Ce.cloneElement=function(L,Y,Se){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Re=M({},L.props),Pe=L.key,ke=L.ref,Ue=L._owner;if(Y!=null){if(Y.ref!==void 0&&(ke=Y.ref,Ue=Ae.current),Y.key!==void 0&&(Pe=""+Y.key),L.type&&L.type.defaultProps)var Le=L.type.defaultProps;for(ze in Y)Ee.call(Y,ze)&&!k.hasOwnProperty(ze)&&(Re[ze]=Y[ze]===void 0&&Le!==void 0?Le[ze]:Y[ze])}var ze=arguments.length-2;if(ze===1)Re.children=Se;else if(1<ze){Le=Array(ze);for(var zt=0;zt<ze;zt++)Le[zt]=arguments[zt+2];Re.children=Le}return{$$typeof:n,type:L.type,key:Pe,ref:ke,props:Re,_owner:Ue}},Ce.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Ce.createElement=A,Ce.createFactory=function(L){var Y=A.bind(null,L);return Y.type=L,Y},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:f,render:L}},Ce.isValidElement=D,Ce.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:Dt}},Ce.memo=function(L,Y){return{$$typeof:y,type:L,compare:Y===void 0?null:Y}},Ce.startTransition=function(L){var Y=re.transition;re.transition={};try{L()}finally{re.transition=Y}},Ce.unstable_act=ae,Ce.useCallback=function(L,Y){return Xe.current.useCallback(L,Y)},Ce.useContext=function(L){return Xe.current.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L){return Xe.current.useDeferredValue(L)},Ce.useEffect=function(L,Y){return Xe.current.useEffect(L,Y)},Ce.useId=function(){return Xe.current.useId()},Ce.useImperativeHandle=function(L,Y,Se){return Xe.current.useImperativeHandle(L,Y,Se)},Ce.useInsertionEffect=function(L,Y){return Xe.current.useInsertionEffect(L,Y)},Ce.useLayoutEffect=function(L,Y){return Xe.current.useLayoutEffect(L,Y)},Ce.useMemo=function(L,Y){return Xe.current.useMemo(L,Y)},Ce.useReducer=function(L,Y,Se){return Xe.current.useReducer(L,Y,Se)},Ce.useRef=function(L){return Xe.current.useRef(L)},Ce.useState=function(L){return Xe.current.useState(L)},Ce.useSyncExternalStore=function(L,Y,Se){return Xe.current.useSyncExternalStore(L,Y,Se)},Ce.useTransition=function(){return Xe.current.useTransition()},Ce.version="18.3.1",Ce}var ey;function bf(){return ey||(ey=1,jd.exports=nI()),jd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function rI(){if(ty)return Qa;ty=1;var n=bf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var v,w={},I=null,O=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(O=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:f,key:I,ref:O,props:w,_owner:o.current}}return Qa.Fragment=t,Qa.jsx=h,Qa.jsxs=h,Qa}var ny;function iI(){return ny||(ny=1,Ud.exports=rI()),Ud.exports}var H=iI(),q=bf();const Is=tI(q);var Qu={},Bd={exports:{}},Xt={},zd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function sI(){return ry||(ry=1,(function(n){function e(re,pe){var ae=re.length;re.push(pe);e:for(;0<ae;){var L=ae-1>>>1,Y=re[L];if(0<o(Y,pe))re[L]=pe,re[ae]=Y,ae=L;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var pe=re[0],ae=re.pop();if(ae!==pe){re[0]=ae;e:for(var L=0,Y=re.length,Se=Y>>>1;L<Se;){var Re=2*(L+1)-1,Pe=re[Re],ke=Re+1,Ue=re[ke];if(0>o(Pe,ae))ke<Y&&0>o(Ue,Pe)?(re[L]=Ue,re[ke]=ae,L=ke):(re[L]=Pe,re[Re]=ae,L=Re);else if(ke<Y&&0>o(Ue,ae))re[L]=Ue,re[ke]=ae,L=ke;else break e}}return pe}function o(re,pe){var ae=re.sortIndex-pe.sortIndex;return ae!==0?ae:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var p=[],y=[],v=1,w=null,I=3,O=!1,M=!1,B=!1,x=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(re){for(var pe=t(y);pe!==null;){if(pe.callback===null)i(y);else if(pe.startTime<=re)i(y),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(y)}}function ue(re){if(B=!1,te(re),!M)if(t(p)!==null)M=!0,Dt(Ee);else{var pe=t(y);pe!==null&&Xe(ue,pe.startTime-re)}}function Ee(re,pe){M=!1,B&&(B=!1,K(A),A=-1),O=!0;var ae=I;try{for(te(pe),w=t(p);w!==null&&(!(w.expirationTime>pe)||re&&!N());){var L=w.callback;if(typeof L=="function"){w.callback=null,I=w.priorityLevel;var Y=L(w.expirationTime<=pe);pe=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(p)&&i(p),te(pe)}else i(p);w=t(p)}if(w!==null)var Se=!0;else{var Re=t(y);Re!==null&&Xe(ue,Re.startTime-pe),Se=!1}return Se}finally{w=null,I=ae,O=!1}}var Ae=!1,k=null,A=-1,R=5,D=-1;function N(){return!(n.unstable_now()-D<R)}function b(){if(k!==null){var re=n.unstable_now();D=re;var pe=!0;try{pe=k(!0,re)}finally{pe?C():(Ae=!1,k=null)}}else Ae=!1}var C;if(typeof Q=="function")C=function(){Q(b)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,Et=We.port2;We.port1.onmessage=b,C=function(){Et.postMessage(null)}}else C=function(){x(b,0)};function Dt(re){k=re,Ae||(Ae=!0,C())}function Xe(re,pe){A=x(function(){re(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){M||O||(M=!0,Dt(Ee))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(I){case 1:case 2:case 3:var pe=3;break;default:pe=I}var ae=I;I=pe;try{return re()}finally{I=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=I;I=re;try{return pe()}finally{I=ae}},n.unstable_scheduleCallback=function(re,pe,ae){var L=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?L+ae:L):ae=L,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,re={id:v++,callback:pe,priorityLevel:re,startTime:ae,expirationTime:Y,sortIndex:-1},ae>L?(re.sortIndex=ae,e(y,re),t(p)===null&&re===t(y)&&(B?(K(A),A=-1):B=!0,Xe(ue,ae-L))):(re.sortIndex=Y,e(p,re),M||O||(M=!0,Dt(Ee))),re},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(re){var pe=I;return function(){var ae=I;I=pe;try{return re.apply(this,arguments)}finally{I=ae}}}})(qd)),qd}var iy;function oI(){return iy||(iy=1,zd.exports=sI()),zd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function aI(){if(sy)return Xt;sy=1;var n=bf(),e=oI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function I(r){return p.call(w,r)?!0:p.call(v,r)?!1:y.test(r)?w[r]=!0:(v[r]=!0,!1)}function O(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,s,a,c){if(s===null||typeof s>"u"||O(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(r,s,a,c,d,m,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=E}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new B(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];x[s]=new B(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new B(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new B(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new B(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new B(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new B(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new B(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new B(r,5,!1,r.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(K,Q);x[s]=new B(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(K,Q);x[s]=new B(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(K,Q);x[s]=new B(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new B(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new B(r,1,!1,r.toLowerCase(),null,!0,!0)});function te(r,s,a,c){var d=x.hasOwnProperty(s)?x[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,a,d,c)&&(a=null),c||d===null?I(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var ue=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ee=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),Et=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Xe=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,L;function Y(r){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var Se=!1;function Re(r,s){if(!r||Se)return"";Se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var c=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){c=z}r.call(s.prototype)}else{try{throw Error()}catch(z){c=z}r()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),m=c.stack.split(`
`),E=d.length-1,S=m.length-1;1<=E&&0<=S&&d[E]!==m[S];)S--;for(;1<=E&&0<=S;E--,S--)if(d[E]!==m[S]){if(E!==1||S!==1)do if(E--,S--,0>S||d[E]!==m[S]){var P=`
`+d[E].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=E&&0<=S);break}}}finally{Se=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function Pe(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function ke(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case Ae:return"Portal";case R:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case We:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Et:return s=r.displayName||null,s!==null?s:ke(r.type)||"Memo";case Dt:s=r._payload,r=r._init;try{return ke(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Le(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ze(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zt(r){var s=ze(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){c=""+E,m.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function bs(r){r._valueTracker||(r._valueTracker=zt(r))}function ta(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=ze(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Gr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Fs(r,s){var a=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ol(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Le(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Us(r,s){s=s.checked,s!=null&&te(r,"checked",s,!1)}function Gi(r,s){Us(r,s);var a=Le(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ht(r,s.type,a):s.hasOwnProperty("defaultValue")&&ht(r,s.type,Le(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function na(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ht(r,s,a){(s!=="number"||Gr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var ot=Array.isArray;function Tn(r,s,a,c){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Le(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function ra(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ia(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(ot(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Le(a)}}function Ll(r,s){var a=Le(s.value),c=Le(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function Kr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function sa(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function js(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?sa(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Qr,Ml=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,d)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Qr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Ki(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bl=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(r){bl.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Yr[s]=Yr[r]})});function Xr(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Yr.hasOwnProperty(r)&&Yr[r]?(""+s).trim():s+"px"}function Bs(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Xr(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var oa=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function In(r,s){if(s){if(oa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function zs(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jr=null;function qs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var yr=null,_r=null,rt=null;function aa(r){if(r=Oa(r)){if(typeof yr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=cu(s),yr(r.stateNode,r.type,s))}}function Zr(r){_r?rt?rt.push(r):rt=[r]:_r=r}function ei(){if(_r){var r=_r,s=rt;if(rt=_r=null,aa(r),s)for(r=0;r<s.length;r++)aa(s[r])}}function Fl(r,s){return r(s)}function Ul(){}var jn=!1;function jl(r,s,a){if(jn)return r(s,a);jn=!0;try{return Fl(r,s,a)}finally{jn=!1,(_r!==null||rt!==null)&&(Ul(),ei())}}function Qi(r,s){var a=r.stateNode;if(a===null)return null;var c=cu(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var ti=!1;if(f)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){ti=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{ti=!1}function Bl(r,s,a,c,d,m,E,S,P){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(J){this.onError(J)}}var vr=!1,Bn=null,Ws=!1,fn=null,zl={onError:function(r){vr=!0,Bn=r}};function ql(r,s,a,c,d,m,E,S,P){vr=!1,Bn=null,Bl.apply(zl,arguments)}function la(r,s,a,c,d,m,E,S,P){if(ql.apply(this,arguments),vr){if(vr){var z=Bn;vr=!1,Bn=null}else throw Error(t(198));Ws||(Ws=!0,fn=z)}}function An(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function ua(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Wl(r){if(An(r)!==r)throw Error(t(188))}function Hl(r){var s=r.alternate;if(!s){if(s=An(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Wl(d),r;if(m===c)return Wl(d),s;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var E=!1,S=d.child;S;){if(S===a){E=!0,a=d,c=m;break}if(S===c){E=!0,c=d,a=m;break}S=S.sibling}if(!E){for(S=m.child;S;){if(S===a){E=!0,a=m,c=d;break}if(S===c){E=!0,c=m,a=d;break}S=S.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function $l(r){return r=Hl(r),r!==null?Yi(r):null}function Yi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Yi(r);if(s!==null)return s;r=r.sibling}return null}var ca=e.unstable_scheduleCallback,Hs=e.unstable_cancelCallback,Xi=e.unstable_shouldYield,Er=e.unstable_requestPaint,Ge=e.unstable_now,gh=e.unstable_getCurrentPriorityLevel,$s=e.unstable_ImmediatePriority,ha=e.unstable_UserBlockingPriority,Ji=e.unstable_NormalPriority,da=e.unstable_LowPriority,Gs=e.unstable_IdlePriority,Zi=null,en=null;function Gl(r){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Zi,r,void 0,(r.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:es,zn=Math.log,pn=Math.LN2;function es(r){return r>>>=0,r===0?32:31-(zn(r)/pn|0)|0}var qn=64,ri=4194304;function Fe(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function wr(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,m=r.pingedLanes,E=a&268435455;if(E!==0){var S=E&~d;S!==0?c=Fe(S):(m&=E,m!==0&&(c=Fe(m)))}else E=a&~d,E!==0?c=Fe(E):m!==0&&(c=Fe(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,m=s&-s,d>=m||d===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-tn(s),d=1<<a,c|=r[a],s&=~d;return c}function ts(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,m=r.pendingLanes;0<m;){var E=31-tn(m),S=1<<E,P=d[E];P===-1?((S&a)===0||(S&c)!==0)&&(d[E]=ts(S,s)):P<=s&&(r.expiredLanes|=S),m&=~S}}function fa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function pa(){var r=qn;return qn<<=1,(qn&4194240)===0&&(qn=64),r}function ma(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function rs(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-tn(s),r[s]=a}function yh(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-tn(a),m=1<<d;s[d]=0,c[d]=-1,r[d]=-1,a&=~m}}function ga(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-tn(a),d=1<<c;d&s|r[c]&s&&(r[c]|=s),a&=~d}}var Ve=0;function Wn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ya,Ks,_a,va,Ea,Hn=!1,Qs=[],$n=null,Gn=null,St=null,is=new Map,Tr=new Map,nn=[],Kl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ii(r,s){switch(r){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":is.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(s.pointerId)}}function Sn(r,s,a,c,d,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Oa(s),s!==null&&Ks(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Ql(r,s,a,c,d){switch(s){case"focusin":return $n=Sn($n,r,s,a,c,d),!0;case"dragenter":return Gn=Sn(Gn,r,s,a,c,d),!0;case"mouseover":return St=Sn(St,r,s,a,c,d),!0;case"pointerover":var m=d.pointerId;return is.set(m,Sn(is.get(m)||null,r,s,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,Tr.set(m,Sn(Tr.get(m)||null,r,s,a,c,d)),!0}return!1}function Ys(r){var s=ls(r.target);if(s!==null){var a=An(s);if(a!==null){if(s=a.tag,s===13){if(s=ua(a),s!==null){r.blockedOn=s,Ea(r.priority,function(){_a(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qe(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Xs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Jr=c,a.target.dispatchEvent(c),Jr=null}else return s=Oa(a),s!==null&&Ks(s),r.blockedOn=a,!1;s.shift()}return!0}function Yl(r,s,a){qe(r)&&a.delete(s)}function _h(){Hn=!1,$n!==null&&qe($n)&&($n=null),Gn!==null&&qe(Gn)&&(Gn=null),St!==null&&qe(St)&&(St=null),is.forEach(Yl),Tr.forEach(Yl)}function si(r,s){r.blockedOn===s&&(r.blockedOn=null,Hn||(Hn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_h)))}function oi(r){function s(d){return si(d,r)}if(0<Qs.length){si(Qs[0],r);for(var a=1;a<Qs.length;a++){var c=Qs[a];c.blockedOn===r&&(c.blockedOn=null)}}for($n!==null&&si($n,r),Gn!==null&&si(Gn,r),St!==null&&si(St,r),is.forEach(s),Tr.forEach(s),a=0;a<nn.length;a++)c=nn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<nn.length&&(a=nn[0],a.blockedOn===null);)Ys(a),a.blockedOn===null&&nn.shift()}var Ir=ue.ReactCurrentBatchConfig,Ar=!0;function Kn(r,s,a,c){var d=Ve,m=Ir.transition;Ir.transition=null;try{Ve=1,wa(r,s,a,c)}finally{Ve=d,Ir.transition=m}}function Xl(r,s,a,c){var d=Ve,m=Ir.transition;Ir.transition=null;try{Ve=4,wa(r,s,a,c)}finally{Ve=d,Ir.transition=m}}function wa(r,s,a,c){if(Ar){var d=Xs(r,s,a,c);if(d===null)kh(r,s,c,Qn,a),ii(r,c);else if(Ql(d,r,s,a,c))c.stopPropagation();else if(ii(r,c),s&4&&-1<Kl.indexOf(r)){for(;d!==null;){var m=Oa(d);if(m!==null&&ya(m),m=Xs(r,s,a,c),m===null&&kh(r,s,c,Qn,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else kh(r,s,c,null,a)}}var Qn=null;function Xs(r,s,a,c){if(Qn=null,r=qs(c),r=ls(r),r!==null)if(s=An(r),s===null)r=null;else if(a=s.tag,a===13){if(r=ua(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Qn=r,null}function Js(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gh()){case $s:return 1;case ha:return 4;case Ji:case da:return 16;case Gs:return 536870912;default:return 16}default:return 16}}var rn=null,Zs=null,Sr=null;function Jl(){if(Sr)return Sr;var r,s=Zs,a=s.length,c,d="value"in rn?rn.value:rn.textContent,m=d.length;for(r=0;r<a&&s[r]===d[r];r++);var E=a-r;for(c=1;c<=E&&s[a-c]===d[m-c];c++);return Sr=d.slice(r,1<c?1-c:void 0)}function ss(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Yn(){return!0}function Ta(){return!1}function Vt(r){function s(a,c,d,m,E){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Yn:Ta,this.isPropagationStopped=Ta,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),s}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=Vt(Xn),ai=ae({},Xn,{view:0,detail:0}),eo=Vt(ai),to,no,sn,as=ae({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Te,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==sn&&(sn&&r.type==="mousemove"?(to=r.screenX-sn.screenX,no=r.screenY-sn.screenY):no=to=0,sn=r),to)},movementY:function(r){return"movementY"in r?r.movementY:no}}),Ia=Vt(as),Zl=ae({},as,{dataTransfer:0}),eu=Vt(Zl),ro=ae({},ai,{relatedTarget:0}),Rt=Vt(ro),tu=ae({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Vt(tu),li=ae({},Xn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Vt(li),g=ae({},Xn,{data:0}),_=Vt(g),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ne(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=W[r])?!!s[r]:!1}function Te(){return ne}var at=ae({},ai,{key:function(r){if(r.key){var s=T[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ss(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?U[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Te,charCode:function(r){return r.type==="keypress"?ss(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ss(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Be=Vt(at),dt=ae({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),on=Vt(dt),Rr=ae({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Te}),Jn=Vt(Rr),Zn=ae({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),io=Vt(Zn),Aa=ae({},as,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qw=Vt(Aa),Yw=[9,13,27,32],vh=f&&"CompositionEvent"in window,Sa=null;f&&"documentMode"in document&&(Sa=document.documentMode);var Xw=f&&"TextEvent"in window&&!Sa,Hp=f&&(!vh||Sa&&8<Sa&&11>=Sa),$p=" ",Gp=!1;function Kp(r,s){switch(r){case"keyup":return Yw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var so=!1;function Jw(r,s){switch(r){case"compositionend":return Qp(s);case"keypress":return s.which!==32?null:(Gp=!0,$p);case"textInput":return r=s.data,r===$p&&Gp?null:r;default:return null}}function Zw(r,s){if(so)return r==="compositionend"||!vh&&Kp(r,s)?(r=Jl(),Sr=Zs=rn=null,so=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hp&&s.locale!=="ko"?null:s.data;default:return null}}var eT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!eT[r.type]:s==="textarea"}function Xp(r,s,a,c){Zr(c),s=au(s,"onChange"),0<s.length&&(a=new os("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Ra=null,Ca=null;function tT(r){mm(r,0)}function ru(r){var s=co(r);if(ta(s))return r}function nT(r,s){if(r==="change")return s}var Jp=!1;if(f){var Eh;if(f){var wh="oninput"in document;if(!wh){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),wh=typeof Zp.oninput=="function"}Eh=wh}else Eh=!1;Jp=Eh&&(!document.documentMode||9<document.documentMode)}function em(){Ra&&(Ra.detachEvent("onpropertychange",tm),Ca=Ra=null)}function tm(r){if(r.propertyName==="value"&&ru(Ca)){var s=[];Xp(s,Ca,r,qs(r)),jl(tT,s)}}function rT(r,s,a){r==="focusin"?(em(),Ra=s,Ca=a,Ra.attachEvent("onpropertychange",tm)):r==="focusout"&&em()}function iT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ru(Ca)}function sT(r,s){if(r==="click")return ru(s)}function oT(r,s){if(r==="input"||r==="change")return ru(s)}function aT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Rn=typeof Object.is=="function"?Object.is:aT;function Pa(r,s){if(Rn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(s,d)||!Rn(r[d],s[d]))return!1}return!0}function nm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function rm(r,s){var a=nm(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nm(a)}}function im(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?im(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function sm(){for(var r=window,s=Gr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Gr(r.document)}return s}function Th(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function lT(r){var s=sm(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&im(a.ownerDocument.documentElement,a)){if(c!==null&&Th(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!r.extend&&m>c&&(d=c,c=m,m=d),d=rm(a,m);var E=rm(a,c);d&&E&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),m>c?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var uT=f&&"documentMode"in document&&11>=document.documentMode,oo=null,Ih=null,ka=null,Ah=!1;function om(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ah||oo==null||oo!==Gr(c)||(c=oo,"selectionStart"in c&&Th(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ka&&Pa(ka,c)||(ka=c,c=au(Ih,"onSelect"),0<c.length&&(s=new os("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=oo)))}function iu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var ao={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},Sh={},am={};f&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function su(r){if(Sh[r])return Sh[r];if(!ao[r])return r;var s=ao[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in am)return Sh[r]=s[a];return r}var lm=su("animationend"),um=su("animationiteration"),cm=su("animationstart"),hm=su("transitionend"),dm=new Map,fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(r,s){dm.set(r,s),l(s,[r])}for(var Rh=0;Rh<fm.length;Rh++){var Ch=fm[Rh],cT=Ch.toLowerCase(),hT=Ch[0].toUpperCase()+Ch.slice(1);ui(cT,"on"+hT)}ui(lm,"onAnimationEnd"),ui(um,"onAnimationIteration"),ui(cm,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(hm,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function pm(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,la(c,s,void 0,r),r.currentTarget=null}function mm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var E=c.length-1;0<=E;E--){var S=c[E],P=S.instance,z=S.currentTarget;if(S=S.listener,P!==m&&d.isPropagationStopped())break e;pm(d,S,z),m=P}else for(E=0;E<c.length;E++){if(S=c[E],P=S.instance,z=S.currentTarget,S=S.listener,P!==m&&d.isPropagationStopped())break e;pm(d,S,z),m=P}}}if(Ws)throw r=fn,Ws=!1,fn=null,r}function Ke(r,s){var a=s[Lh];a===void 0&&(a=s[Lh]=new Set);var c=r+"__bubble";a.has(c)||(gm(s,r,2,!1),a.add(c))}function Ph(r,s,a){var c=0;s&&(c|=4),gm(a,r,c,s)}var ou="_reactListening"+Math.random().toString(36).slice(2);function xa(r){if(!r[ou]){r[ou]=!0,i.forEach(function(a){a!=="selectionchange"&&(dT.has(a)||Ph(a,!1,r),Ph(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ou]||(s[ou]=!0,Ph("selectionchange",!1,s))}}function gm(r,s,a,c){switch(Js(s)){case 1:var d=Kn;break;case 4:d=Xl;break;default:d=wa}a=d.bind(null,s,a,r),d=void 0,!ti||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function kh(r,s,a,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(E===4)for(E=c.return;E!==null;){var P=E.tag;if((P===3||P===4)&&(P=E.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;E=E.return}for(;S!==null;){if(E=ls(S),E===null)return;if(P=E.tag,P===5||P===6){c=m=E;continue e}S=S.parentNode}}c=c.return}jl(function(){var z=m,J=qs(a),Z=[];e:{var X=dm.get(r);if(X!==void 0){var se=os,ce=r;switch(r){case"keypress":if(ss(a)===0)break e;case"keydown":case"keyup":se=Be;break;case"focusin":ce="focus",se=Rt;break;case"focusout":ce="blur",se=Rt;break;case"beforeblur":case"afterblur":se=Rt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Jn;break;case lm:case um:case cm:se=nu;break;case hm:se=io;break;case"scroll":se=eo;break;case"wheel":se=Qw;break;case"copy":case"cut":case"paste":se=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=on}var he=(s&4)!==0,lt=!he&&r==="scroll",F=he?X!==null?X+"Capture":null:X;he=[];for(var V=z,j;V!==null;){j=V;var ee=j.stateNode;if(j.tag===5&&ee!==null&&(j=ee,F!==null&&(ee=Qi(V,F),ee!=null&&he.push(Da(V,ee,j)))),lt)break;V=V.return}0<he.length&&(X=new se(X,ce,null,a,J),Z.push({event:X,listeners:he}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",X&&a!==Jr&&(ce=a.relatedTarget||a.fromElement)&&(ls(ce)||ce[Cr]))break e;if((se||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,se?(ce=a.relatedTarget||a.toElement,se=z,ce=ce?ls(ce):null,ce!==null&&(lt=An(ce),ce!==lt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=z),se!==ce)){if(he=Ia,ee="onMouseLeave",F="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(he=on,ee="onPointerLeave",F="onPointerEnter",V="pointer"),lt=se==null?X:co(se),j=ce==null?X:co(ce),X=new he(ee,V+"leave",se,a,J),X.target=lt,X.relatedTarget=j,ee=null,ls(J)===z&&(he=new he(F,V+"enter",ce,a,J),he.target=j,he.relatedTarget=lt,ee=he),lt=ee,se&&ce)t:{for(he=se,F=ce,V=0,j=he;j;j=lo(j))V++;for(j=0,ee=F;ee;ee=lo(ee))j++;for(;0<V-j;)he=lo(he),V--;for(;0<j-V;)F=lo(F),j--;for(;V--;){if(he===F||F!==null&&he===F.alternate)break t;he=lo(he),F=lo(F)}he=null}else he=null;se!==null&&ym(Z,X,se,he,!1),ce!==null&&lt!==null&&ym(Z,lt,ce,he,!0)}}e:{if(X=z?co(z):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var de=nT;else if(Yp(X))if(Jp)de=oT;else{de=iT;var me=rT}else(se=X.nodeName)&&se.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(de=sT);if(de&&(de=de(r,z))){Xp(Z,de,a,J);break e}me&&me(r,X,z),r==="focusout"&&(me=X._wrapperState)&&me.controlled&&X.type==="number"&&ht(X,"number",X.value)}switch(me=z?co(z):window,r){case"focusin":(Yp(me)||me.contentEditable==="true")&&(oo=me,Ih=z,ka=null);break;case"focusout":ka=Ih=oo=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,om(Z,a,J);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":om(Z,a,J)}var ge;if(vh)e:{switch(r){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else so?Kp(r,a)&&(ve="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(Hp&&a.locale!=="ko"&&(so||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&so&&(ge=Jl()):(rn=J,Zs="value"in rn?rn.value:rn.textContent,so=!0)),me=au(z,ve),0<me.length&&(ve=new _(ve,r,null,a,J),Z.push({event:ve,listeners:me}),ge?ve.data=ge:(ge=Qp(a),ge!==null&&(ve.data=ge)))),(ge=Xw?Jw(r,a):Zw(r,a))&&(z=au(z,"onBeforeInput"),0<z.length&&(J=new _("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:z}),J.data=ge))}mm(Z,s)})}function Da(r,s,a){return{instance:r,listener:s,currentTarget:a}}function au(r,s){for(var a=s+"Capture",c=[];r!==null;){var d=r,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=Qi(r,a),m!=null&&c.unshift(Da(r,m,d)),m=Qi(r,s),m!=null&&c.push(Da(r,m,d))),r=r.return}return c}function lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ym(r,s,a,c,d){for(var m=s._reactName,E=[];a!==null&&a!==c;){var S=a,P=S.alternate,z=S.stateNode;if(P!==null&&P===c)break;S.tag===5&&z!==null&&(S=z,d?(P=Qi(a,m),P!=null&&E.unshift(Da(a,P,S))):d||(P=Qi(a,m),P!=null&&E.push(Da(a,P,S)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var fT=/\r\n?/g,pT=/\u0000|\uFFFD/g;function _m(r){return(typeof r=="string"?r:""+r).replace(fT,`
`).replace(pT,"")}function lu(r,s,a){if(s=_m(s),_m(r)!==s&&a)throw Error(t(425))}function uu(){}var Nh=null,xh=null;function Dh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vh=typeof setTimeout=="function"?setTimeout:void 0,mT=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,gT=typeof queueMicrotask=="function"?queueMicrotask:typeof vm<"u"?function(r){return vm.resolve(null).then(r).catch(yT)}:Vh;function yT(r){setTimeout(function(){throw r})}function Oh(r,s){var a=s,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),oi(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);oi(s)}function ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Em(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var uo=Math.random().toString(36).slice(2),er="__reactFiber$"+uo,Va="__reactProps$"+uo,Cr="__reactContainer$"+uo,Lh="__reactEvents$"+uo,_T="__reactListeners$"+uo,vT="__reactHandles$"+uo;function ls(r){var s=r[er];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Cr]||a[er]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Em(r);r!==null;){if(a=r[er])return a;r=Em(r)}return s}r=a,a=r.parentNode}return null}function Oa(r){return r=r[er]||r[Cr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function co(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function cu(r){return r[Va]||null}var Mh=[],ho=-1;function hi(r){return{current:r}}function Qe(r){0>ho||(r.current=Mh[ho],Mh[ho]=null,ho--)}function He(r,s){ho++,Mh[ho]=r.current,r.current=s}var di={},Ot=hi(di),$t=hi(!1),us=di;function fo(r,s){var a=r.type.contextTypes;if(!a)return di;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=s[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Gt(r){return r=r.childContextTypes,r!=null}function hu(){Qe($t),Qe(Ot)}function wm(r,s,a){if(Ot.current!==di)throw Error(t(168));He(Ot,s),He($t,a)}function Tm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Ue(r)||"Unknown",d));return ae({},a,c)}function du(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||di,us=Ot.current,He(Ot,r),He($t,$t.current),!0}function Im(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Tm(r,s,us),c.__reactInternalMemoizedMergedChildContext=r,Qe($t),Qe(Ot),He(Ot,r)):Qe($t),He($t,a)}var Pr=null,fu=!1,bh=!1;function Am(r){Pr===null?Pr=[r]:Pr.push(r)}function ET(r){fu=!0,Am(r)}function fi(){if(!bh&&Pr!==null){bh=!0;var r=0,s=Ve;try{var a=Pr;for(Ve=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Pr=null,fu=!1}catch(d){throw Pr!==null&&(Pr=Pr.slice(r+1)),ca($s,fi),d}finally{Ve=s,bh=!1}}return null}var po=[],mo=0,pu=null,mu=0,mn=[],gn=0,cs=null,kr=1,Nr="";function hs(r,s){po[mo++]=mu,po[mo++]=pu,pu=r,mu=s}function Sm(r,s,a){mn[gn++]=kr,mn[gn++]=Nr,mn[gn++]=cs,cs=r;var c=kr;r=Nr;var d=32-tn(c)-1;c&=~(1<<d),a+=1;var m=32-tn(s)+d;if(30<m){var E=d-d%5;m=(c&(1<<E)-1).toString(32),c>>=E,d-=E,kr=1<<32-tn(s)+d|a<<d|c,Nr=m+r}else kr=1<<m|a<<d|c,Nr=r}function Fh(r){r.return!==null&&(hs(r,1),Sm(r,1,0))}function Uh(r){for(;r===pu;)pu=po[--mo],po[mo]=null,mu=po[--mo],po[mo]=null;for(;r===cs;)cs=mn[--gn],mn[gn]=null,Nr=mn[--gn],mn[gn]=null,kr=mn[--gn],mn[gn]=null}var an=null,ln=null,Je=!1,Cn=null;function Rm(r,s){var a=En(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Cm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,an=r,ln=ci(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,an=r,ln=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=cs!==null?{id:kr,overflow:Nr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=En(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,an=r,ln=null,!0):!1;default:return!1}}function jh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Bh(r){if(Je){var s=ln;if(s){var a=s;if(!Cm(r,s)){if(jh(r))throw Error(t(418));s=ci(a.nextSibling);var c=an;s&&Cm(r,s)?Rm(c,a):(r.flags=r.flags&-4097|2,Je=!1,an=r)}}else{if(jh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Je=!1,an=r}}}function Pm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;an=r}function gu(r){if(r!==an)return!1;if(!Je)return Pm(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Dh(r.type,r.memoizedProps)),s&&(s=ln)){if(jh(r))throw km(),Error(t(418));for(;s;)Rm(r,s),s=ci(s.nextSibling)}if(Pm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){ln=ci(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}ln=null}}else ln=an?ci(r.stateNode.nextSibling):null;return!0}function km(){for(var r=ln;r;)r=ci(r.nextSibling)}function go(){ln=an=null,Je=!1}function zh(r){Cn===null?Cn=[r]:Cn.push(r)}var wT=ue.ReactCurrentBatchConfig;function La(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(E){var S=d.refs;E===null?delete S[m]:S[m]=E},s._stringRef=m,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function yu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Nm(r){var s=r._init;return s(r._payload)}function xm(r){function s(F,V){if(r){var j=F.deletions;j===null?(F.deletions=[V],F.flags|=16):j.push(V)}}function a(F,V){if(!r)return null;for(;V!==null;)s(F,V),V=V.sibling;return null}function c(F,V){for(F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function d(F,V){return F=wi(F,V),F.index=0,F.sibling=null,F}function m(F,V,j){return F.index=j,r?(j=F.alternate,j!==null?(j=j.index,j<V?(F.flags|=2,V):j):(F.flags|=2,V)):(F.flags|=1048576,V)}function E(F){return r&&F.alternate===null&&(F.flags|=2),F}function S(F,V,j,ee){return V===null||V.tag!==6?(V=Vd(j,F.mode,ee),V.return=F,V):(V=d(V,j),V.return=F,V)}function P(F,V,j,ee){var de=j.type;return de===k?J(F,V,j.props.children,ee,j.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Dt&&Nm(de)===V.type)?(ee=d(V,j.props),ee.ref=La(F,V,j),ee.return=F,ee):(ee=Bu(j.type,j.key,j.props,null,F.mode,ee),ee.ref=La(F,V,j),ee.return=F,ee)}function z(F,V,j,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Od(j,F.mode,ee),V.return=F,V):(V=d(V,j.children||[]),V.return=F,V)}function J(F,V,j,ee,de){return V===null||V.tag!==7?(V=vs(j,F.mode,ee,de),V.return=F,V):(V=d(V,j),V.return=F,V)}function Z(F,V,j){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Vd(""+V,F.mode,j),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ee:return j=Bu(V.type,V.key,V.props,null,F.mode,j),j.ref=La(F,null,V),j.return=F,j;case Ae:return V=Od(V,F.mode,j),V.return=F,V;case Dt:var ee=V._init;return Z(F,ee(V._payload),j)}if(ot(V)||pe(V))return V=vs(V,F.mode,j,null),V.return=F,V;yu(F,V)}return null}function X(F,V,j,ee){var de=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return de!==null?null:S(F,V,""+j,ee);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ee:return j.key===de?P(F,V,j,ee):null;case Ae:return j.key===de?z(F,V,j,ee):null;case Dt:return de=j._init,X(F,V,de(j._payload),ee)}if(ot(j)||pe(j))return de!==null?null:J(F,V,j,ee,null);yu(F,j)}return null}function se(F,V,j,ee,de){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return F=F.get(j)||null,S(V,F,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ee:return F=F.get(ee.key===null?j:ee.key)||null,P(V,F,ee,de);case Ae:return F=F.get(ee.key===null?j:ee.key)||null,z(V,F,ee,de);case Dt:var me=ee._init;return se(F,V,j,me(ee._payload),de)}if(ot(ee)||pe(ee))return F=F.get(j)||null,J(V,F,ee,de,null);yu(V,ee)}return null}function ce(F,V,j,ee){for(var de=null,me=null,ge=V,ve=V=0,It=null;ge!==null&&ve<j.length;ve++){ge.index>ve?(It=ge,ge=null):It=ge.sibling;var be=X(F,ge,j[ve],ee);if(be===null){ge===null&&(ge=It);break}r&&ge&&be.alternate===null&&s(F,ge),V=m(be,V,ve),me===null?de=be:me.sibling=be,me=be,ge=It}if(ve===j.length)return a(F,ge),Je&&hs(F,ve),de;if(ge===null){for(;ve<j.length;ve++)ge=Z(F,j[ve],ee),ge!==null&&(V=m(ge,V,ve),me===null?de=ge:me.sibling=ge,me=ge);return Je&&hs(F,ve),de}for(ge=c(F,ge);ve<j.length;ve++)It=se(ge,F,ve,j[ve],ee),It!==null&&(r&&It.alternate!==null&&ge.delete(It.key===null?ve:It.key),V=m(It,V,ve),me===null?de=It:me.sibling=It,me=It);return r&&ge.forEach(function(Ti){return s(F,Ti)}),Je&&hs(F,ve),de}function he(F,V,j,ee){var de=pe(j);if(typeof de!="function")throw Error(t(150));if(j=de.call(j),j==null)throw Error(t(151));for(var me=de=null,ge=V,ve=V=0,It=null,be=j.next();ge!==null&&!be.done;ve++,be=j.next()){ge.index>ve?(It=ge,ge=null):It=ge.sibling;var Ti=X(F,ge,be.value,ee);if(Ti===null){ge===null&&(ge=It);break}r&&ge&&Ti.alternate===null&&s(F,ge),V=m(Ti,V,ve),me===null?de=Ti:me.sibling=Ti,me=Ti,ge=It}if(be.done)return a(F,ge),Je&&hs(F,ve),de;if(ge===null){for(;!be.done;ve++,be=j.next())be=Z(F,be.value,ee),be!==null&&(V=m(be,V,ve),me===null?de=be:me.sibling=be,me=be);return Je&&hs(F,ve),de}for(ge=c(F,ge);!be.done;ve++,be=j.next())be=se(ge,F,ve,be.value,ee),be!==null&&(r&&be.alternate!==null&&ge.delete(be.key===null?ve:be.key),V=m(be,V,ve),me===null?de=be:me.sibling=be,me=be);return r&&ge.forEach(function(eI){return s(F,eI)}),Je&&hs(F,ve),de}function lt(F,V,j,ee){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ee:e:{for(var de=j.key,me=V;me!==null;){if(me.key===de){if(de=j.type,de===k){if(me.tag===7){a(F,me.sibling),V=d(me,j.props.children),V.return=F,F=V;break e}}else if(me.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Dt&&Nm(de)===me.type){a(F,me.sibling),V=d(me,j.props),V.ref=La(F,me,j),V.return=F,F=V;break e}a(F,me);break}else s(F,me);me=me.sibling}j.type===k?(V=vs(j.props.children,F.mode,ee,j.key),V.return=F,F=V):(ee=Bu(j.type,j.key,j.props,null,F.mode,ee),ee.ref=La(F,V,j),ee.return=F,F=ee)}return E(F);case Ae:e:{for(me=j.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(F,V.sibling),V=d(V,j.children||[]),V.return=F,F=V;break e}else{a(F,V);break}else s(F,V);V=V.sibling}V=Od(j,F.mode,ee),V.return=F,F=V}return E(F);case Dt:return me=j._init,lt(F,V,me(j._payload),ee)}if(ot(j))return ce(F,V,j,ee);if(pe(j))return he(F,V,j,ee);yu(F,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,V!==null&&V.tag===6?(a(F,V.sibling),V=d(V,j),V.return=F,F=V):(a(F,V),V=Vd(j,F.mode,ee),V.return=F,F=V),E(F)):a(F,V)}return lt}var yo=xm(!0),Dm=xm(!1),_u=hi(null),vu=null,_o=null,qh=null;function Wh(){qh=_o=vu=null}function Hh(r){var s=_u.current;Qe(_u),r._currentValue=s}function $h(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function vo(r,s){vu=r,qh=_o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Kt=!0),r.firstContext=null)}function yn(r){var s=r._currentValue;if(qh!==r)if(r={context:r,memoizedValue:s,next:null},_o===null){if(vu===null)throw Error(t(308));_o=r,vu.dependencies={lanes:0,firstContext:r}}else _o=_o.next=r;return s}var ds=null;function Gh(r){ds===null?ds=[r]:ds.push(r)}function Vm(r,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Gh(s)):(a.next=d.next,d.next=a),s.interleaved=a,xr(r,c)}function xr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var pi=!1;function Kh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Om(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Dr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function mi(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Me&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,xr(r,a)}return d=c.interleaved,d===null?(s.next=s,Gh(c)):(s.next=d.next,d.next=s),c.interleaved=s,xr(r,a)}function Eu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ga(r,a)}}function Lm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function wu(r,s,a,c){var d=r.updateQueue;pi=!1;var m=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,z=P.next;P.next=null,E===null?m=z:E.next=z,E=P;var J=r.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==E&&(S===null?J.firstBaseUpdate=z:S.next=z,J.lastBaseUpdate=P))}if(m!==null){var Z=d.baseState;E=0,J=z=P=null,S=m;do{var X=S.lane,se=S.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:se,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ce=r,he=S;switch(X=s,se=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Z=ce.call(se,Z,X);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,X=typeof ce=="function"?ce.call(se,Z,X):ce,X==null)break e;Z=ae({},Z,X);break e;case 2:pi=!0}}S.callback!==null&&S.lane!==0&&(r.flags|=64,X=d.effects,X===null?d.effects=[S]:X.push(S))}else se={eventTime:se,lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(z=J=se,P=Z):J=J.next=se,E|=X;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(P=Z),d.baseState=P,d.firstBaseUpdate=z,d.lastBaseUpdate=J,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else m===null&&(d.shared.lanes=0);ms|=E,r.lanes=E,r.memoizedState=Z}}function Mm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Ma={},tr=hi(Ma),ba=hi(Ma),Fa=hi(Ma);function fs(r){if(r===Ma)throw Error(t(174));return r}function Qh(r,s){switch(He(Fa,s),He(ba,r),He(tr,Ma),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:js(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=js(s,r)}Qe(tr),He(tr,s)}function Eo(){Qe(tr),Qe(ba),Qe(Fa)}function bm(r){fs(Fa.current);var s=fs(tr.current),a=js(s,r.type);s!==a&&(He(ba,r),He(tr,a))}function Yh(r){ba.current===r&&(Qe(tr),Qe(ba))}var et=hi(0);function Tu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xh=[];function Jh(){for(var r=0;r<Xh.length;r++)Xh[r]._workInProgressVersionPrimary=null;Xh.length=0}var Iu=ue.ReactCurrentDispatcher,Zh=ue.ReactCurrentBatchConfig,ps=0,tt=null,yt=null,wt=null,Au=!1,Ua=!1,ja=0,TT=0;function Lt(){throw Error(t(321))}function ed(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Rn(r[a],s[a]))return!1;return!0}function td(r,s,a,c,d,m){if(ps=m,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Iu.current=r===null||r.memoizedState===null?RT:CT,r=a(c,d),Ua){m=0;do{if(Ua=!1,ja=0,25<=m)throw Error(t(301));m+=1,wt=yt=null,s.updateQueue=null,Iu.current=PT,r=a(c,d)}while(Ua)}if(Iu.current=Cu,s=yt!==null&&yt.next!==null,ps=0,wt=yt=tt=null,Au=!1,s)throw Error(t(300));return r}function nd(){var r=ja!==0;return ja=0,r}function nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?tt.memoizedState=wt=r:wt=wt.next=r,wt}function _n(){if(yt===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=wt===null?tt.memoizedState:wt.next;if(s!==null)wt=s,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},wt===null?tt.memoizedState=wt=r:wt=wt.next=r}return wt}function Ba(r,s){return typeof s=="function"?s(r):s}function rd(r){var s=_n(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=yt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var E=d.next;d.next=m.next,m.next=E}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var S=E=null,P=null,z=m;do{var J=z.lane;if((ps&J)===J)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:r(c,z.action);else{var Z={lane:J,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(S=P=Z,E=c):P=P.next=Z,tt.lanes|=J,ms|=J}z=z.next}while(z!==null&&z!==m);P===null?E=c:P.next=S,Rn(c,s.memoizedState)||(Kt=!0),s.memoizedState=c,s.baseState=E,s.baseQueue=P,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do m=d.lane,tt.lanes|=m,ms|=m,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function id(r){var s=_n(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do m=r(m,E.action),E=E.next;while(E!==d);Rn(m,s.memoizedState)||(Kt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function Fm(){}function Um(r,s){var a=tt,c=_n(),d=s(),m=!Rn(c.memoizedState,d);if(m&&(c.memoizedState=d,Kt=!0),c=c.queue,sd(zm.bind(null,a,c,r),[r]),c.getSnapshot!==s||m||wt!==null&&wt.memoizedState.tag&1){if(a.flags|=2048,za(9,Bm.bind(null,a,c,d,s),void 0,null),Tt===null)throw Error(t(349));(ps&30)!==0||jm(a,s,d)}return d}function jm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Bm(r,s,a,c){s.value=a,s.getSnapshot=c,qm(s)&&Wm(r)}function zm(r,s,a){return a(function(){qm(s)&&Wm(r)})}function qm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Rn(r,a)}catch{return!0}}function Wm(r){var s=xr(r,1);s!==null&&xn(s,r,1,-1)}function Hm(r){var s=nr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:r},s.queue=r,r=r.dispatch=ST.bind(null,tt,r),[s.memoizedState,r]}function za(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function $m(){return _n().memoizedState}function Su(r,s,a,c){var d=nr();tt.flags|=r,d.memoizedState=za(1|s,a,void 0,c===void 0?null:c)}function Ru(r,s,a,c){var d=_n();c=c===void 0?null:c;var m=void 0;if(yt!==null){var E=yt.memoizedState;if(m=E.destroy,c!==null&&ed(c,E.deps)){d.memoizedState=za(s,a,m,c);return}}tt.flags|=r,d.memoizedState=za(1|s,a,m,c)}function Gm(r,s){return Su(8390656,8,r,s)}function sd(r,s){return Ru(2048,8,r,s)}function Km(r,s){return Ru(4,2,r,s)}function Qm(r,s){return Ru(4,4,r,s)}function Ym(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Xm(r,s,a){return a=a!=null?a.concat([r]):null,Ru(4,4,Ym.bind(null,s,r),a)}function od(){}function Jm(r,s){var a=_n();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&ed(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function Zm(r,s){var a=_n();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&ed(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function eg(r,s,a){return(ps&21)===0?(r.baseState&&(r.baseState=!1,Kt=!0),r.memoizedState=a):(Rn(a,s)||(a=pa(),tt.lanes|=a,ms|=a,r.baseState=!0),s)}function IT(r,s){var a=Ve;Ve=a!==0&&4>a?a:4,r(!0);var c=Zh.transition;Zh.transition={};try{r(!1),s()}finally{Ve=a,Zh.transition=c}}function tg(){return _n().memoizedState}function AT(r,s,a){var c=vi(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},ng(r))rg(s,a);else if(a=Vm(r,s,a,c),a!==null){var d=Wt();xn(a,r,c,d),ig(a,s,c)}}function ST(r,s,a){var c=vi(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(ng(r))rg(s,d);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,S=m(E,a);if(d.hasEagerState=!0,d.eagerState=S,Rn(S,E)){var P=s.interleaved;P===null?(d.next=d,Gh(s)):(d.next=P.next,P.next=d),s.interleaved=d;return}}catch{}finally{}a=Vm(r,s,d,c),a!==null&&(d=Wt(),xn(a,r,c,d),ig(a,s,c))}}function ng(r){var s=r.alternate;return r===tt||s!==null&&s===tt}function rg(r,s){Ua=Au=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function ig(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ga(r,a)}}var Cu={readContext:yn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},RT={readContext:yn,useCallback:function(r,s){return nr().memoizedState=[r,s===void 0?null:s],r},useContext:yn,useEffect:Gm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Su(4194308,4,Ym.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Su(4194308,4,r,s)},useInsertionEffect:function(r,s){return Su(4,2,r,s)},useMemo:function(r,s){var a=nr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=nr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=AT.bind(null,tt,r),[c.memoizedState,r]},useRef:function(r){var s=nr();return r={current:r},s.memoizedState=r},useState:Hm,useDebugValue:od,useDeferredValue:function(r){return nr().memoizedState=r},useTransition:function(){var r=Hm(!1),s=r[0];return r=IT.bind(null,r[1]),nr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=tt,d=nr();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Tt===null)throw Error(t(349));(ps&30)!==0||jm(c,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,Gm(zm.bind(null,c,m,r),[r]),c.flags|=2048,za(9,Bm.bind(null,c,m,a,s),void 0,null),a},useId:function(){var r=nr(),s=Tt.identifierPrefix;if(Je){var a=Nr,c=kr;a=(c&~(1<<32-tn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=ja++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=TT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},CT={readContext:yn,useCallback:Jm,useContext:yn,useEffect:sd,useImperativeHandle:Xm,useInsertionEffect:Km,useLayoutEffect:Qm,useMemo:Zm,useReducer:rd,useRef:$m,useState:function(){return rd(Ba)},useDebugValue:od,useDeferredValue:function(r){var s=_n();return eg(s,yt.memoizedState,r)},useTransition:function(){var r=rd(Ba)[0],s=_n().memoizedState;return[r,s]},useMutableSource:Fm,useSyncExternalStore:Um,useId:tg,unstable_isNewReconciler:!1},PT={readContext:yn,useCallback:Jm,useContext:yn,useEffect:sd,useImperativeHandle:Xm,useInsertionEffect:Km,useLayoutEffect:Qm,useMemo:Zm,useReducer:id,useRef:$m,useState:function(){return id(Ba)},useDebugValue:od,useDeferredValue:function(r){var s=_n();return yt===null?s.memoizedState=r:eg(s,yt.memoizedState,r)},useTransition:function(){var r=id(Ba)[0],s=_n().memoizedState;return[r,s]},useMutableSource:Fm,useSyncExternalStore:Um,useId:tg,unstable_isNewReconciler:!1};function Pn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function ad(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:ae({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Pu={isMounted:function(r){return(r=r._reactInternals)?An(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=Wt(),d=vi(r),m=Dr(c,d);m.payload=s,a!=null&&(m.callback=a),s=mi(r,m,d),s!==null&&(xn(s,r,d,c),Eu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=Wt(),d=vi(r),m=Dr(c,d);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=mi(r,m,d),s!==null&&(xn(s,r,d,c),Eu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Wt(),c=vi(r),d=Dr(a,c);d.tag=2,s!=null&&(d.callback=s),s=mi(r,d,c),s!==null&&(xn(s,r,c,a),Eu(s,r,c))}};function sg(r,s,a,c,d,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,E):s.prototype&&s.prototype.isPureReactComponent?!Pa(a,c)||!Pa(d,m):!0}function og(r,s,a){var c=!1,d=di,m=s.contextType;return typeof m=="object"&&m!==null?m=yn(m):(d=Gt(s)?us:Ot.current,c=s.contextTypes,m=(c=c!=null)?fo(r,d):di),s=new s(a,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Pu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=m),s}function ag(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Pu.enqueueReplaceState(s,s.state,null)}function ld(r,s,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Kh(r);var m=s.contextType;typeof m=="object"&&m!==null?d.context=yn(m):(m=Gt(s)?us:Ot.current,d.context=fo(r,m)),d.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(ad(r,s,m,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Pu.enqueueReplaceState(d,d.state,null),wu(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function wo(r,s){try{var a="",c=s;do a+=Pe(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:d,digest:null}}function ud(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function cd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var kT=typeof WeakMap=="function"?WeakMap:Map;function lg(r,s,a){a=Dr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Lu||(Lu=!0,Sd=c),cd(r,s)},a}function ug(r,s,a){a=Dr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){cd(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){cd(r,s),typeof c!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function cg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new kT;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),r=qT.bind(null,r,s,a),s.then(r,r))}function hg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function dg(r,s,a,c,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Dr(-1,1),s.tag=2,mi(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var NT=ue.ReactCurrentOwner,Kt=!1;function qt(r,s,a,c){s.child=r===null?Dm(s,null,a,c):yo(s,r.child,a,c)}function fg(r,s,a,c,d){a=a.render;var m=s.ref;return vo(s,d),c=td(r,s,a,c,m,d),a=nd(),r!==null&&!Kt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Vr(r,s,d)):(Je&&a&&Fh(s),s.flags|=1,qt(r,s,c,d),s.child)}function pg(r,s,a,c,d){if(r===null){var m=a.type;return typeof m=="function"&&!Dd(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,mg(r,s,m,c,d)):(r=Bu(a.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&d)===0){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:Pa,a(E,c)&&r.ref===s.ref)return Vr(r,s,d)}return s.flags|=1,r=wi(m,c),r.ref=s.ref,r.return=s,s.child=r}function mg(r,s,a,c,d){if(r!==null){var m=r.memoizedProps;if(Pa(m,c)&&r.ref===s.ref)if(Kt=!1,s.pendingProps=c=m,(r.lanes&d)!==0)(r.flags&131072)!==0&&(Kt=!0);else return s.lanes=r.lanes,Vr(r,s,d)}return hd(r,s,a,c,d)}function gg(r,s,a){var c=s.pendingProps,d=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Io,un),un|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,He(Io,un),un|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,He(Io,un),un|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,He(Io,un),un|=c;return qt(r,s,d,a),s.child}function yg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function hd(r,s,a,c,d){var m=Gt(a)?us:Ot.current;return m=fo(s,m),vo(s,d),a=td(r,s,a,c,m,d),c=nd(),r!==null&&!Kt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Vr(r,s,d)):(Je&&c&&Fh(s),s.flags|=1,qt(r,s,a,d),s.child)}function _g(r,s,a,c,d){if(Gt(a)){var m=!0;du(s)}else m=!1;if(vo(s,d),s.stateNode===null)Nu(r,s),og(s,a,c),ld(s,a,c,d),c=!0;else if(r===null){var E=s.stateNode,S=s.memoizedProps;E.props=S;var P=E.context,z=a.contextType;typeof z=="object"&&z!==null?z=yn(z):(z=Gt(a)?us:Ot.current,z=fo(s,z));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function";Z||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(S!==c||P!==z)&&ag(s,E,c,z),pi=!1;var X=s.memoizedState;E.state=X,wu(s,c,E,d),P=s.memoizedState,S!==c||X!==P||$t.current||pi?(typeof J=="function"&&(ad(s,a,J,c),P=s.memoizedState),(S=pi||sg(s,a,S,c,X,P,z))?(Z||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),E.props=c,E.state=P,E.context=z,c=S):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{E=s.stateNode,Om(r,s),S=s.memoizedProps,z=s.type===s.elementType?S:Pn(s.type,S),E.props=z,Z=s.pendingProps,X=E.context,P=a.contextType,typeof P=="object"&&P!==null?P=yn(P):(P=Gt(a)?us:Ot.current,P=fo(s,P));var se=a.getDerivedStateFromProps;(J=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(S!==Z||X!==P)&&ag(s,E,c,P),pi=!1,X=s.memoizedState,E.state=X,wu(s,c,E,d);var ce=s.memoizedState;S!==Z||X!==ce||$t.current||pi?(typeof se=="function"&&(ad(s,a,se,c),ce=s.memoizedState),(z=pi||sg(s,a,z,c,X,ce,P)||!1)?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,ce,P),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,ce,P)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ce),E.props=c,E.state=ce,E.context=P,c=z):(typeof E.componentDidUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),c=!1)}return dd(r,s,a,c,m,d)}function dd(r,s,a,c,d,m){yg(r,s);var E=(s.flags&128)!==0;if(!c&&!E)return d&&Im(s,a,!1),Vr(r,s,m);c=s.stateNode,NT.current=s;var S=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&E?(s.child=yo(s,r.child,null,m),s.child=yo(s,null,S,m)):qt(r,s,S,m),s.memoizedState=c.state,d&&Im(s,a,!0),s.child}function vg(r){var s=r.stateNode;s.pendingContext?wm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&wm(r,s.context,!1),Qh(r,s.containerInfo)}function Eg(r,s,a,c,d){return go(),zh(d),s.flags|=256,qt(r,s,a,c),s.child}var fd={dehydrated:null,treeContext:null,retryLane:0};function pd(r){return{baseLanes:r,cachePool:null,transitions:null}}function wg(r,s,a){var c=s.pendingProps,d=et.current,m=!1,E=(s.flags&128)!==0,S;if((S=E)||(S=r!==null&&r.memoizedState===null?!1:(d&2)!==0),S?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),He(et,d&1),r===null)return Bh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=c.children,r=c.fallback,m?(c=s.mode,m=s.child,E={mode:"hidden",children:E},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=E):m=zu(E,c,0,null),r=vs(r,c,a,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=pd(a),s.memoizedState=fd,r):md(s,E));if(d=r.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return xT(r,s,E,c,S,d,a);if(m){m=c.fallback,E=s.mode,d=r.child,S=d.sibling;var P={mode:"hidden",children:c.children};return(E&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=P,s.deletions=null):(c=wi(d,P),c.subtreeFlags=d.subtreeFlags&14680064),S!==null?m=wi(S,m):(m=vs(m,E,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,E=r.child.memoizedState,E=E===null?pd(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},m.memoizedState=E,m.childLanes=r.childLanes&~a,s.memoizedState=fd,c}return m=r.child,r=m.sibling,c=wi(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function md(r,s){return s=zu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ku(r,s,a,c){return c!==null&&zh(c),yo(s,r.child,null,a),r=md(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function xT(r,s,a,c,d,m,E){if(a)return s.flags&256?(s.flags&=-257,c=ud(Error(t(422))),ku(r,s,E,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=c.fallback,d=s.mode,c=zu({mode:"visible",children:c.children},d,0,null),m=vs(m,d,E,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&yo(s,r.child,null,E),s.child.memoizedState=pd(E),s.memoizedState=fd,m);if((s.mode&1)===0)return ku(r,s,E,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var S=c.dgst;return c=S,m=Error(t(419)),c=ud(m,c,void 0),ku(r,s,E,c)}if(S=(E&r.childLanes)!==0,Kt||S){if(c=Tt,c!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|E))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,xr(r,d),xn(c,r,d,-1))}return xd(),c=ud(Error(t(421))),ku(r,s,E,c)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=WT.bind(null,r),d._reactRetry=s,null):(r=m.treeContext,ln=ci(d.nextSibling),an=s,Je=!0,Cn=null,r!==null&&(mn[gn++]=kr,mn[gn++]=Nr,mn[gn++]=cs,kr=r.id,Nr=r.overflow,cs=s),s=md(s,c.children),s.flags|=4096,s)}function Tg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),$h(r.return,s,a)}function gd(r,s,a,c,d){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Ig(r,s,a){var c=s.pendingProps,d=c.revealOrder,m=c.tail;if(qt(r,s,c.children,a),c=et.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Tg(r,a,s);else if(r.tag===19)Tg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(He(et,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&Tu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),gd(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Tu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}gd(s,!0,a,null,m);break;case"together":gd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Nu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Vr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ms|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=wi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=wi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function DT(r,s,a){switch(s.tag){case 3:vg(s),go();break;case 5:bm(s);break;case 1:Gt(s.type)&&du(s);break;case 4:Qh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;He(_u,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(He(et,et.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?wg(r,s,a):(He(et,et.current&1),r=Vr(r,s,a),r!==null?r.sibling:null);He(et,et.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Ig(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(et,et.current),c)break;return null;case 22:case 23:return s.lanes=0,gg(r,s,a)}return Vr(r,s,a)}var Ag,yd,Sg,Rg;Ag=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},yd=function(){},Sg=function(r,s,a,c){var d=r.memoizedProps;if(d!==c){r=s.stateNode,fs(tr.current);var m=null;switch(a){case"input":d=Fs(r,d),c=Fs(r,c),m=[];break;case"select":d=ae({},d,{value:void 0}),c=ae({},c,{value:void 0}),m=[];break;case"textarea":d=ra(r,d),c=ra(r,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=uu)}In(a,c);var E;a=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var S=d[z];for(E in S)S.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var P=c[z];if(S=d?.[z],c.hasOwnProperty(z)&&P!==S&&(P!=null||S!=null))if(z==="style")if(S){for(E in S)!S.hasOwnProperty(E)||P&&P.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in P)P.hasOwnProperty(E)&&S[E]!==P[E]&&(a||(a={}),a[E]=P[E])}else a||(m||(m=[]),m.push(z,a)),a=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(m=m||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&Ke("scroll",r),m||S===P||(m=[])):(m=m||[]).push(z,P))}a&&(m=m||[]).push("style",a);var z=m;(s.updateQueue=z)&&(s.flags|=4)}},Rg=function(r,s,a,c){a!==c&&(s.flags|=4)};function qa(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function VT(r,s,a){var c=s.pendingProps;switch(Uh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Gt(s.type)&&hu(),Mt(s),null;case 3:return c=s.stateNode,Eo(),Qe($t),Qe(Ot),Jh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(gu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cn!==null&&(Pd(Cn),Cn=null))),yd(r,s),Mt(s),null;case 5:Yh(s);var d=fs(Fa.current);if(a=s.type,r!==null&&s.stateNode!=null)Sg(r,s,a,c,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Mt(s),null}if(r=fs(tr.current),gu(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[er]=s,c[Va]=m,r=(s.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(d=0;d<Na.length;d++)Ke(Na[d],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":Ol(c,m),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ke("invalid",c);break;case"textarea":ia(c,m),Ke("invalid",c)}In(a,m),d=null;for(var E in m)if(m.hasOwnProperty(E)){var S=m[E];E==="children"?typeof S=="string"?c.textContent!==S&&(m.suppressHydrationWarning!==!0&&lu(c.textContent,S,r),d=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(m.suppressHydrationWarning!==!0&&lu(c.textContent,S,r),d=["children",""+S]):o.hasOwnProperty(E)&&S!=null&&E==="onScroll"&&Ke("scroll",c)}switch(a){case"input":bs(c),na(c,m,!0);break;case"textarea":bs(c),Kr(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=uu)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=sa(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=E.createElement(a,{is:c.is}):(r=E.createElement(a),a==="select"&&(E=r,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):r=E.createElementNS(r,a),r[er]=s,r[Va]=c,Ag(r,s,!1,!1),s.stateNode=r;e:{switch(E=zs(a,c),a){case"dialog":Ke("cancel",r),Ke("close",r),d=c;break;case"iframe":case"object":case"embed":Ke("load",r),d=c;break;case"video":case"audio":for(d=0;d<Na.length;d++)Ke(Na[d],r);d=c;break;case"source":Ke("error",r),d=c;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),d=c;break;case"details":Ke("toggle",r),d=c;break;case"input":Ol(r,c),d=Fs(r,c),Ke("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=ae({},c,{value:void 0}),Ke("invalid",r);break;case"textarea":ia(r,c),d=ra(r,c),Ke("invalid",r);break;default:d=c}In(a,d),S=d;for(m in S)if(S.hasOwnProperty(m)){var P=S[m];m==="style"?Bs(r,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Ml(r,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Ki(r,P):typeof P=="number"&&Ki(r,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&Ke("scroll",r):P!=null&&te(r,m,P,E))}switch(a){case"input":bs(r),na(r,c,!1);break;case"textarea":bs(r),Kr(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Le(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?Tn(r,!!c.multiple,m,!1):c.defaultValue!=null&&Tn(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=uu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(r&&s.stateNode!=null)Rg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=fs(Fa.current),fs(tr.current),gu(s)){if(c=s.stateNode,a=s.memoizedProps,c[er]=s,(m=c.nodeValue!==a)&&(r=an,r!==null))switch(r.tag){case 3:lu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&lu(c.nodeValue,a,(r.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[er]=s,s.stateNode=c}return Mt(s),null;case 13:if(Qe(et),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&ln!==null&&(s.mode&1)!==0&&(s.flags&128)===0)km(),go(),s.flags|=98560,m=!1;else if(m=gu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[er]=s}else go(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),m=!1}else Cn!==null&&(Pd(Cn),Cn=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(et.current&1)!==0?_t===0&&(_t=3):xd())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return Eo(),yd(r,s),r===null&&xa(s.stateNode.containerInfo),Mt(s),null;case 10:return Hh(s.type._context),Mt(s),null;case 17:return Gt(s.type)&&hu(),Mt(s),null;case 19:if(Qe(et),m=s.memoizedState,m===null)return Mt(s),null;if(c=(s.flags&128)!==0,E=m.rendering,E===null)if(c)qa(m,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Tu(r),E!==null){for(s.flags|=128,qa(m,!1),c=E.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,r=c,m.flags&=14680066,E=m.alternate,E===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=E.childLanes,m.lanes=E.lanes,m.child=E.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=E.memoizedProps,m.memoizedState=E.memoizedState,m.updateQueue=E.updateQueue,m.type=E.type,r=E.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return He(et,et.current&1|2),s.child}r=r.sibling}m.tail!==null&&Ge()>Ao&&(s.flags|=128,c=!0,qa(m,!1),s.lanes=4194304)}else{if(!c)if(r=Tu(E),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),qa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!Je)return Mt(s),null}else 2*Ge()-m.renderingStartTime>Ao&&a!==1073741824&&(s.flags|=128,c=!0,qa(m,!1),s.lanes=4194304);m.isBackwards?(E.sibling=s.child,s.child=E):(a=m.last,a!==null?a.sibling=E:s.child=E,m.last=E)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ge(),s.sibling=null,a=et.current,He(et,c?a&1|2:a&1),s):(Mt(s),null);case 22:case 23:return Nd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(un&1073741824)!==0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function OT(r,s){switch(Uh(s),s.tag){case 1:return Gt(s.type)&&hu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Eo(),Qe($t),Qe(Ot),Jh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Yh(s),null;case 13:if(Qe(et),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));go()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Qe(et),null;case 4:return Eo(),null;case 10:return Hh(s.type._context),null;case 22:case 23:return Nd(),null;case 24:return null;default:return null}}var xu=!1,bt=!1,LT=typeof WeakSet=="function"?WeakSet:Set,le=null;function To(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){it(r,s,c)}else a.current=null}function _d(r,s,a){try{a()}catch(c){it(r,s,c)}}var Cg=!1;function MT(r,s){if(Nh=Ar,r=sm(),Th(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,S=-1,P=-1,z=0,J=0,Z=r,X=null;t:for(;;){for(var se;Z!==a||d!==0&&Z.nodeType!==3||(S=E+d),Z!==m||c!==0&&Z.nodeType!==3||(P=E+c),Z.nodeType===3&&(E+=Z.nodeValue.length),(se=Z.firstChild)!==null;)X=Z,Z=se;for(;;){if(Z===r)break t;if(X===a&&++z===d&&(S=E),X===m&&++J===c&&(P=E),(se=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=se}a=S===-1||P===-1?null:{start:S,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(xh={focusedElem:r,selectionRange:a},Ar=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,lt=ce.memoizedState,F=s.stateNode,V=F.getSnapshotBeforeUpdate(s.elementType===s.type?he:Pn(s.type,he),lt);F.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){it(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return ce=Cg,Cg=!1,ce}function Wa(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var m=d.destroy;d.destroy=void 0,m!==void 0&&_d(s,a,m)}d=d.next}while(d!==c)}}function Du(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function vd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Pg(r){var s=r.alternate;s!==null&&(r.alternate=null,Pg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[er],delete s[Va],delete s[Lh],delete s[_T],delete s[vT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function kg(r){return r.tag===5||r.tag===3||r.tag===4}function Ng(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||kg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ed(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=uu));else if(c!==4&&(r=r.child,r!==null))for(Ed(r,s,a),r=r.sibling;r!==null;)Ed(r,s,a),r=r.sibling}function wd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(wd(r,s,a),r=r.sibling;r!==null;)wd(r,s,a),r=r.sibling}var Ct=null,kn=!1;function gi(r,s,a){for(a=a.child;a!==null;)xg(r,s,a),a=a.sibling}function xg(r,s,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Zi,a)}catch{}switch(a.tag){case 5:bt||To(a,s);case 6:var c=Ct,d=kn;Ct=null,gi(r,s,a),Ct=c,kn=d,Ct!==null&&(kn?(r=Ct,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ct.removeChild(a.stateNode));break;case 18:Ct!==null&&(kn?(r=Ct,a=a.stateNode,r.nodeType===8?Oh(r.parentNode,a):r.nodeType===1&&Oh(r,a),oi(r)):Oh(Ct,a.stateNode));break;case 4:c=Ct,d=kn,Ct=a.stateNode.containerInfo,kn=!0,gi(r,s,a),Ct=c,kn=d;break;case 0:case 11:case 14:case 15:if(!bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,E=m.destroy;m=m.tag,E!==void 0&&((m&2)!==0||(m&4)!==0)&&_d(a,s,E),d=d.next}while(d!==c)}gi(r,s,a);break;case 1:if(!bt&&(To(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){it(a,s,S)}gi(r,s,a);break;case 21:gi(r,s,a);break;case 22:a.mode&1?(bt=(c=bt)||a.memoizedState!==null,gi(r,s,a),bt=c):gi(r,s,a);break;default:gi(r,s,a)}}function Dg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new LT),s.forEach(function(c){var d=HT.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Nn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=r,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 5:Ct=S.stateNode,kn=!1;break e;case 3:Ct=S.stateNode.containerInfo,kn=!0;break e;case 4:Ct=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(Ct===null)throw Error(t(160));xg(m,E,d),Ct=null,kn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(z){it(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Vg(s,r),s=s.sibling}function Vg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Nn(s,r),rr(r),c&4){try{Wa(3,r,r.return),Du(3,r)}catch(he){it(r,r.return,he)}try{Wa(5,r,r.return)}catch(he){it(r,r.return,he)}}break;case 1:Nn(s,r),rr(r),c&512&&a!==null&&To(a,a.return);break;case 5:if(Nn(s,r),rr(r),c&512&&a!==null&&To(a,a.return),r.flags&32){var d=r.stateNode;try{Ki(d,"")}catch(he){it(r,r.return,he)}}if(c&4&&(d=r.stateNode,d!=null)){var m=r.memoizedProps,E=a!==null?a.memoizedProps:m,S=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{S==="input"&&m.type==="radio"&&m.name!=null&&Us(d,m),zs(S,E);var z=zs(S,m);for(E=0;E<P.length;E+=2){var J=P[E],Z=P[E+1];J==="style"?Bs(d,Z):J==="dangerouslySetInnerHTML"?Ml(d,Z):J==="children"?Ki(d,Z):te(d,J,Z,z)}switch(S){case"input":Gi(d,m);break;case"textarea":Ll(d,m);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?Tn(d,!!m.multiple,se,!1):X!==!!m.multiple&&(m.defaultValue!=null?Tn(d,!!m.multiple,m.defaultValue,!0):Tn(d,!!m.multiple,m.multiple?[]:"",!1))}d[Va]=m}catch(he){it(r,r.return,he)}}break;case 6:if(Nn(s,r),rr(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,m=r.memoizedProps;try{d.nodeValue=m}catch(he){it(r,r.return,he)}}break;case 3:if(Nn(s,r),rr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{oi(s.containerInfo)}catch(he){it(r,r.return,he)}break;case 4:Nn(s,r),rr(r);break;case 13:Nn(s,r),rr(r),d=r.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Ad=Ge())),c&4&&Dg(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?(bt=(z=bt)||J,Nn(s,r),bt=z):Nn(s,r),rr(r),c&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!J&&(r.mode&1)!==0)for(le=r,J=r.child;J!==null;){for(Z=le=J;le!==null;){switch(X=le,se=X.child,X.tag){case 0:case 11:case 14:case 15:Wa(4,X,X.return);break;case 1:To(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){c=X,a=X.return;try{s=c,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(he){it(c,a,he)}}break;case 5:To(X,X.return);break;case 22:if(X.memoizedState!==null){Mg(Z);continue}}se!==null?(se.return=X,le=se):Mg(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{d=Z.stateNode,z?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(S=Z.stateNode,P=Z.memoizedProps.style,E=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=Xr("display",E))}catch(he){it(r,r.return,he)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=z?"":Z.memoizedProps}catch(he){it(r,r.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Nn(s,r),rr(r),c&4&&Dg(r);break;case 21:break;default:Nn(s,r),rr(r)}}function rr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(kg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Ki(d,""),c.flags&=-33);var m=Ng(r);wd(r,m,d);break;case 3:case 4:var E=c.stateNode.containerInfo,S=Ng(r);Ed(r,S,E);break;default:throw Error(t(161))}}catch(P){it(r,r.return,P)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function bT(r,s,a){le=r,Og(r)}function Og(r,s,a){for(var c=(r.mode&1)!==0;le!==null;){var d=le,m=d.child;if(d.tag===22&&c){var E=d.memoizedState!==null||xu;if(!E){var S=d.alternate,P=S!==null&&S.memoizedState!==null||bt;S=xu;var z=bt;if(xu=E,(bt=P)&&!z)for(le=d;le!==null;)E=le,P=E.child,E.tag===22&&E.memoizedState!==null?bg(d):P!==null?(P.return=E,le=P):bg(d);for(;m!==null;)le=m,Og(m),m=m.sibling;le=d,xu=S,bt=z}Lg(r)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,le=m):Lg(r)}}function Lg(r){for(;le!==null;){var s=le;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:bt||Du(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!bt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Pn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Mm(s,m,c);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Mm(s,E,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var J=z.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&oi(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bt||s.flags&512&&vd(s)}catch(X){it(s,s.return,X)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function Mg(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function bg(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Du(4,s)}catch(P){it(s,a,P)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(P){it(s,d,P)}}var m=s.return;try{vd(s)}catch(P){it(s,m,P)}break;case 5:var E=s.return;try{vd(s)}catch(P){it(s,E,P)}}}catch(P){it(s,s.return,P)}if(s===r){le=null;break}var S=s.sibling;if(S!==null){S.return=s.return,le=S;break}le=s.return}}var FT=Math.ceil,Vu=ue.ReactCurrentDispatcher,Td=ue.ReactCurrentOwner,vn=ue.ReactCurrentBatchConfig,Me=0,Tt=null,ft=null,Pt=0,un=0,Io=hi(0),_t=0,Ha=null,ms=0,Ou=0,Id=0,$a=null,Qt=null,Ad=0,Ao=1/0,Or=null,Lu=!1,Sd=null,yi=null,Mu=!1,_i=null,bu=0,Ga=0,Rd=null,Fu=-1,Uu=0;function Wt(){return(Me&6)!==0?Ge():Fu!==-1?Fu:Fu=Ge()}function vi(r){return(r.mode&1)===0?1:(Me&2)!==0&&Pt!==0?Pt&-Pt:wT.transition!==null?(Uu===0&&(Uu=pa()),Uu):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Js(r.type)),r)}function xn(r,s,a,c){if(50<Ga)throw Ga=0,Rd=null,Error(t(185));rs(r,a,c),((Me&2)===0||r!==Tt)&&(r===Tt&&((Me&2)===0&&(Ou|=a),_t===4&&Ei(r,Pt)),Yt(r,c),a===1&&Me===0&&(s.mode&1)===0&&(Ao=Ge()+500,fu&&fi()))}function Yt(r,s){var a=r.callbackNode;ns(r,s);var c=wr(r,r===Tt?Pt:0);if(c===0)a!==null&&Hs(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Hs(a),s===1)r.tag===0?ET(Ug.bind(null,r)):Am(Ug.bind(null,r)),gT(function(){(Me&6)===0&&fi()}),a=null;else{switch(Wn(c)){case 1:a=$s;break;case 4:a=ha;break;case 16:a=Ji;break;case 536870912:a=Gs;break;default:a=Ji}a=Gg(a,Fg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Fg(r,s){if(Fu=-1,Uu=0,(Me&6)!==0)throw Error(t(327));var a=r.callbackNode;if(So()&&r.callbackNode!==a)return null;var c=wr(r,r===Tt?Pt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=ju(r,c);else{s=c;var d=Me;Me|=2;var m=Bg();(Tt!==r||Pt!==s)&&(Or=null,Ao=Ge()+500,ys(r,s));do try{BT();break}catch(S){jg(r,S)}while(!0);Wh(),Vu.current=m,Me=d,ft!==null?s=0:(Tt=null,Pt=0,s=_t)}if(s!==0){if(s===2&&(d=fa(r),d!==0&&(c=d,s=Cd(r,d))),s===1)throw a=Ha,ys(r,0),Ei(r,c),Yt(r,Ge()),a;if(s===6)Ei(r,c);else{if(d=r.current.alternate,(c&30)===0&&!UT(d)&&(s=ju(r,c),s===2&&(m=fa(r),m!==0&&(c=m,s=Cd(r,m))),s===1))throw a=Ha,ys(r,0),Ei(r,c),Yt(r,Ge()),a;switch(r.finishedWork=d,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:_s(r,Qt,Or);break;case 3:if(Ei(r,c),(c&130023424)===c&&(s=Ad+500-Ge(),10<s)){if(wr(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){Wt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Vh(_s.bind(null,r,Qt,Or),s);break}_s(r,Qt,Or);break;case 4:if(Ei(r,c),(c&4194240)===c)break;for(s=r.eventTimes,d=-1;0<c;){var E=31-tn(c);m=1<<E,E=s[E],E>d&&(d=E),c&=~m}if(c=d,c=Ge()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*FT(c/1960))-c,10<c){r.timeoutHandle=Vh(_s.bind(null,r,Qt,Or),c);break}_s(r,Qt,Or);break;case 5:_s(r,Qt,Or);break;default:throw Error(t(329))}}}return Yt(r,Ge()),r.callbackNode===a?Fg.bind(null,r):null}function Cd(r,s){var a=$a;return r.current.memoizedState.isDehydrated&&(ys(r,s).flags|=256),r=ju(r,s),r!==2&&(s=Qt,Qt=a,s!==null&&Pd(s)),r}function Pd(r){Qt===null?Qt=r:Qt.push.apply(Qt,r)}function UT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Rn(m(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ei(r,s){for(s&=~Id,s&=~Ou,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-tn(s),c=1<<a;r[a]=-1,s&=~c}}function Ug(r){if((Me&6)!==0)throw Error(t(327));So();var s=wr(r,0);if((s&1)===0)return Yt(r,Ge()),null;var a=ju(r,s);if(r.tag!==0&&a===2){var c=fa(r);c!==0&&(s=c,a=Cd(r,c))}if(a===1)throw a=Ha,ys(r,0),Ei(r,s),Yt(r,Ge()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,_s(r,Qt,Or),Yt(r,Ge()),null}function kd(r,s){var a=Me;Me|=1;try{return r(s)}finally{Me=a,Me===0&&(Ao=Ge()+500,fu&&fi())}}function gs(r){_i!==null&&_i.tag===0&&(Me&6)===0&&So();var s=Me;Me|=1;var a=vn.transition,c=Ve;try{if(vn.transition=null,Ve=1,r)return r()}finally{Ve=c,vn.transition=a,Me=s,(Me&6)===0&&fi()}}function Nd(){un=Io.current,Qe(Io)}function ys(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,mT(a)),ft!==null)for(a=ft.return;a!==null;){var c=a;switch(Uh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&hu();break;case 3:Eo(),Qe($t),Qe(Ot),Jh();break;case 5:Yh(c);break;case 4:Eo();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Hh(c.type._context);break;case 22:case 23:Nd()}a=a.return}if(Tt=r,ft=r=wi(r.current,null),Pt=un=s,_t=0,Ha=null,Id=Ou=ms=0,Qt=$a=null,ds!==null){for(s=0;s<ds.length;s++)if(a=ds[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var E=m.next;m.next=d,c.next=E}a.pending=c}ds=null}return r}function jg(r,s){do{var a=ft;try{if(Wh(),Iu.current=Cu,Au){for(var c=tt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Au=!1}if(ps=0,wt=yt=tt=null,Ua=!1,ja=0,Td.current=null,a===null||a.return===null){_t=1,Ha=s,ft=null;break}e:{var m=r,E=a.return,S=a,P=s;if(s=Pt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,J=S,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=hg(E);if(se!==null){se.flags&=-257,dg(se,E,S,m,s),se.mode&1&&cg(m,z,s),s=se,P=z;var ce=s.updateQueue;if(ce===null){var he=new Set;he.add(P),s.updateQueue=he}else ce.add(P);break e}else{if((s&1)===0){cg(m,z,s),xd();break e}P=Error(t(426))}}else if(Je&&S.mode&1){var lt=hg(E);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),dg(lt,E,S,m,s),zh(wo(P,S));break e}}m=P=wo(P,S),_t!==4&&(_t=2),$a===null?$a=[m]:$a.push(m),m=E;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var F=lg(m,P,s);Lm(m,F);break e;case 1:S=P;var V=m.type,j=m.stateNode;if((m.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(yi===null||!yi.has(j)))){m.flags|=65536,s&=-s,m.lanes|=s;var ee=ug(m,S,s);Lm(m,ee);break e}}m=m.return}while(m!==null)}qg(a)}catch(de){s=de,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function Bg(){var r=Vu.current;return Vu.current=Cu,r===null?Cu:r}function xd(){(_t===0||_t===3||_t===2)&&(_t=4),Tt===null||(ms&268435455)===0&&(Ou&268435455)===0||Ei(Tt,Pt)}function ju(r,s){var a=Me;Me|=2;var c=Bg();(Tt!==r||Pt!==s)&&(Or=null,ys(r,s));do try{jT();break}catch(d){jg(r,d)}while(!0);if(Wh(),Me=a,Vu.current=c,ft!==null)throw Error(t(261));return Tt=null,Pt=0,_t}function jT(){for(;ft!==null;)zg(ft)}function BT(){for(;ft!==null&&!Xi();)zg(ft)}function zg(r){var s=$g(r.alternate,r,un);r.memoizedProps=r.pendingProps,s===null?qg(r):ft=s,Td.current=null}function qg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=VT(a,s,un),a!==null){ft=a;return}}else{if(a=OT(a,s),a!==null){a.flags&=32767,ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ft=null;return}}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);_t===0&&(_t=5)}function _s(r,s,a){var c=Ve,d=vn.transition;try{vn.transition=null,Ve=1,zT(r,s,a,c)}finally{vn.transition=d,Ve=c}return null}function zT(r,s,a,c){do So();while(_i!==null);if((Me&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(yh(r,m),r===Tt&&(ft=Tt=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Mu||(Mu=!0,Gg(Ji,function(){return So(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=vn.transition,vn.transition=null;var E=Ve;Ve=1;var S=Me;Me|=4,Td.current=null,MT(r,a),Vg(a,r),lT(xh),Ar=!!Nh,xh=Nh=null,r.current=a,bT(a),Er(),Me=S,Ve=E,vn.transition=m}else r.current=a;if(Mu&&(Mu=!1,_i=r,bu=d),m=r.pendingLanes,m===0&&(yi=null),Gl(a.stateNode),Yt(r,Ge()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Lu)throw Lu=!1,r=Sd,Sd=null,r;return(bu&1)!==0&&r.tag!==0&&So(),m=r.pendingLanes,(m&1)!==0?r===Rd?Ga++:(Ga=0,Rd=r):Ga=0,fi(),null}function So(){if(_i!==null){var r=Wn(bu),s=vn.transition,a=Ve;try{if(vn.transition=null,Ve=16>r?16:r,_i===null)var c=!1;else{if(r=_i,_i=null,bu=0,(Me&6)!==0)throw Error(t(331));var d=Me;for(Me|=4,le=r.current;le!==null;){var m=le,E=m.child;if((le.flags&16)!==0){var S=m.deletions;if(S!==null){for(var P=0;P<S.length;P++){var z=S[P];for(le=z;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:Wa(8,J,m)}var Z=J.child;if(Z!==null)Z.return=J,le=Z;else for(;le!==null;){J=le;var X=J.sibling,se=J.return;if(Pg(J),J===z){le=null;break}if(X!==null){X.return=se,le=X;break}le=se}}}var ce=m.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var lt=he.sibling;he.sibling=null,he=lt}while(he!==null)}}le=m}}if((m.subtreeFlags&2064)!==0&&E!==null)E.return=m,le=E;else e:for(;le!==null;){if(m=le,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Wa(9,m,m.return)}var F=m.sibling;if(F!==null){F.return=m.return,le=F;break e}le=m.return}}var V=r.current;for(le=V;le!==null;){E=le;var j=E.child;if((E.subtreeFlags&2064)!==0&&j!==null)j.return=E,le=j;else e:for(E=V;le!==null;){if(S=le,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Du(9,S)}}catch(de){it(S,S.return,de)}if(S===E){le=null;break e}var ee=S.sibling;if(ee!==null){ee.return=S.return,le=ee;break e}le=S.return}}if(Me=d,fi(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Zi,r)}catch{}c=!0}return c}finally{Ve=a,vn.transition=s}}return!1}function Wg(r,s,a){s=wo(a,s),s=lg(r,s,1),r=mi(r,s,1),s=Wt(),r!==null&&(rs(r,1,s),Yt(r,s))}function it(r,s,a){if(r.tag===3)Wg(r,r,a);else for(;s!==null;){if(s.tag===3){Wg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(yi===null||!yi.has(c))){r=wo(a,r),r=ug(s,r,1),s=mi(s,r,1),r=Wt(),s!==null&&(rs(s,1,r),Yt(s,r));break}}s=s.return}}function qT(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=Wt(),r.pingedLanes|=r.suspendedLanes&a,Tt===r&&(Pt&a)===a&&(_t===4||_t===3&&(Pt&130023424)===Pt&&500>Ge()-Ad?ys(r,0):Id|=a),Yt(r,s)}function Hg(r,s){s===0&&((r.mode&1)===0?s=1:(s=ri,ri<<=1,(ri&130023424)===0&&(ri=4194304)));var a=Wt();r=xr(r,s),r!==null&&(rs(r,s,a),Yt(r,a))}function WT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Hg(r,a)}function HT(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Hg(r,a)}var $g;$g=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||$t.current)Kt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Kt=!1,DT(r,s,a);Kt=(r.flags&131072)!==0}else Kt=!1,Je&&(s.flags&1048576)!==0&&Sm(s,mu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Nu(r,s),r=s.pendingProps;var d=fo(s,Ot.current);vo(s,a),d=td(null,s,c,r,d,a);var m=nd();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Gt(c)?(m=!0,du(s)):m=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Kh(s),d.updater=Pu,s.stateNode=d,d._reactInternals=s,ld(s,c,r,a),s=dd(null,s,c,!0,m,a)):(s.tag=0,Je&&m&&Fh(s),qt(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Nu(r,s),r=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=GT(c),r=Pn(c,r),d){case 0:s=hd(null,s,c,r,a);break e;case 1:s=_g(null,s,c,r,a);break e;case 11:s=fg(null,s,c,r,a);break e;case 14:s=pg(null,s,c,Pn(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Pn(c,d),hd(r,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Pn(c,d),_g(r,s,c,d,a);case 3:e:{if(vg(s),r===null)throw Error(t(387));c=s.pendingProps,m=s.memoizedState,d=m.element,Om(r,s),wu(s,c,null,a);var E=s.memoizedState;if(c=E.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){d=wo(Error(t(423)),s),s=Eg(r,s,c,a,d);break e}else if(c!==d){d=wo(Error(t(424)),s),s=Eg(r,s,c,a,d);break e}else for(ln=ci(s.stateNode.containerInfo.firstChild),an=s,Je=!0,Cn=null,a=Dm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(go(),c===d){s=Vr(r,s,a);break e}qt(r,s,c,a)}s=s.child}return s;case 5:return bm(s),r===null&&Bh(s),c=s.type,d=s.pendingProps,m=r!==null?r.memoizedProps:null,E=d.children,Dh(c,d)?E=null:m!==null&&Dh(c,m)&&(s.flags|=32),yg(r,s),qt(r,s,E,a),s.child;case 6:return r===null&&Bh(s),null;case 13:return wg(r,s,a);case 4:return Qh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=yo(s,null,c,a):qt(r,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Pn(c,d),fg(r,s,c,d,a);case 7:return qt(r,s,s.pendingProps,a),s.child;case 8:return qt(r,s,s.pendingProps.children,a),s.child;case 12:return qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,m=s.memoizedProps,E=d.value,He(_u,c._currentValue),c._currentValue=E,m!==null)if(Rn(m.value,E)){if(m.children===d.children&&!$t.current){s=Vr(r,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var S=m.dependencies;if(S!==null){E=m.child;for(var P=S.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=Dr(-1,a&-a),P.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var J=z.pending;J===null?P.next=P:(P.next=J.next,J.next=P),z.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),$h(m.return,a,s),S.lanes|=a;break}P=P.next}}else if(m.tag===10)E=m.type===s.type?null:m.child;else if(m.tag===18){if(E=m.return,E===null)throw Error(t(341));E.lanes|=a,S=E.alternate,S!==null&&(S.lanes|=a),$h(E,a,s),E=m.sibling}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===s){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}qt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,vo(s,a),d=yn(d),c=c(d),s.flags|=1,qt(r,s,c,a),s.child;case 14:return c=s.type,d=Pn(c,s.pendingProps),d=Pn(c.type,d),pg(r,s,c,d,a);case 15:return mg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Pn(c,d),Nu(r,s),s.tag=1,Gt(c)?(r=!0,du(s)):r=!1,vo(s,a),og(s,c,d),ld(s,c,d,a),dd(null,s,c,!0,r,a);case 19:return Ig(r,s,a);case 22:return gg(r,s,a)}throw Error(t(156,s.tag))};function Gg(r,s){return ca(r,s)}function $T(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(r,s,a,c){return new $T(r,s,a,c)}function Dd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function GT(r){if(typeof r=="function")return Dd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===Et)return 14}return 2}function wi(r,s){var a=r.alternate;return a===null?(a=En(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Bu(r,s,a,c,d,m){var E=2;if(c=r,typeof r=="function")Dd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case k:return vs(a.children,d,m,s);case A:E=8,d|=8;break;case R:return r=En(12,a,s,d|2),r.elementType=R,r.lanes=m,r;case C:return r=En(13,a,s,d),r.elementType=C,r.lanes=m,r;case We:return r=En(19,a,s,d),r.elementType=We,r.lanes=m,r;case Xe:return zu(a,d,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break e;case N:E=9;break e;case b:E=11;break e;case Et:E=14;break e;case Dt:E=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=En(E,a,s,d),s.elementType=r,s.type=c,s.lanes=m,s}function vs(r,s,a,c){return r=En(7,r,c,s),r.lanes=a,r}function zu(r,s,a,c){return r=En(22,r,c,s),r.elementType=Xe,r.lanes=a,r.stateNode={isHidden:!1},r}function Vd(r,s,a){return r=En(6,r,null,s),r.lanes=a,r}function Od(r,s,a){return s=En(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function KT(r,s,a,c,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ma(0),this.expirationTimes=ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ld(r,s,a,c,d,m,E,S,P){return r=new KT(r,s,a,S,P),s===1?(s=1,m===!0&&(s|=8)):s=0,m=En(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(m),r}function QT(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function Kg(r){if(!r)return di;r=r._reactInternals;e:{if(An(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Gt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Gt(a))return Tm(r,a,s)}return s}function Qg(r,s,a,c,d,m,E,S,P){return r=Ld(a,c,!0,r,d,m,E,S,P),r.context=Kg(null),a=r.current,c=Wt(),d=vi(a),m=Dr(c,d),m.callback=s??null,mi(a,m,d),r.current.lanes=d,rs(r,d,c),Yt(r,c),r}function qu(r,s,a,c){var d=s.current,m=Wt(),E=vi(d);return a=Kg(a),s.context===null?s.context=a:s.pendingContext=a,s=Dr(m,E),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=mi(d,s,E),r!==null&&(xn(r,d,E,m),Eu(r,d,E)),E}function Wu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Yg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Md(r,s){Yg(r,s),(r=r.alternate)&&Yg(r,s)}function YT(){return null}var Xg=typeof reportError=="function"?reportError:function(r){console.error(r)};function bd(r){this._internalRoot=r}Hu.prototype.render=bd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));qu(r,s,null,null)},Hu.prototype.unmount=bd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;gs(function(){qu(null,r,null,null)}),s[Cr]=null}};function Hu(r){this._internalRoot=r}Hu.prototype.unstable_scheduleHydration=function(r){if(r){var s=va();r={blockedOn:null,target:r,priority:s};for(var a=0;a<nn.length&&s!==0&&s<nn[a].priority;a++);nn.splice(a,0,r),a===0&&Ys(r)}};function Fd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function $u(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Jg(){}function XT(r,s,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var z=Wu(E);m.call(z)}}var E=Qg(s,c,r,0,null,!1,!1,"",Jg);return r._reactRootContainer=E,r[Cr]=E.current,xa(r.nodeType===8?r.parentNode:r),gs(),E}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var S=c;c=function(){var z=Wu(P);S.call(z)}}var P=Ld(r,0,!1,null,null,!1,!1,"",Jg);return r._reactRootContainer=P,r[Cr]=P.current,xa(r.nodeType===8?r.parentNode:r),gs(function(){qu(s,P,a,c)}),P}function Gu(r,s,a,c,d){var m=a._reactRootContainer;if(m){var E=m;if(typeof d=="function"){var S=d;d=function(){var P=Wu(E);S.call(P)}}qu(s,E,r,d)}else E=XT(a,s,r,d,c);return Wu(E)}ya=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Fe(s.pendingLanes);a!==0&&(ga(s,a|1),Yt(s,Ge()),(Me&6)===0&&(Ao=Ge()+500,fi()))}break;case 13:gs(function(){var c=xr(r,1);if(c!==null){var d=Wt();xn(c,r,1,d)}}),Md(r,1)}},Ks=function(r){if(r.tag===13){var s=xr(r,134217728);if(s!==null){var a=Wt();xn(s,r,134217728,a)}Md(r,134217728)}},_a=function(r){if(r.tag===13){var s=vi(r),a=xr(r,s);if(a!==null){var c=Wt();xn(a,r,s,c)}Md(r,s)}},va=function(){return Ve},Ea=function(r,s){var a=Ve;try{return Ve=r,s()}finally{Ve=a}},yr=function(r,s,a){switch(s){case"input":if(Gi(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var d=cu(c);if(!d)throw Error(t(90));ta(c),Gi(c,d)}}}break;case"textarea":Ll(r,a);break;case"select":s=a.value,s!=null&&Tn(r,!!a.multiple,s,!1)}},Fl=kd,Ul=gs;var JT={usingClientEntryPoint:!1,Events:[Oa,co,cu,Zr,ei,kd]},Ka={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZT={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=$l(r),r===null?null:r.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||YT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Zi=Ku.inject(ZT),en=Ku}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JT,Xt.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fd(s))throw Error(t(200));return QT(r,s,null,a)},Xt.createRoot=function(r,s){if(!Fd(r))throw Error(t(299));var a=!1,c="",d=Xg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Ld(r,1,!1,null,null,a,!1,c,d),r[Cr]=s.current,xa(r.nodeType===8?r.parentNode:r),new bd(s)},Xt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=$l(s),r=r===null?null:r.stateNode,r},Xt.flushSync=function(r){return gs(r)},Xt.hydrate=function(r,s,a){if(!$u(s))throw Error(t(200));return Gu(null,r,s,!0,a)},Xt.hydrateRoot=function(r,s,a){if(!Fd(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",E=Xg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Qg(s,null,r,1,a??null,d,!1,m,E),r[Cr]=s.current,xa(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Hu(s)},Xt.render=function(r,s,a){if(!$u(s))throw Error(t(200));return Gu(null,r,s,!1,a)},Xt.unmountComponentAtNode=function(r){if(!$u(r))throw Error(t(40));return r._reactRootContainer?(gs(function(){Gu(null,null,r,!1,function(){r._reactRootContainer=null,r[Cr]=null})}),!0):!1},Xt.unstable_batchedUpdates=kd,Xt.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!$u(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Gu(r,s,a,!1,c)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var oy;function lI(){if(oy)return Bd.exports;oy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bd.exports=aI(),Bd.exports}var ay;function uI(){if(ay)return Qu;ay=1;var n=lI();return Qu.createRoot=n.createRoot,Qu.hydrateRoot=n.hydrateRoot,Qu}var cI=uI();const hI=()=>{};var ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},dI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},tv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,f=h?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=l>>2,w=(l&3)<<4|f>>4;let I=(f&15)<<2|y>>6,O=y&63;p||(O=64,h||(I=64)),i.push(t[v],t[w],t[I],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ev(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||w==null)throw new fI;const I=l<<2|f>>4;if(i.push(I),y!==64){const O=f<<4&240|y>>2;if(i.push(O),w!==64){const M=y<<6&192|w;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pI=function(n){const e=ev(n);return tv.encodeByteArray(e,!0)},gc=function(n){return pI(n).replace(/\./g,"")},nv=function(n){try{return tv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=()=>mI().__FIREBASE_DEFAULTS__,yI=()=>{if(typeof process>"u"||typeof ly>"u")return;const n=ly.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_I=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nv(n[1]);return e&&JSON.parse(e)},Bc=()=>{try{return hI()||gI()||yI()||_I()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rv=n=>Bc()?.emulatorHosts?.[n],iv=n=>{const e=rv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},sv=()=>Bc()?.config,ov=n=>Bc()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ff(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[gc(JSON.stringify(t)),gc(JSON.stringify(h)),""].join(".")}const il={};function EI(){const n={prod:[],emulator:[]};for(const e of Object.keys(il))il[e]?n.emulator.push(e):n.prod.push(e);return n}function wI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let uy=!1;function Uf(n,e){if(typeof window>"u"||typeof document>"u"||!xs(window.location.host)||il[n]===e||il[n]||uy)return;il[n]=e;function t(I){return`__firebase__banner__${I}`}const i="__firebase__banner",l=EI().prod.length>0;function h(){const I=document.getElementById(i);I&&I.remove()}function f(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,O){I.setAttribute("width","24"),I.setAttribute("id",O),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{uy=!0,h()},I}function v(I,O){I.setAttribute("id",O),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=wI(i),O=t("text"),M=document.getElementById(O)||document.createElement("span"),B=t("learnmore"),x=document.getElementById(B)||document.createElement("a"),K=t("preprendIcon"),Q=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const te=I.element;f(te),v(x,B);const ue=y();p(Q,K),te.append(Q,M,x,ue),document.body.appendChild(te)}l?(M.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function II(){const n=Bc()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function RI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CI(){const n=Bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PI(){return!II()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kI(){try{return typeof indexedDB=="object"}catch{return!1}}function NI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="FirebaseError";class pr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=xI,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?DI(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new pr(o,f,i)}}function DI(n,e){return n.replace(VI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const VI=/\{\$([^}]+)}/g;function OI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jr(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(cy(l)&&cy(h)){if(!jr(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function cy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Xa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ja(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function LI(n,e){const t=new MI(n,e);return t.subscribe.bind(t)}class MI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");bI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Wd),o.error===void 0&&(o.error=Wd),o.complete===void 0&&(o.complete=Wd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n){return n&&n._delegate?n._delegate:n}class Oi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new vI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UI(n){return n===Es?void 0:n}function jI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const zI={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},qI=Ne.INFO,WI={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},HI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=WI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jf{constructor(e){this.name=e,this._logLevel=qI,this._logHandler=HI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const $I=(n,e)=>e.some(t=>n instanceof t);let hy,dy;function GI(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KI(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lv=new WeakMap,lf=new WeakMap,uv=new WeakMap,Hd=new WeakMap,Bf=new WeakMap;function QI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Ni(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&lv.set(t,n)}).catch(()=>{}),Bf.set(e,n),e}function YI(n){if(lf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});lf.set(n,e)}let uf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return lf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XI(n){uf=n(uf)}function JI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call($d(this),e,...t);return uv.set(i,e.sort?e.sort():[e]),Ni(i)}:KI().includes(n)?function(...e){return n.apply($d(this),e),Ni(lv.get(this))}:function(...e){return Ni(n.apply($d(this),e))}}function ZI(n){return typeof n=="function"?JI(n):(n instanceof IDBTransaction&&YI(n),$I(n,GI())?new Proxy(n,uf):n)}function Ni(n){if(n instanceof IDBRequest)return QI(n);if(Hd.has(n))return Hd.get(n);const e=ZI(n);return e!==n&&(Hd.set(n,e),Bf.set(e,n)),e}const $d=n=>Bf.get(n);function eA(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),f=Ni(h);return i&&h.addEventListener("upgradeneeded",p=>{i(Ni(h.result),p.oldVersion,p.newVersion,Ni(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const tA=["get","getKey","getAll","getAllKeys","count"],nA=["put","add","delete","clear"],Gd=new Map;function fy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=nA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||tA.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Gd.set(e,l),l}XI(n=>({...n,get:(e,t,i)=>fy(e,t)||n.get(e,t,i),has:(e,t)=>!!fy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function iA(n){return n.getComponent()?.type==="VERSION"}const cf="@firebase/app",py="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new jf("@firebase/app"),sA="@firebase/app-compat",oA="@firebase/analytics-compat",aA="@firebase/analytics",lA="@firebase/app-check-compat",uA="@firebase/app-check",cA="@firebase/auth",hA="@firebase/auth-compat",dA="@firebase/database",fA="@firebase/data-connect",pA="@firebase/database-compat",mA="@firebase/functions",gA="@firebase/functions-compat",yA="@firebase/installations",_A="@firebase/installations-compat",vA="@firebase/messaging",EA="@firebase/messaging-compat",wA="@firebase/performance",TA="@firebase/performance-compat",IA="@firebase/remote-config",AA="@firebase/remote-config-compat",SA="@firebase/storage",RA="@firebase/storage-compat",CA="@firebase/firestore",PA="@firebase/ai",kA="@firebase/firestore-compat",NA="firebase",xA="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="[DEFAULT]",DA={[cf]:"fire-core",[sA]:"fire-core-compat",[aA]:"fire-analytics",[oA]:"fire-analytics-compat",[uA]:"fire-app-check",[lA]:"fire-app-check-compat",[cA]:"fire-auth",[hA]:"fire-auth-compat",[dA]:"fire-rtdb",[fA]:"fire-data-connect",[pA]:"fire-rtdb-compat",[mA]:"fire-fn",[gA]:"fire-fn-compat",[yA]:"fire-iid",[_A]:"fire-iid-compat",[vA]:"fire-fcm",[EA]:"fire-fcm-compat",[wA]:"fire-perf",[TA]:"fire-perf-compat",[IA]:"fire-rc",[AA]:"fire-rc-compat",[SA]:"fire-gcs",[RA]:"fire-gcs-compat",[CA]:"fire-fst",[kA]:"fire-fst-compat",[PA]:"fire-vertex","fire-js":"fire-js",[NA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,VA=new Map,df=new Map;function my(n,e){try{n.container.addComponent(e)}catch(t){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rs(n){const e=n.name;if(df.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;df.set(e,n);for(const t of yc.values())my(t,n);for(const t of VA.values())my(t,n);return!0}function zc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new El("app","Firebase",OA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=xA;function cv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:hf,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw xi.create("bad-app-name",{appName:String(o)});if(t||(t=sv()),!t)throw xi.create("no-options");const l=yc.get(o);if(l){if(jr(t,l.options)&&jr(i,l.config))return l;throw xi.create("duplicate-app",{appName:o})}const h=new BI(o);for(const p of df.values())h.addComponent(p);const f=new LA(t,i,h);return yc.set(o,f),f}function zf(n=hf){const e=yc.get(n);if(!e&&n===hf&&sv())return cv();if(!e)throw xi.create("no-app",{appName:n});return e}function sr(n,e,t){let i=DA[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(h.join(" "));return}Rs(new Oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebase-heartbeat-database",bA=1,hl="firebase-heartbeat-store";let Kd=null;function hv(){return Kd||(Kd=eA(MA,bA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hl)}catch(t){console.warn(t)}}}}).catch(n=>{throw xi.create("idb-open",{originalErrorMessage:n.message})})),Kd}async function FA(n){try{const t=(await hv()).transaction(hl),i=await t.objectStore(hl).get(dv(n));return await t.done,i}catch(e){if(e instanceof pr)Br.warn(e.message);else{const t=xi.create("idb-get",{originalErrorMessage:e?.message});Br.warn(t.message)}}}async function gy(n,e){try{const i=(await hv()).transaction(hl,"readwrite");await i.objectStore(hl).put(e,dv(n)),await i.done}catch(t){if(t instanceof pr)Br.warn(t.message);else{const i=xi.create("idb-set",{originalErrorMessage:t?.message});Br.warn(i.message)}}}function dv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=1024,jA=30;class BA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>jA){const o=WA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yy(),{heartbeatsToSend:t,unsentEntries:i}=zA(this._heartbeatsCache.heartbeats),o=gc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Br.warn(e),""}}}function yy(){return new Date().toISOString().substring(0,10)}function zA(n,e=UA){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),_y(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),_y(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class qA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kI()?NI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await FA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _y(n){return gc(JSON.stringify({version:2,heartbeats:n})).length}function WA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n){Rs(new Oi("platform-logger",e=>new rA(e),"PRIVATE")),Rs(new Oi("heartbeat",e=>new BA(e),"PRIVATE")),sr(cf,py,n),sr(cf,py,"esm2020"),sr("fire-js","")}HA("");var $A="firebase",GA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr($A,GA,"app");function fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KA=fv,pv=new El("auth","Firebase",fv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new jf("@firebase/auth");function QA(n,...e){_c.logLevel<=Ne.WARN&&_c.warn(`Auth (${Ds}): ${n}`,...e)}function ic(n,...e){_c.logLevel<=Ne.ERROR&&_c.error(`Auth (${Ds}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(n,...e){throw qf(n,...e)}function or(n,...e){return qf(n,...e)}function mv(n,e,t){const i={...KA(),[e]:t};return new El("auth","Firebase",i).create(e,{appName:n.name})}function br(n){return mv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return pv.create(n,...e)}function ye(n,e,...t){if(!n)throw qf(e,...t)}function Lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ic(e),new Error(e)}function zr(n,e){n||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(){return typeof self<"u"&&self.location?.href||""}function YA(){return vy()==="http:"||vy()==="https:"}function vy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YA()||SI()||"connection"in navigator)?navigator.onLine:!0}function JA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t){this.shortDelay=e,this.longDelay=t,zr(t>e,"Short delay should be less than long delay!"),this.isMobile=TI()||RI()}get(){return XA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(n,e){zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t0=new Tl(3e4,6e4);function zi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $r(n,e,t,i,o={}){return yv(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=wl({key:n.config.apiKey,...h}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:p,...l};return AI()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&xs(n.emulatorConfig.host)&&(y.credentials="include"),gv.fetch()(await _v(n,n.config.apiHost,t,f),y)})}async function yv(n,e,t){n._canInitEmulator=!1;const i={...ZA,...e};try{const o=new r0(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Yu(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Yu(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Yu(n,"user-disabled",h);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw mv(n,v,y);Mn(n,v)}}catch(o){if(o instanceof pr)throw o;Mn(n,"network-request-failed",{message:String(o)})}}async function Il(n,e,t,i,o={}){const l=await $r(n,e,t,i,o);return"mfaPendingCredential"in l&&Mn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function _v(n,e,t,i){const o=`${e}${t}?${i}`,l=n,h=l.config.emulator?Wf(n.config,o):`${n.config.apiScheme}://${o}`;return e0.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function n0(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r0{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(or(this.auth,"network-request-failed")),t0.get())})}}function Yu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=or(n,e,i);return o.customData._tokenResponse=t,o}function Ey(n){return n!==void 0&&n.enterprise!==void 0}class i0{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return n0(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function s0(n,e){return $r(n,"GET","/v2/recaptchaConfig",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(n,e){return $r(n,"POST","/v1/accounts:delete",e)}async function vc(n,e){return $r(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a0(n,e=!1){const t=ct(n),i=await t.getIdToken(e),o=Hf(i);ye(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:i,authTime:sl(Qd(o.auth_time)),issuedAtTime:sl(Qd(o.iat)),expirationTime:sl(Qd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Qd(n){return Number(n)*1e3}function Hf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=nv(t);return o?JSON.parse(o):(ic("Failed to decode base64 JWT payload"),null)}catch(o){return ic("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wy(n){const e=Hf(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pr&&l0(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function l0({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(n){const e=n.auth,t=await n.getIdToken(),i=await Lo(n,vc(e,{idToken:t}));ye(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?vv(o.providerUserInfo):[],h=h0(n.providerData,l),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!h?.length,y=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new pf(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function c0(n){const e=ct(n);await Ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h0(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function vv(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(n,e){const t=await yv(n,{},async()=>{const i=wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=await _v(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&xs(n.emulatorConfig.host)&&(p.credentials="include"),gv.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function f0(n,e){return $r(n,"POST","/v2/accounts:revokeToken",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=wy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await d0(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new xo;return i&&(ye(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(ye(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(ye(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n,e){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dn{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new u0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return a0(this,e)}reload(){return c0(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ec(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await Lo(this,o0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:I,isAnonymous:O,providerData:M,stsTokenManager:B}=t;ye(w&&B,e,"internal-error");const x=xo.fromJSON(this.name,B);ye(typeof w=="string",e,"internal-error"),Ii(i,e.name),Ii(o,e.name),ye(typeof I=="boolean",e,"internal-error"),ye(typeof O=="boolean",e,"internal-error"),Ii(l,e.name),Ii(h,e.name),Ii(f,e.name),Ii(p,e.name),Ii(y,e.name),Ii(v,e.name);const K=new Dn({uid:w,auth:e,email:o,emailVerified:I,displayName:i,isAnonymous:O,photoURL:h,phoneNumber:l,tenantId:f,stsTokenManager:x,createdAt:y,lastLoginAt:v});return M&&Array.isArray(M)&&(K.providerData=M.map(Q=>({...Q}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,t,i=!1){const o=new xo;o.updateFromServerResponse(t);const l=new Dn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ec(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];ye(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?vv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,f=new xo;f.updateFromIdToken(i);const p=new Dn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new pf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new Map;function Mr(n){zr(n instanceof Function,"Expected a class definition");let e=Ty.get(n);return e?(zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ty.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ev.type="NONE";const Iy=Ev;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n,e,t){return`firebase:${n}:${e}:${t}`}class Do{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=sc(this.userKey,o.apiKey,l),this.fullPersistenceKey=sc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vc(this.auth,{idToken:e}).catch(()=>{});return t?Dn._fromGetAccountInfoResponse(this.auth,t,e):null}return Dn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Do(Mr(Iy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Mr(Iy);const h=sc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const v=await y._get(h);if(v){let w;if(typeof v=="string"){const I=await vc(e,{idToken:v}).catch(()=>{});if(!I)break;w=await Dn._fromGetAccountInfoResponse(e,I,v)}else w=Dn._fromJSON(e,v);y!==l&&(f=w),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Do(l,e,i):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new Do(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Av(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rv(e))return"Blackberry";if(Cv(e))return"Webos";if(Tv(e))return"Safari";if((e.includes("chrome/")||Iv(e))&&!e.includes("edge/"))return"Chrome";if(Sv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function wv(n=Bt()){return/firefox\//i.test(n)}function Tv(n=Bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iv(n=Bt()){return/crios\//i.test(n)}function Av(n=Bt()){return/iemobile/i.test(n)}function Sv(n=Bt()){return/android/i.test(n)}function Rv(n=Bt()){return/blackberry/i.test(n)}function Cv(n=Bt()){return/webos/i.test(n)}function $f(n=Bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function p0(n=Bt()){return $f(n)&&!!window.navigator?.standalone}function m0(){return CI()&&document.documentMode===10}function Pv(n=Bt()){return $f(n)||Sv(n)||Cv(n)||Rv(n)||/windows phone/i.test(n)||Av(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n,e=[]){let t;switch(n){case"Browser":t=Ay(Bt());break;case"Worker":t=`${Ay(Bt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ds}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0(n,e={}){return $r(n,"GET","/v2/passwordPolicy",zi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=6;class v0{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_0,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sy(this),this.idTokenSubscription=new Sy(this),this.beforeStateQueue=new g0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vc(this,{idToken:e}),i=await Dn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(cn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,h=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===h)&&f?.user&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ec(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cn(this.app))return Promise.reject(br(this));const t=e?ct(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y0(this),t=new v0(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await f0(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mr(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&QA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vs(n){return ct(n)}class Sy{constructor(e){this.auth=e,this.observer=null,this.addObserver=LI(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w0(n){qc=n}function Nv(n){return qc.loadJS(n)}function T0(){return qc.recaptchaEnterpriseScript}function I0(){return qc.gapiScript}function A0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class S0{constructor(){this.enterprise=new R0}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class R0{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const C0="recaptcha-enterprise",xv="NO_RECAPTCHA";class P0{constructor(e){this.type=C0,this.auth=Vs(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{s0(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new i0(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,h(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,h,f){const p=window.grecaptcha;Ey(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{h(y)}).catch(()=>{h(xv)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S0().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{i(this.auth).then(f=>{if(!t&&Ey(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=T0();p.length!==0&&(p+=f),Nv(p).then(()=>{o(f,l,h)}).catch(y=>{h(y)})}}).catch(f=>{h(f)})})}}async function Ry(n,e,t,i=!1,o=!1){const l=new P0(n);let h;if(o)h=xv;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function mf(n,e,t,i,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ry(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Ry(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n,e){const t=zc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(jr(l,e??{}))return o;Mn(o,"already-initialized")}return t.initialize({options:e})}function N0(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Mr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function x0(n,e,t){const i=Vs(n);ye(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Dv(e),{host:h,port:f}=D0(e),p=f===null?"":`:${f}`,y={url:`${l}//${h}${p}/`},v=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){ye(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ye(jr(y,i.config.emulator)&&jr(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,xs(h)?(Ff(`${l}//${h}${p}`),Uf("Auth",!0)):V0()}function Dv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function D0(n){const e=Dv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Cy(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:Cy(h)}}}function Cy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function V0(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}async function O0(n,e){return $r(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L0(n,e){return Il(n,"POST","/v1/accounts:signInWithPassword",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(n,e){return Il(n,"POST","/v1/accounts:signInWithEmailLink",zi(n,e))}async function b0(n,e){return Il(n,"POST","/v1/accounts:signInWithEmailLink",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Gf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new dl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new dl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mf(e,t,"signInWithPassword",L0);case"emailLink":return M0(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mf(e,i,"signUpPassword",O0);case"emailLink":return b0(e,{idToken:t,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,e){return Il(n,"POST","/v1/accounts:signInWithIdp",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="http://localhost";class Cs extends Gf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const h=new Cs(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Vo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:F0,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j0(n){const e=Xa(Ja(n)).link,t=e?Xa(Ja(e)).deep_link_id:null,i=Xa(Ja(n)).deep_link_id;return(i?Xa(Ja(i)).link:null)||i||t||e||n}class Kf{constructor(e){const t=Xa(Ja(e)),i=t.apiKey??null,o=t.oobCode??null,l=U0(t.mode??null);ye(i&&o&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=j0(e);try{return new Kf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,t){return dl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Kf.parseLink(t);return ye(i,"argument-error"),dl._fromEmailAndCode(e,i.code,i.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Vv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Al{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ri.credential(t,i)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Al{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Al{constructor(){super("twitter.com")}static credential(e,t){return Cs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Pi.credential(t,i)}catch{return null}}}Pi.TWITTER_SIGN_IN_METHOD="twitter.com";Pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B0(n,e){return Il(n,"POST","/v1/accounts:signUp",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Dn._fromIdTokenResponse(e,i,o),h=Py(i);return new Ps({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Py(i);return new Ps({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Py(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends pr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new wc(e,t,i,o)}}function Ov(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wc._fromErrorAndOperation(n,l,e,i):l})}async function z0(n,e,t=!1){const i=await Lo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ps._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(n,e,t=!1){const{auth:i}=n;if(cn(i.app))return Promise.reject(br(i));const o="reauthenticate";try{const l=await Lo(n,Ov(i,o,e,n),t);ye(l.idToken,i,"internal-error");const h=Hf(l.idToken);ye(h,i,"internal-error");const{sub:f}=h;return ye(n.uid===f,i,"user-mismatch"),Ps._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Mn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lv(n,e,t=!1){if(cn(n.app))return Promise.reject(br(n));const i="signIn",o=await Ov(n,i,e),l=await Ps._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function W0(n,e){return Lv(Vs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mv(n){const e=Vs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function H0(n,e,t){if(cn(n.app))return Promise.reject(br(n));const i=Vs(n),h=await mf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B0).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Mv(n),p}),f=await Ps._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(f.user),f}function $0(n,e,t){return cn(n.app)?Promise.reject(br(n)):W0(ct(n),Wo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Mv(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0(n,e){return $r(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=ct(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Lo(i,G0(i.auth,l));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const f=i.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function Q0(n,e,t,i){return ct(n).onIdTokenChanged(e,t,i)}function Y0(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function X0(n,e,t,i){return ct(n).onAuthStateChanged(e,t,i)}function J0(n){return ct(n).signOut()}const Tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=1e3,eS=10;class Fv extends bv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);m0()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eS):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Z0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fv.type="LOCAL";const tS=Fv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv extends bv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Uv.type="SESSION";const jv=Uv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Wc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),p=await nS(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const y=Qf("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(I.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function iS(n){ar().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function sS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oS(){return navigator?.serviceWorker?.controller||null}function aS(){return Bv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="firebaseLocalStorageDb",lS=1,Ic="firebaseLocalStorage",qv="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hc(n,e){return n.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function uS(){const n=indexedDB.deleteDatabase(zv);return new Sl(n).toPromise()}function gf(){const n=indexedDB.open(zv,lS);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ic,{keyPath:qv})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ic)?e(i):(i.close(),await uS(),e(await gf()))})})}async function ky(n,e,t){const i=Hc(n,!0).put({[qv]:e,value:t});return new Sl(i).toPromise()}async function cS(n,e){const t=Hc(n,!1).get(e),i=await new Sl(t).toPromise();return i===void 0?null:i.value}function Ny(n,e){const t=Hc(n,!0).delete(e);return new Sl(t).toPromise()}const hS=800,dS=3;class Wv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>dS)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(aS()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sS(),!this.activeServiceWorker)return;this.sender=new rS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gf();return await ky(e,Tc,"1"),await Ny(e,Tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ky(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>cS(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ny(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Hc(o,!1).getAll();return new Sl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wv.type="LOCAL";const fS=Wv;new Tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n,e){return e?Mr(e):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends Gf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mS(n){return Lv(n.auth,new Yf(n),n.bypassAuthState)}function gS(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),q0(t,new Yf(n),n.bypassAuthState)}async function yS(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),z0(t,new Yf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mS;case"linkViaPopup":case"linkViaRedirect":return yS;case"reauthViaPopup":case"reauthViaRedirect":return gS;default:Mn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Tl(2e3,1e4);class No extends Hv{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=Qf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_S.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="pendingRedirect",oc=new Map;class ES extends Hv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=oc.get(this.auth._key());if(!e){try{const i=await wS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}oc.set(this.auth._key(),e)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wS(n,e){const t=AS(e),i=IS(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function TS(n,e){oc.set(n._key(),e)}function IS(n){return Mr(n._redirectPersistence)}function AS(n){return sc(vS,n.config.apiKey,n.name)}async function SS(n,e,t=!1){if(cn(n.app))return Promise.reject(br(n));const i=Vs(n),o=pS(i,e),h=await new ES(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=600*1e3;class CS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!$v(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(or(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RS&&this.cachedEventUids.clear(),this.cachedEventUids.has(xy(e))}saveEventToCache(e){this.cachedEventUids.add(xy(e)),this.lastProcessedEventTime=Date.now()}}function xy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $v({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function PS(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $v(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(n,e={}){return $r(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xS=/^https?/;async function DS(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kS(n);for(const t of e)try{if(VS(t))return}catch{}Mn(n,"unauthorized-domain")}function VS(n){const e=ff(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!xS.test(t))return!1;if(NS.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new Tl(3e4,6e4);function Dy(){const n=ar().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LS(n){return new Promise((e,t)=>{function i(){Dy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dy(),t(or(n,"network-request-failed"))},timeout:OS.get()})}if(ar().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ar().gapi?.load)i();else{const o=A0("iframefcb");return ar()[o]=()=>{gapi.load?i():t(or(n,"network-request-failed"))},Nv(`${I0()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw ac=null,e})}let ac=null;function MS(n){return ac=ac||LS(n),ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new Tl(5e3,15e3),FS="__/auth/iframe",US="emulator/auth/iframe",jS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zS(n){const e=n.config;ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Wf(e,US):`https://${n.config.authDomain}/${FS}`,i={apiKey:e.apiKey,appName:n.name,v:Ds},o=BS.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${wl(i).slice(1)}`}async function qS(n){const e=await MS(n),t=ar().gapi;return ye(t,n,"internal-error"),e.open({where:document.body,url:zS(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jS,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=or(n,"network-request-failed"),f=ar().setTimeout(()=>{l(h)},bS.get());function p(){ar().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HS=500,$S=600,GS="_blank",KS="http://localhost";class Vy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QS(n,e,t,i=HS,o=$S){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...WS,width:i.toString(),height:o.toString(),top:l,left:h},y=Bt().toLowerCase();t&&(f=Iv(y)?GS:t),wv(y)&&(e=e||KS,p.scrollbars="yes");const v=Object.entries(p).reduce((I,[O,M])=>`${I}${O}=${M},`,"");if(p0(y)&&f!=="_self")return YS(e||"",f),new Vy(null);const w=window.open(e||"",f,v);ye(w,n,"popup-blocked");try{w.focus()}catch{}return new Vy(w)}function YS(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="__/auth/handler",JS="emulator/auth/handler",ZS=encodeURIComponent("fac");async function Oy(n,e,t,i,o,l){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ds,eventId:o};if(e instanceof Vv){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",OI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))h[v]=w}if(e instanceof Al){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(h.scopes=v.join(","))}n.tenantId&&(h.tid=n.tenantId);const f=h;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await n._getAppCheckToken(),y=p?`#${ZS}=${encodeURIComponent(p)}`:"";return`${eR(n)}?${wl(f).slice(1)}${y}`}function eR({config:n}){return n.emulator?Wf(n,JS):`https://${n.authDomain}/${XS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="webStorageSupport";class tR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jv,this._completeRedirectFn=SS,this._overrideRedirectResult=TS}async _openPopup(e,t,i,o){zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Oy(e,t,i,ff(),o);return QS(e,l,Qf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Oy(e,t,i,ff(),o);return iS(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(zr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await qS(e),i=new CS(e);return t.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yd,{type:Yd},o=>{const l=o?.[0]?.[Yd];l!==void 0&&t(!!l),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pv()||Tv()||$f()}}const nR=tR;var Ly="@firebase/auth",My="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sR(n){Rs(new Oi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;ye(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kv(n)},y=new E0(i,o,l,p);return N0(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Rs(new Oi("auth-internal",e=>{const t=Vs(e.getProvider("auth").getImmediate());return(i=>new rR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(Ly,My,iR(n)),sr(Ly,My,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=300,aR=ov("authIdTokenMaxAge")||oR;let by=null;const lR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>aR)return;const o=t?.token;by!==o&&(by=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uR(n=zf()){const e=zc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=k0(n,{popupRedirectResolver:nR,persistence:[fS,tS,jv]}),i=ov("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=lR(l.toString());Y0(t,h,()=>h(t.currentUser)),Q0(t,f=>h(f))}}const o=rv("auth");return o&&x0(t,`http://${o}`),t}function cR(){return document.getElementsByTagName("head")?.[0]??document}w0({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=or("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",cR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sR("Browser");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,Gv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function R(){}R.prototype=A.prototype,k.F=A.prototype,k.prototype=new R,k.prototype.constructor=k,k.D=function(D,N,b){for(var C=Array(arguments.length-2),We=2;We<arguments.length;We++)C[We-2]=arguments[We];return A.prototype[N].apply(D,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,R){R||(R=0);const D=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)D[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)D[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=k.g[0],R=k.g[1],N=k.g[2];let b=k.g[3],C;C=A+(b^R&(N^b))+D[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=b+(N^A&(R^N))+D[1]+3905402710&4294967295,b=A+(C<<12&4294967295|C>>>20),C=N+(R^b&(A^R))+D[2]+606105819&4294967295,N=b+(C<<17&4294967295|C>>>15),C=R+(A^N&(b^A))+D[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=A+(b^R&(N^b))+D[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=b+(N^A&(R^N))+D[5]+1200080426&4294967295,b=A+(C<<12&4294967295|C>>>20),C=N+(R^b&(A^R))+D[6]+2821735955&4294967295,N=b+(C<<17&4294967295|C>>>15),C=R+(A^N&(b^A))+D[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=A+(b^R&(N^b))+D[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=b+(N^A&(R^N))+D[9]+2336552879&4294967295,b=A+(C<<12&4294967295|C>>>20),C=N+(R^b&(A^R))+D[10]+4294925233&4294967295,N=b+(C<<17&4294967295|C>>>15),C=R+(A^N&(b^A))+D[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=A+(b^R&(N^b))+D[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=b+(N^A&(R^N))+D[13]+4254626195&4294967295,b=A+(C<<12&4294967295|C>>>20),C=N+(R^b&(A^R))+D[14]+2792965006&4294967295,N=b+(C<<17&4294967295|C>>>15),C=R+(A^N&(b^A))+D[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=A+(N^b&(R^N))+D[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=b+(R^N&(A^R))+D[6]+3225465664&4294967295,b=A+(C<<9&4294967295|C>>>23),C=N+(A^R&(b^A))+D[11]+643717713&4294967295,N=b+(C<<14&4294967295|C>>>18),C=R+(b^A&(N^b))+D[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=A+(N^b&(R^N))+D[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=b+(R^N&(A^R))+D[10]+38016083&4294967295,b=A+(C<<9&4294967295|C>>>23),C=N+(A^R&(b^A))+D[15]+3634488961&4294967295,N=b+(C<<14&4294967295|C>>>18),C=R+(b^A&(N^b))+D[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=A+(N^b&(R^N))+D[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=b+(R^N&(A^R))+D[14]+3275163606&4294967295,b=A+(C<<9&4294967295|C>>>23),C=N+(A^R&(b^A))+D[3]+4107603335&4294967295,N=b+(C<<14&4294967295|C>>>18),C=R+(b^A&(N^b))+D[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=A+(N^b&(R^N))+D[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=b+(R^N&(A^R))+D[2]+4243563512&4294967295,b=A+(C<<9&4294967295|C>>>23),C=N+(A^R&(b^A))+D[7]+1735328473&4294967295,N=b+(C<<14&4294967295|C>>>18),C=R+(b^A&(N^b))+D[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=A+(R^N^b)+D[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=b+(A^R^N)+D[8]+2272392833&4294967295,b=A+(C<<11&4294967295|C>>>21),C=N+(b^A^R)+D[11]+1839030562&4294967295,N=b+(C<<16&4294967295|C>>>16),C=R+(N^b^A)+D[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=A+(R^N^b)+D[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=b+(A^R^N)+D[4]+1272893353&4294967295,b=A+(C<<11&4294967295|C>>>21),C=N+(b^A^R)+D[7]+4139469664&4294967295,N=b+(C<<16&4294967295|C>>>16),C=R+(N^b^A)+D[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=A+(R^N^b)+D[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=b+(A^R^N)+D[0]+3936430074&4294967295,b=A+(C<<11&4294967295|C>>>21),C=N+(b^A^R)+D[3]+3572445317&4294967295,N=b+(C<<16&4294967295|C>>>16),C=R+(N^b^A)+D[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=A+(R^N^b)+D[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=b+(A^R^N)+D[12]+3873151461&4294967295,b=A+(C<<11&4294967295|C>>>21),C=N+(b^A^R)+D[15]+530742520&4294967295,N=b+(C<<16&4294967295|C>>>16),C=R+(N^b^A)+D[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=A+(N^(R|~b))+D[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=b+(R^(A|~N))+D[7]+1126891415&4294967295,b=A+(C<<10&4294967295|C>>>22),C=N+(A^(b|~R))+D[14]+2878612391&4294967295,N=b+(C<<15&4294967295|C>>>17),C=R+(b^(N|~A))+D[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=A+(N^(R|~b))+D[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=b+(R^(A|~N))+D[3]+2399980690&4294967295,b=A+(C<<10&4294967295|C>>>22),C=N+(A^(b|~R))+D[10]+4293915773&4294967295,N=b+(C<<15&4294967295|C>>>17),C=R+(b^(N|~A))+D[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=A+(N^(R|~b))+D[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=b+(R^(A|~N))+D[15]+4264355552&4294967295,b=A+(C<<10&4294967295|C>>>22),C=N+(A^(b|~R))+D[6]+2734768916&4294967295,N=b+(C<<15&4294967295|C>>>17),C=R+(b^(N|~A))+D[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=A+(N^(R|~b))+D[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=b+(R^(A|~N))+D[11]+3174756917&4294967295,b=A+(C<<10&4294967295|C>>>22),C=N+(A^(b|~R))+D[2]+718787259&4294967295,N=b+(C<<15&4294967295|C>>>17),C=R+(b^(N|~A))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+b&4294967295}i.prototype.v=function(k,A){A===void 0&&(A=k.length);const R=A-this.blockSize,D=this.C;let N=this.h,b=0;for(;b<A;){if(N==0)for(;b<=R;)o(this,k,b),b+=this.blockSize;if(typeof k=="string"){for(;b<A;)if(D[N++]=k.charCodeAt(b++),N==this.blockSize){o(this,D),N=0;break}}else for(;b<A;)if(D[N++]=k[b++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=A},i.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;A=this.o*8;for(var R=k.length-8;R<k.length;++R)k[R]=A&255,A/=256;for(this.v(k),k=Array(16),A=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)k[A++]=this.g[R]>>>D&255;return k};function l(k,A){var R=f;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=A(k)}function h(k,A){this.h=A;const R=[];let D=!0;for(let N=k.length-1;N>=0;N--){const b=k[N]|0;D&&b==A||(R[N]=b,D=!1)}this.g=R}var f={};function p(k){return-128<=k&&k<128?l(k,function(A){return new h([A|0],A<0?-1:0)}):new h([k|0],k<0?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return w;if(k<0)return x(y(-k));const A=[];let R=1;for(let D=0;k>=R;D++)A[D]=k/R|0,R*=4294967296;return new h(A,0)}function v(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return x(v(k.substring(1),A));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let D=w;for(let b=0;b<k.length;b+=8){var N=Math.min(8,k.length-b);const C=parseInt(k.substring(b,b+N),A);N<8?(N=y(Math.pow(A,N)),D=D.j(N).add(y(C))):(D=D.j(R),D=D.add(y(C)))}return D}var w=p(0),I=p(1),O=p(16777216);n=h.prototype,n.m=function(){if(B(this))return-x(this).m();let k=0,A=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);k+=(D>=0?D:4294967296+D)*A,A*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(B(this))return"-"+x(this).toString(k);const A=y(Math.pow(k,6));var R=this;let D="";for(;;){const N=ue(R,A).g;R=K(R,N.j(A));let b=((R.g.length>0?R.g[0]:R.h)>>>0).toString(k);if(R=N,M(R))return b+D;for(;b.length<6;)b="0"+b;D=b+D}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(let A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function B(k){return k.h==-1}n.l=function(k){return k=K(this,k),B(k)?-1:M(k)?0:1};function x(k){const A=k.g.length,R=[];for(let D=0;D<A;D++)R[D]=~k.g[D];return new h(R,~k.h).add(I)}n.abs=function(){return B(this)?x(this):this},n.add=function(k){const A=Math.max(this.g.length,k.g.length),R=[];let D=0;for(let N=0;N<=A;N++){let b=D+(this.i(N)&65535)+(k.i(N)&65535),C=(b>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);D=C>>>16,b&=65535,C&=65535,R[N]=C<<16|b}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(k,A){return k.add(x(A))}n.j=function(k){if(M(this)||M(k))return w;if(B(this))return B(k)?x(this).j(x(k)):x(x(this).j(k));if(B(k))return x(this.j(x(k)));if(this.l(O)<0&&k.l(O)<0)return y(this.m()*k.m());const A=this.g.length+k.g.length,R=[];for(var D=0;D<2*A;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<k.g.length;N++){const b=this.i(D)>>>16,C=this.i(D)&65535,We=k.i(N)>>>16,Et=k.i(N)&65535;R[2*D+2*N]+=C*Et,Q(R,2*D+2*N),R[2*D+2*N+1]+=b*Et,Q(R,2*D+2*N+1),R[2*D+2*N+1]+=C*We,Q(R,2*D+2*N+1),R[2*D+2*N+2]+=b*We,Q(R,2*D+2*N+2)}for(k=0;k<A;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=A;k<2*A;k++)R[k]=0;return new h(R,0)};function Q(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function te(k,A){this.g=k,this.h=A}function ue(k,A){if(M(A))throw Error("division by zero");if(M(k))return new te(w,w);if(B(k))return A=ue(x(k),A),new te(x(A.g),x(A.h));if(B(A))return A=ue(k,x(A)),new te(x(A.g),A.h);if(k.g.length>30){if(B(k)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var R=I,D=A;D.l(k)<=0;)R=Ee(R),D=Ee(D);var N=Ae(R,1),b=Ae(D,1);for(D=Ae(D,2),R=Ae(R,2);!M(D);){var C=b.add(D);C.l(k)<=0&&(N=N.add(R),b=C),D=Ae(D,1),R=Ae(R,1)}return A=K(k,N.j(A)),new te(N,A)}for(N=w;k.l(A)>=0;){for(R=Math.max(1,Math.floor(k.m()/A.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),b=y(R),C=b.j(A);B(C)||C.l(k)>0;)R-=D,b=y(R),C=b.j(A);M(b)&&(b=I),N=N.add(b),k=K(k,C)}return new te(N,k)}n.B=function(k){return ue(this,k).h},n.and=function(k){const A=Math.max(this.g.length,k.g.length),R=[];for(let D=0;D<A;D++)R[D]=this.i(D)&k.i(D);return new h(R,this.h&k.h)},n.or=function(k){const A=Math.max(this.g.length,k.g.length),R=[];for(let D=0;D<A;D++)R[D]=this.i(D)|k.i(D);return new h(R,this.h|k.h)},n.xor=function(k){const A=Math.max(this.g.length,k.g.length),R=[];for(let D=0;D<A;D++)R[D]=this.i(D)^k.i(D);return new h(R,this.h^k.h)};function Ee(k){const A=k.g.length+1,R=[];for(let D=0;D<A;D++)R[D]=k.i(D)<<1|k.i(D-1)>>>31;return new h(R,k.h)}function Ae(k,A){const R=A>>5;A%=32;const D=k.g.length-R,N=[];for(let b=0;b<D;b++)N[b]=A>0?k.i(b+R)>>>A|k.i(b+R+1)<<32-A:k.i(b+R);return new h(N,k.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Gv=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,Di=h}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kv,Za,Qv,lc,yf,Yv,Xv,Jv;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break e;_=_[U]}u=u[u.length-1],T=_[u],g=g(T),g!=T&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var _=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&_.push([T,g[T]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function f(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function p(u,g,_){return u.call.apply(u.bind,arguments)}function y(u,g,_){return y=p,y.apply(null,arguments)}function v(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,W){for(var ne=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)ne[Te-2]=arguments[Te];return g.prototype[U].apply(T,ne)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function O(u){const g=u.length;if(g>0){const _=Array(g);for(let T=0;T<g;T++)_[T]=u[T];return _}return[]}function M(u,g){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const W=U.length||0;u.length=_+W;for(let ne=0;ne<W;ne++)u[_+ne]=U[ne]}else u.push(U)}}class B{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(u){h.setTimeout(()=>{throw u},0)}function K(){var u=k;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Q{constructor(){this.h=this.g=null}add(g,_){const T=te.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var te=new B(()=>new ue,u=>u.reset());class ue{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Ae=!1,k=new Q,A=()=>{const u=Promise.resolve(void 0);Ee=()=>{u.then(R)}};function R(){for(var u;u=K();){try{u.h.call(u.g)}catch(_){x(_)}var g=te;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}Ae=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function We(u,g){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}w(We,N),We.prototype.init=function(u,g){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),Dt=0;function Xe(u,g,_,T,U){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=U,this.key=++Dt,this.da=this.fa=!1}function re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u,g,_){for(const T in u)g.call(_,u[T],T,u)}function ae(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function L(u){const g={};for(const _ in u)g[_]=u[_];return g}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(u,g){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let W=0;W<Y.length;W++)_=Y[W],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function Re(u){this.src=u,this.g={},this.h=0}Re.prototype.add=function(u,g,_,T,U){const W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);const ne=ke(u,g,T,U);return ne>-1?(g=u[ne],_||(g.fa=!1)):(g=new Xe(g,this.src,W,!!T,U),g.fa=_,u.push(g)),g};function Pe(u,g){const _=g.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,g,void 0),W;(W=U>=0)&&Array.prototype.splice.call(T,U,1),W&&(re(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ke(u,g,_,T){for(let U=0;U<u.length;++U){const W=u[U];if(!W.da&&W.listener==g&&W.capture==!!_&&W.ha==T)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Le={};function ze(u,g,_,T,U){if(Array.isArray(g)){for(let W=0;W<g.length;W++)ze(u,g[W],_,T,U);return null}return _=na(_),u&&u[Et]?u.J(g,_,f(T)?!!T.capture:!1,U):zt(u,g,_,!1,T,U)}function zt(u,g,_,T,U,W){if(!g)throw Error("Invalid event type");const ne=f(U)?!!U.capture:!!U;let Te=Us(u);if(Te||(u[Ue]=Te=new Re(u)),_=Te.add(g,_,T,ne,W),_.proxy)return _;if(T=bs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)b||(U=ne),U===void 0&&(U=!1),u.addEventListener(g.toString(),T,U);else if(u.attachEvent)u.attachEvent(Fs(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function bs(){function u(_){return g.call(u.src,u.listener,_)}const g=Ol;return u}function ta(u,g,_,T,U){if(Array.isArray(g))for(var W=0;W<g.length;W++)ta(u,g[W],_,T,U);else T=f(T)?!!T.capture:!!T,_=na(_),u&&u[Et]?(u=u.i,W=String(g).toString(),W in u.g&&(g=u.g[W],_=ke(g,_,T,U),_>-1&&(re(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[W],u.h--)))):u&&(u=Us(u))&&(g=u.g[g.toString()],u=-1,g&&(u=ke(g,_,T,U)),(_=u>-1?g[u]:null)&&Gr(_))}function Gr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Et])Pe(g.i,u);else{var _=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(_,T,u.capture):g.detachEvent?g.detachEvent(Fs(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=Us(g))?(Pe(_,u),_.h==0&&(_.src=null,g[Ue]=null)):re(u)}}}function Fs(u){return u in Le?Le[u]:Le[u]="on"+u}function Ol(u,g){if(u.da)u=!0;else{g=new We(g,this);const _=u.listener,T=u.ha||u.src;u.fa&&Gr(u),u=_.call(T,g)}return u}function Us(u){return u=u[Ue],u instanceof Re?u:null}var Gi="__closure_events_fn_"+(Math.random()*1e9>>>0);function na(u){return typeof u=="function"?u:(u[Gi]||(u[Gi]=function(g){return u.handleEvent(g)}),u[Gi])}function ht(){D.call(this),this.i=new Re(this),this.M=this,this.G=null}w(ht,D),ht.prototype[Et]=!0,ht.prototype.removeEventListener=function(u,g,_,T){ta(this,u,g,_,T)};function ot(u,g){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new N(g,u);else if(g instanceof N)g.target=g.target||u;else{var U=g;g=new N(T,u),Se(g,U)}U=!0;let W,ne;if(_)for(ne=_.length-1;ne>=0;ne--)W=g.g=_[ne],U=Tn(W,T,!0,g)&&U;if(W=g.g=u,U=Tn(W,T,!0,g)&&U,U=Tn(W,T,!1,g)&&U,_)for(ne=0;ne<_.length;ne++)W=g.g=_[ne],U=Tn(W,T,!1,g)&&U}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let T=0;T<_.length;T++)re(_[T]);delete u.g[g],u.h--}}this.G=null},ht.prototype.J=function(u,g,_,T){return this.i.add(String(u),g,!1,_,T)},ht.prototype.K=function(u,g,_,T){return this.i.add(String(u),g,!0,_,T)};function Tn(u,g,_,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let W=0;W<g.length;++W){const ne=g[W];if(ne&&!ne.da&&ne.capture==_){const Te=ne.listener,at=ne.ha||ne.src;ne.fa&&Pe(u.i,ne),U=Te.call(at,T)!==!1&&U}}return U&&!T.defaultPrevented}function ra(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:h.setTimeout(u,g||0)}function ia(u){u.g=ra(()=>{u.g=null,u.i&&(u.i=!1,ia(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Ll extends D{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ia(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){D.call(this),this.h=u,this.g={}}w(Kr,D);var sa=[];function js(u){pe(u.g,function(g,_){this.g.hasOwnProperty(_)&&Gr(g)},u),u.g={}}Kr.prototype.N=function(){Kr.Z.N.call(this),js(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qr=h.JSON.stringify,Ml=h.JSON.parse,Ki=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Yr(){}function bl(){}var Xr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bs(){N.call(this,"d")}w(Bs,N);function oa(){N.call(this,"c")}w(oa,N);var In={},zs=null;function Jr(){return zs=zs||new ht}In.Ia="serverreachability";function qs(u){N.call(this,In.Ia,u)}w(qs,N);function yr(u){const g=Jr();ot(g,new qs(g))}In.STAT_EVENT="statevent";function _r(u,g){N.call(this,In.STAT_EVENT,u),this.stat=g}w(_r,N);function rt(u){const g=Jr();ot(g,new _r(g,u))}In.Ja="timingevent";function aa(u,g){N.call(this,In.Ja,u),this.size=g}w(aa,N);function Zr(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Fl(u,g,_,T,U,W){u.info(function(){if(u.g)if(W){var ne="",Te=W.split("&");for(let Be=0;Be<Te.length;Be++){var at=Te[Be].split("=");if(at.length>1){const dt=at[0];at=at[1];const on=dt.split("_");ne=on.length>=2&&on[1]=="type"?ne+(dt+"="+at+"&"):ne+(dt+"=redacted&")}}}else ne=null;else ne=W;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+g+`
`+_+`
`+ne})}function Ul(u,g,_,T,U,W,ne){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+g+`
`+_+`
`+W+" "+ne})}function jn(u,g,_,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Qi(u,_)+(T?" "+T:"")})}function jl(u,g){u.info(function(){return"TIMEOUT: "+g})}ei.prototype.info=function(){};function Qi(u,g){if(!u.g)return g;if(!g)return null;try{const W=JSON.parse(g);if(W){for(u=0;u<W.length;u++)if(Array.isArray(W[u])){var _=W[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<T.length;ne++)T[ne]=""}}}}return Qr(W)}catch{return g}}var ti={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ni={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bl;function vr(){}w(vr,Yr),vr.prototype.g=function(){return new XMLHttpRequest},Bl=new vr;function Bn(u){return encodeURIComponent(String(u))}function Ws(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function fn(u,g,_,T){this.j=u,this.i=g,this.l=_,this.S=T||1,this.V=new Kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zl}function zl(){this.i=null,this.g="",this.h=!1}var ql={},la={};function An(u,g,_){u.M=1,u.A=wr(pn(g)),u.u=_,u.R=!0,ua(u,null)}function ua(u,g){u.F=Date.now(),Yi(u),u.B=pn(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),va(_.i,"t",T),u.C=0,_=u.j.L,u.h=new zl,u.g=Zl(u.j,_?g:null,!u.u),u.P>0&&(u.O=new Ll(y(u.Y,u,u.g),u.P)),g=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(sa[0]=U.toString()),U=sa);for(let W=0;W<U.length;W++){const ne=ze(_,U[W],T||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=u.J?L(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),yr(),Fl(u.i,u.v,u.B,u.l,u.S,u.u)}fn.prototype.ba=function(u){u=u.target;const g=this.O;g&&Kn(u)==3?g.j():this.Y(u)},fn.prototype.Y=function(u){try{if(u==this.g)e:{const Te=Kn(this.g),at=this.g.ya(),Be=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||Xl(this.g)))){this.K||Te!=4||at==7||(at==8||Be<=0?yr(3):yr(2)),Hs(this);var g=this.g.ca();this.X=g;var _=Wl(this);if(this.o=g==200,Ul(this.i,this.v,this.B,this.l,this.S,Te,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var W=T;break t}}W=null}if(u=W)jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ge(this,u);else{this.o=!1,this.m=3,rt(12),Er(this),Xi(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<_.length;)if(dt=$l(this,_),dt==la){Te==4&&(this.m=4,rt(14),u=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==ql){this.m=4,rt(15),jn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else jn(this.i,this.l,dt,null),Ge(this,dt);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||_.length!=0||this.h.h||(this.m=1,rt(16),u=!1),this.o=this.o&&u,!u)jn(this.i,this.l,_,"[Invalid Chunked Response]"),Er(this),Xi(this);else if(_.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),os(ne),ne.P=!0,rt(11))}}else jn(this.i,this.l,_,null),Ge(this,_);Te==4&&Er(this),this.o&&!this.K&&(Te==4?to(this.j,this):(this.o=!1,Yi(this)))}else wa(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,rt(12)):(this.m=0,rt(13)),Er(this),Xi(this)}}}catch{}finally{}};function Wl(u){if(!Hl(u))return u.g.la();const g=Xl(u.g);if(g==="")return"";let _="";const T=g.length,U=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Er(u),Xi(u),"";u.h.i=new h.TextDecoder}for(let W=0;W<T;W++)u.h.h=!0,_+=u.h.i.decode(g[W],{stream:!(U&&W==T-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function Hl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function $l(u,g){var _=u.C,T=g.indexOf(`
`,_);return T==-1?la:(_=Number(g.substring(_,T)),isNaN(_)?ql:(T+=1,T+_>g.length?la:(g=g.slice(T,T+_),u.C=T+_,g)))}fn.prototype.cancel=function(){this.K=!0,Er(this)};function Yi(u){u.T=Date.now()+u.H,ca(u,u.H)}function ca(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zr(y(u.aa,u),g)}function Hs(u){u.D&&(h.clearTimeout(u.D),u.D=null)}fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(jl(this.i,this.B),this.M!=2&&(yr(),rt(17)),Er(this),this.m=2,Xi(this)):ca(this,this.T-u)};function Xi(u){u.j.I==0||u.K||to(u.j,u)}function Er(u){Hs(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,js(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Ge(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||da(_.h,u))){if(!u.L&&da(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)eo(_),rn(_);else break e;Xn(_),rt(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Zr(y(_.Va,_),6e3));Ji(_.h)<=1&&_.ta&&(_.ta=void 0)}else sn(_,11)}else if((u.L||_.g==u)&&eo(_),!C(g))for(U=_.Ba.g.parse(g),g=0;g<U.length;g++){let Be=U[g];const dt=Be[0];if(!(dt<=_.K))if(_.K=dt,Be=Be[1],_.I==2)if(Be[0]=="c"){_.M=Be[1],_.ba=Be[2];const on=Be[3];on!=null&&(_.ka=on,_.j.info("VER="+_.ka));const Rr=Be[4];Rr!=null&&(_.za=Rr,_.j.info("SVER="+_.za));const Jn=Be[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(T=1.5*Jn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Zn=u.g;if(Zn){const io=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var W=T.h;W.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Gs(W,W.h),W.h=null))}if(T.G){const Aa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(T.wa=Aa,Fe(T.J,T.G,Aa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var ne=u;if(T.na=Ia(T,T.L?T.ba:null,T.W),ne.L){Zi(T.h,ne);var Te=ne,at=T.O;at&&(Te.H=at),Te.D&&(Hs(Te),Yi(Te)),T.g=ne}else Vt(T);_.i.length>0&&Sr(_)}else Be[0]!="stop"&&Be[0]!="close"||sn(_,7);else _.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?sn(_,7):Js(_):Be[0]!="noop"&&_.l&&_.l.qa(Be),_.A=0)}}yr(4)}catch{}}var gh=class{constructor(u,g){this.g=u,this.map=g}};function $s(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ha(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ji(u){return u.h?1:u.g?u.g.size:0}function da(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Gs(u,g){u.g?u.g.add(g):u.h=g}function Zi(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}$s.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function en(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return O(u.i)}var Gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tn(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,W=null;T>=0?(U=u[_].substring(0,T),W=u[_].substring(T+1)):U=u[_],g(U,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function zn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof zn?(this.l=u.l,es(this,u.j),this.o=u.o,this.g=u.g,qn(this,u.u),this.h=u.h,ri(this,Ea(u.i)),this.m=u.m):u&&(g=String(u).match(Gl))?(this.l=!1,es(this,g[1]||"",!0),this.o=ts(g[2]||""),this.g=ts(g[3]||"",!0),qn(this,g[4]),this.h=ts(g[5]||"",!0),ri(this,g[6]||"",!0),this.m=ts(g[7]||"")):(this.l=!1,this.i=new Ve(null,this.l))}zn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(ns(g,pa,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ns(g,pa,!0),"@"),u.push(Bn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ns(_,_.charAt(0)=="/"?rs:ma,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ns(_,ga)),u.join("")},zn.prototype.resolve=function(u){const g=pn(this);let _=!!u.j;_?es(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var T=u.h;if(_)qn(g,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=g.h.lastIndexOf("/");U!=-1&&(T=g.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const W=[];for(let ne=0;ne<U.length;){const Te=U[ne++];Te=="."?T&&ne==U.length&&W.push(""):Te==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),T&&ne==U.length&&W.push("")):(W.push(Te),T=!0)}T=W.join("/")}else T=U}return _?g.h=T:_=u.i.toString()!=="",_?ri(g,Ea(u.i)):_=!!u.m,_&&(g.m=u.m),g};function pn(u){return new zn(u)}function es(u,g,_){u.j=_?ts(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function qn(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function ri(u,g,_){g instanceof Ve?(u.i=g,Qs(u.i,u.l)):(_||(g=ns(g,yh)),u.i=new Ve(g,u.l))}function Fe(u,g,_){u.i.set(g,_)}function wr(u){return Fe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ts(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ns(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,fa),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fa(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,ma=/[#\?:]/g,rs=/[#\?]/g,yh=/[#\?@]/g,ga=/#/g;function Ve(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Wn(u){u.g||(u.g=new Map,u.h=0,u.i&&tn(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Ve.prototype,n.add=function(u,g){Wn(this),this.i=null,u=Hn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function ya(u,g){Wn(u),g=Hn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ks(u,g){return Wn(u),g=Hn(u,g),u.g.has(g)}n.forEach=function(u,g){Wn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(g,U,T,this)},this)},this)};function _a(u,g){Wn(u);let _=[];if(typeof g=="string")Ks(u,g)&&(_=_.concat(u.g.get(Hn(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}n.set=function(u,g){return Wn(this),this.i=null,u=Hn(this,u),Ks(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=_a(this,u),u.length>0?String(u[0]):g):g};function va(u,g,_){ya(u,g),_.length>0&&(u.i=null,u.g.set(Hn(u,g),O(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var _=g[T];const U=Bn(_);_=_a(this,_);for(let W=0;W<_.length;W++){let ne=U;_[W]!==""&&(ne+="="+Bn(_[W])),u.push(ne)}}return this.i=u.join("&")};function Ea(u){const g=new Ve;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Hn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Qs(u,g){g&&!u.j&&(Wn(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(ya(this,T),va(this,U,_))},u)),u.j=g}function $n(u,g){const _=new ei;if(h.Image){const T=new Image;T.onload=v(St,_,"TestLoadImage: loaded",!0,g,T),T.onerror=v(St,_,"TestLoadImage: error",!1,g,T),T.onabort=v(St,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=v(St,_,"TestLoadImage: timeout",!1,g,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function Gn(u,g){const _=new ei,T=new AbortController,U=setTimeout(()=>{T.abort(),St(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(W=>{clearTimeout(U),W.ok?St(_,"TestPingServer: ok",!0,g):St(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),St(_,"TestPingServer: error",!1,g)})}function St(u,g,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function is(){this.g=new Ki}function Tr(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Tr,Yr),Tr.prototype.g=function(){return new nn(this.i,this.h)};function nn(u,g){ht.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(nn,ht),n=nn.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Sn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||h).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ii(this):Sn(this),this.readyState==3&&Kl(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,ii(this))},n.Na=function(u){this.g&&(this.response=u,ii(this))},n.ga=function(){this.g&&ii(this)};function ii(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Sn(u)}n.setRequestHeader=function(u,g){this.A.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Sn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(nn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ql(u){let g="";return pe(u,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function Ys(u,g,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Ql(_),typeof u=="string"?_!=null&&Bn(_):Fe(u,g,_))}function qe(u){ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(qe,ht);var Yl=/^https?$/i,_h=["POST","PUT"];n=qe.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bl.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(W){si(this,W);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const W of T.keys())_.set(W,T.get(W));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(_h,g,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ne]of _)this.g.setRequestHeader(W,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(W){si(this,W)}};function si(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,oi(u),Ar(u)}function oi(u){u.A||(u.A=!0,ot(u,"complete"),ot(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ot(this,"complete"),ot(this,"abort"),Ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),qe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},n.Xa=function(){Ir(this)};function Ir(u){if(u.h&&typeof l<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ot(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const W=u.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var T;if(T=W===0){let ne=String(u.D).match(Gl)[1]||null;!ne&&h.self&&h.self.location&&(ne=h.self.location.protocol.slice(0,-1)),T=!Yl.test(ne?ne.toLowerCase():"")}_=T}if(_)ot(u,"complete"),ot(u,"success");else{u.o=6;try{var U=Kn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",oi(u)}}finally{Ar(u)}}}}function Ar(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||ot(u,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}n.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ml(g)}};function Xl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wa(u){const g={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var _=Ws(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=g[U]||[];g[U]=W,W.push(_)}ae(g,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Xs(u){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qn("baseRetryDelayMs",5e3,u),this.Za=Qn("retryDelaySeedMs",1e4,u),this.Ta=Qn("forwardChannelMaxRetries",2,u),this.va=Qn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $s(u&&u.concurrentRequestLimit),this.Ba=new is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Xs.prototype,n.ka=8,n.I=1,n.connect=function(u,g,_,T){rt(0),this.W=u,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Ia(this,null,this.W),Sr(this)};function Js(u){if(Zs(u),u.I==3){var g=u.V++,_=pn(u.J);if(Fe(_,"SID",u.M),Fe(_,"RID",g),Fe(_,"TYPE","terminate"),Yn(u,_),g=new fn(u,u.j,g),g.M=2,g.A=wr(pn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.A,_=!0),_||(g.g=Zl(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Yi(g)}as(u)}function rn(u){u.g&&(os(u),u.g.cancel(),u.g=null)}function Zs(u){rn(u),u.v&&(h.clearTimeout(u.v),u.v=null),eo(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Sr(u){if(!ha(u.h)&&!u.m){u.m=!0;var g=u.Ea;Ee||A(),Ae||(Ee(),Ae=!0),k.add(g,u),u.D=0}}function Jl(u,g){return Ji(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zr(y(u.Ea,u,g),no(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new fn(this,this.j,u);let W=this.o;if(this.U&&(W?(W=L(W),Se(W,this.U)):W=this.U),this.u!==null||this.R||(U.J=W,W=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Ta(this,U,g),_=pn(this.J),Fe(_,"RID",u),Fe(_,"CVER",22),this.G&&Fe(_,"X-HTTP-Session-Id",this.G),Yn(this,_),W&&(this.R?g="headers="+Bn(Ql(W))+"&"+g:this.u&&Ys(_,this.u,W)),Gs(this.h,U),this.Ra&&Fe(_,"TYPE","init"),this.S?(Fe(_,"$req",g),Fe(_,"SID","null"),U.U=!0,An(U,_,null)):An(U,_,g),this.I=2}}else this.I==3&&(u?ss(this,u):this.i.length==0||ha(this.h)||ss(this))};function ss(u,g){var _;g?_=g.l:_=u.V++;const T=pn(u.J);Fe(T,"SID",u.M),Fe(T,"RID",_),Fe(T,"AID",u.K),Yn(u,T),u.u&&u.o&&Ys(T,u.u,u.o),_=new fn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Ta(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Gs(u.h,_),An(_,T,g)}function Yn(u,g){u.H&&pe(u.H,function(_,T){Fe(g,T,_)}),u.l&&pe({},function(_,T){Fe(g,T,_)})}function Ta(u,g,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Te=-1;for(;;){const at=["count="+_];Te==-1?_>0?(Te=U[0].g,at.push("ofs="+Te)):Te=0:at.push("ofs="+Te);let Be=!0;for(let dt=0;dt<_;dt++){var W=U[dt].g;const on=U[dt].map;if(W-=Te,W<0)Te=Math.max(0,U[dt].g-100),Be=!1;else try{W="req"+W+"_"||"";try{var ne=on instanceof Map?on:Object.entries(on);for(const[Rr,Jn]of ne){let Zn=Jn;f(Jn)&&(Zn=Qr(Jn)),at.push(W+Rr+"="+encodeURIComponent(Zn))}}catch(Rr){throw at.push(W+"type="+encodeURIComponent("_badmap")),Rr}}catch{T&&T(on)}}if(Be){ne=at.join("&");break e}}ne=void 0}return u=u.i.splice(0,_),g.G=u,ne}function Vt(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;Ee||A(),Ae||(Ee(),Ae=!0),k.add(g,u),u.A=0}}function Xn(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zr(y(u.Da,u),no(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,ai(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zr(y(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rt(10),rn(this),ai(this))};function os(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function ai(u){u.g=new fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=pn(u.na);Fe(g,"RID","rpc"),Fe(g,"SID",u.M),Fe(g,"AID",u.K),Fe(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Fe(g,"TO",u.ia),Fe(g,"TYPE","xmlhttp"),Yn(u,g),u.u&&u.o&&Ys(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=wr(pn(g)),_.u=null,_.R=!0,ua(_,u)}n.Va=function(){this.C!=null&&(this.C=null,rn(this),Xn(this),rt(19))};function eo(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function to(u,g){var _=null;if(u.g==g){eo(u),os(u),u.g=null;var T=2}else if(da(u.h,g))_=g.G,Zi(u.h,g),T=1;else return;if(u.I!=0){if(g.o)if(T==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var U=u.D;T=Jr(),ot(T,new aa(T,_)),Sr(u)}else Vt(u);else if(U=g.m,U==3||U==0&&g.X>0||!(T==1&&Jl(u,g)||T==2&&Xn(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),U){case 1:sn(u,5);break;case 4:sn(u,10);break;case 3:sn(u,6);break;default:sn(u,2)}}}function no(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function sn(u,g){if(u.j.info("Error code "+g),g==2){var _=y(u.bb,u),T=u.Ua;const U=!T;T=new zn(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||es(T,"https"),wr(T),U?$n(T.toString(),_):Gn(T.toString(),_)}else rt(2);u.I=0,u.l&&u.l.pa(g),as(u),Zs(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function as(u){if(u.I=0,u.ja=[],u.l){const g=en(u.h);(g.length!=0||u.i.length!=0)&&(M(u.ja,g),M(u.ja,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.oa()}}function Ia(u,g,_){var T=_ instanceof zn?pn(_):new zn(_);if(T.g!="")g&&(T.g=g+"."+T.g),qn(T,T.u);else{var U=h.location;T=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const W=new zn(null);T&&es(W,T),g&&(W.g=g),U&&qn(W,U),_&&(W.h=_),T=W}return _=u.G,g=u.wa,_&&g&&Fe(T,_,g),Fe(T,"VER",u.ka),Yn(u,T),T}function Zl(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new qe(new Tr({ab:_})):new qe(u.ma),g.Fa(u.L),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}n=eu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ro(){}ro.prototype.g=function(u,g){return new Rt(u,g)};function Rt(u,g){ht.call(this),this.g=new Xs(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!C(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new li(this)}w(Rt,ht),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){Js(this.g)},Rt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Qr(u),u=_);g.i.push(new gh(g.Ya++,u)),g.I==3&&Sr(g)},Rt.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,Rt.Z.N.call(this)};function tu(u){Bs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}w(tu,Bs);function nu(){oa.call(this),this.status=1}w(nu,oa);function li(u){this.g=u}w(li,eu),li.prototype.ra=function(){ot(this.g,"a")},li.prototype.qa=function(u){ot(this.g,new tu(u))},li.prototype.pa=function(u){ot(this.g,new nu)},li.prototype.oa=function(){ot(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,Jv=function(){return new ro},Xv=function(){return Jr()},Yv=In,yf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ti.NO_ERROR=0,ti.TIMEOUT=8,ti.HTTP_ERROR=6,lc=ti,ni.COMPLETE="complete",Qv=ni,bl.EventType=Xr,Xr.OPEN="a",Xr.CLOSE="b",Xr.ERROR="c",Xr.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Za=bl,qe.prototype.listenOnce=qe.prototype.K,qe.prototype.getLastError=qe.prototype.Ha,qe.prototype.getLastErrorCode=qe.prototype.ya,qe.prototype.getStatus=qe.prototype.ca,qe.prototype.getResponseJson=qe.prototype.La,qe.prototype.getResponseText=qe.prototype.la,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Fa,Kv=qe}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore",jy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new jf("@firebase/firestore");function Ro(){return ks.logLevel}function oe(n,...e){if(ks.logLevel<=Ne.DEBUG){const t=e.map(Xf);ks.debug(`Firestore (${Ho}): ${n}`,...t)}}function qr(n,...e){if(ks.logLevel<=Ne.ERROR){const t=e.map(Xf);ks.error(`Firestore (${Ho}): ${n}`,...t)}}function Mo(n,...e){if(ks.logLevel<=Ne.WARN){const t=e.map(Xf);ks.warn(`Firestore (${Ho}): ${n}`,...t)}}function Xf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Zv(n,i,t)}function Zv(n,e,t){let i=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw qr(i),new Error(i)}function je(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||Zv(e,o,i)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ut.UNAUTHENTICATED)))}shutdown(){}}class dR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class fR{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(je(typeof i.accessToken=="string",31837,{l:i}),new eE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class pR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mR{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new pR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class By{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){je(this.o===void 0,3512);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new By(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new By(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=yR(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function xe(n,e){return n<e?-1:n>e?1:0}function _f(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return Xd(o)===Xd(l)?xe(o,l):Xd(o)?1:-1}return xe(n.length,e.length)}const _R=55296,vR=57343;function Xd(n){const e=n.charCodeAt(0);return e>=_R&&e<=vR}function bo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="__name__";class ir{constructor(e,t,i){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&_e(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ir.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return xe(e.length,t.length)}static compareSegments(e,t){const i=ir.isNumericId(e),o=ir.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ir.extractNumericId(e).compare(ir.extractNumericId(t)):_f(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class $e extends ir{construct(e,t,i){return new $e(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new $e(t)}static emptyPath(){return new $e([])}}const ER=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends ir{construct(e,t,i){return new Nt(e,t,i)}static isValidIdentifier(e){return ER.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zy}static keyField(){return new Nt([zy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe($e.fromString(e))}static fromName(e){return new fe($e.fromString(e).popFirst(5))}static empty(){return new fe($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new $e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n,e,t){if(!t)throw new ie($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wR(n,e,t,i){if(e===!0&&i===!0)throw new ie($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qy(n){if(!fe.isDocumentKey(n))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Wy(n){if(fe.isDocumentKey(n))throw new ie($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function $c(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e(12329,{type:typeof n})}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$c(n);throw new ie($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Rl(n,e){if(!nE(n))throw new ie($.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const h=n[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ie($.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-62135596800,$y=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$y);return new Ye(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Hy)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rl(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:gt("string",Ye._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ye(0,0))}static max(){return new we(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=-1;function TR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=we.fromTimestamp(i===1e9?new Ye(t+1,0):new Ye(t,i));return new Li(o,fe.empty(),e)}function IR(n){return new Li(n.readTime,n.key,fl)}class Li{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Li(we.min(),fe.empty(),fl)}static max(){return new Li(we.max(),fe.empty(),fl)}}function AR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n){if(n.code!==$.FAILED_PRECONDITION||n.message!==SR)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,i)=>{t(e)}))}static reject(e){return new G(((t,i)=>{i(e)}))}static waitFor(e){return new G(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(p=>i(p)))})),h=!0,l===o&&t()}))}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next((o=>o?G.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new G(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next((v=>{h[y]=v,++f,f===l&&i(h)}),(v=>o(v)))}}))}static doWhile(e,t){return new G(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function CR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Go(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=-1;function Kc(n){return n==null}function Ac(n){return n===0&&1/n==-1/0}function PR(n){return typeof n=="number"&&Number.isInteger(n)&&!Ac(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="";function kR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Gy(e)),e=NR(n.get(t),e);return Gy(e)}function NR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case rE:t+="";break;default:t+=l}}return t}function Gy(n){return n+rE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||kt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??kt.RED,this.left=o??kt.EMPTY,this.right=l??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new kt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new vt(this.comparator);return t.data=e,t}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new hn([])}unionWith(e){let t=new vt(Nt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sE("Invalid base64 string: "+l):l}})(e);return new xt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const xR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(n){if(je(!!n,39018),typeof n=="string"){let e=0;const t=xR.exec(n);if(je(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bi(n){return typeof n=="string"?xt.fromBase64String(n):xt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="server_timestamp",aE="__type__",lE="__previous_value__",uE="__local_write_time__";function ep(n){return(n?.mapValue?.fields||{})[aE]?.stringValue===oE}function Qc(n){const e=n.mapValue.fields[lE];return ep(e)?Qc(e):e}function pl(n){const e=Mi(n.mapValue.fields[uE].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t,i,o,l,h,f,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const Sc="(default)";class ml{constructor(e,t){this.projectId=e,this.database=t||Sc}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database===Sc}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__type__",VR="__max__",Zu={mapValue:{}},hE="__vector__",Rc="value";function Fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ep(n)?4:LR(n)?9007199254740991:OR(n)?10:11:_e(28295,{value:n})}function dr(n,e){if(n===e)return!0;const t=Fi(n);if(t!==Fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pl(n).isEqual(pl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Mi(o.timestampValue),f=Mi(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return bi(o.bytesValue).isEqual(bi(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ut(o.doubleValue),f=ut(l.doubleValue);return h===f?Ac(h)===Ac(f):isNaN(h)&&isNaN(f)}return!1})(n,e);case 9:return bo(n.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Ky(h)!==Ky(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!dr(h[p],f[p])))return!1;return!0})(n,e);default:return _e(52216,{left:n})}}function gl(n,e){return(n.values||[]).find((t=>dr(t,e)))!==void 0}function Fo(n,e){if(n===e)return 0;const t=Fi(n),i=Fi(e);if(t!==i)return xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=ut(l.integerValue||l.doubleValue),p=ut(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return Yy(n.timestampValue,e.timestampValue);case 4:return Yy(pl(n),pl(e));case 5:return _f(n.stringValue,e.stringValue);case 6:return(function(l,h){const f=bi(l),p=bi(h);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const v=xe(f[y],p[y]);if(v!==0)return v}return xe(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=xe(ut(l.latitude),ut(h.latitude));return f!==0?f:xe(ut(l.longitude),ut(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Xy(n.arrayValue,e.arrayValue);case 10:return(function(l,h){const f=l.fields||{},p=h.fields||{},y=f[Rc]?.arrayValue,v=p[Rc]?.arrayValue,w=xe(y?.values?.length||0,v?.values?.length||0);return w!==0?w:Xy(y,v)})(n.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Zu.mapValue&&h===Zu.mapValue)return 0;if(l===Zu.mapValue)return 1;if(h===Zu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const I=_f(p[w],v[w]);if(I!==0)return I;const O=Fo(f[p[w]],y[v[w]]);if(O!==0)return O}return xe(p.length,v.length)})(n.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function Yy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);const t=Mi(n),i=Mi(e),o=xe(t.seconds,i.seconds);return o!==0?o:xe(t.nanos,i.nanos)}function Xy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Fo(t[o],i[o]);if(l)return l}return xe(t.length,i.length)}function Uo(n){return vf(n)}function vf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Mi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return bi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return fe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=vf(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${vf(t.fields[h])}`;return o+"}"})(n.mapValue):_e(61005,{value:n})}function uc(n){switch(Fi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qc(n);return e?16+uc(e):16;case 5:return 2*n.stringValue.length;case 6:return bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+uc(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return qi(i.fields,((l,h)=>{o+=l.length+uc(h)})),o})(n.mapValue);default:throw _e(13486,{value:n})}}function Jy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ef(n){return!!n&&"integerValue"in n}function tp(n){return!!n&&"arrayValue"in n}function Zy(n){return!!n&&"nullValue"in n}function e_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cc(n){return!!n&&"mapValue"in n}function OR(n){return(n?.mapValue?.fields||{})[cE]?.stringValue===hE}function ol(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return qi(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=ol(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ol(n.arrayValue.values[t]);return e}return{...n}}function LR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!cc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(t)}setAll(e){let t=Nt.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=ol(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());cc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){qi(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Zt(ol(this.value))}}function dE(n){const e=[];return qi(n.fields,((t,i)=>{const o=new Nt([t]);if(cc(i)){const l=dE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new jt(e,0,we.min(),we.min(),we.min(),Zt.empty(),0)}static newFoundDocument(e,t,i,o){return new jt(e,1,t,we.min(),i,o,0)}static newNoDocument(e,t){return new jt(e,2,t,we.min(),we.min(),Zt.empty(),0)}static newUnknownDocument(e,t){return new jt(e,3,t,we.min(),we.min(),Zt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.position=e,this.inclusive=t}}function t_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=fe.comparator(fe.fromName(h.referenceValue),t.key):i=Fo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function n_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!dr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t="asc"){this.field=e,this.dir=t}}function MR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{}class mt extends fE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new FR(e,t,i):t==="array-contains"?new BR(e,i):t==="in"?new zR(e,i):t==="not-in"?new qR(e,i):t==="array-contains-any"?new WR(e,i):new mt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new UR(e,i):new jR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fo(t,this.value)):t!==null&&Fi(this.value)===Fi(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends fE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bn(e,t)}matches(e){return pE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pE(n){return n.op==="and"}function mE(n){return bR(n)&&pE(n)}function bR(n){for(const e of n.filters)if(e instanceof bn)return!1;return!0}function wf(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+Uo(n.value);if(mE(n))return n.filters.map((e=>wf(e))).join(",");{const e=n.filters.map((t=>wf(t))).join(",");return`${n.op}(${e})`}}function gE(n,e){return n instanceof mt?(function(i,o){return o instanceof mt&&i.op===o.op&&i.field.isEqual(o.field)&&dr(i.value,o.value)})(n,e):n instanceof bn?(function(i,o){return o instanceof bn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&gE(h,o.filters[f])),!0):!1})(n,e):void _e(19439)}function yE(n){return n instanceof mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Uo(t.value)}`})(n):n instanceof bn?(function(t){return t.op.toString()+" {"+t.getFilters().map(yE).join(" ,")+"}"})(n):"Filter"}class FR extends mt{constructor(e,t,i){super(e,t,i),this.key=fe.fromName(i.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class UR extends mt{constructor(e,t){super(e,"in",t),this.keys=_E("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class jR extends mt{constructor(e,t){super(e,"not-in",t),this.keys=_E("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _E(n,e){return(e.arrayValue?.values||[]).map((t=>fe.fromName(t.referenceValue)))}class BR extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tp(t)&&gl(t.arrayValue,this.value)}}class zR extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gl(this.value.arrayValue,t)}}class qR extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gl(this.value.arrayValue,t)}}class WR extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>gl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Te=null}}function r_(n,e=null,t=[],i=[],o=null,l=null,h=null){return new HR(n,e,t,i,o,l,h)}function np(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>wf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Kc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Uo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Uo(i))).join(",")),e.Te=t}return e.Te}function rp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!n_(n.startAt,e.startAt)&&n_(n.endAt,e.endAt)}function Tf(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $R(n,e,t,i,o,l,h,f){return new Ko(n,e,t,i,o,l,h,f)}function Yc(n){return new Ko(n)}function i_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vE(n){return n.collectionGroup!==null}function al(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new vt(Nt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new yl(l,i))})),t.has(Nt.keyField().canonicalString())||e.Ie.push(new yl(Nt.keyField(),i))}return e.Ie}function lr(n){const e=Ie(n);return e.Ee||(e.Ee=GR(e,al(n))),e.Ee}function GR(n,e){if(n.limitType==="F")return r_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new yl(o.field,l)}));const t=n.endAt?new Cc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Cc(n.startAt.position,n.startAt.inclusive):null;return r_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function If(n,e){const t=n.filters.concat([e]);return new Ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Af(n,e,t){return new Ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xc(n,e){return rp(lr(n),lr(e))&&n.limitType===e.limitType}function EE(n){return`${np(lr(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>yE(o))).join(", ")}]`),Kc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Uo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Uo(o))).join(",")),`Target(${i})`})(lr(n))}; limitType=${n.limitType})`}function Jc(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):fe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of al(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,p){const y=t_(h,f,p);return h.inclusive?y<=0:y<0})(i.startAt,al(i),o)||i.endAt&&!(function(h,f,p){const y=t_(h,f,p);return h.inclusive?y>=0:y>0})(i.endAt,al(i),o))})(n,e)}function KR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wE(n){return(e,t)=>{let i=!1;for(const o of al(n)){const l=QR(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function QR(n,e,t){const i=n.field.isKeyField()?fe.comparator(e.key,t.key):(function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Fo(p,y):_e(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new nt(fe.comparator);function Wr(){return YR}const TE=new nt(fe.comparator);function el(...n){let e=TE;for(const t of n)e=e.insert(t.key,t);return e}function IE(n){let e=TE;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ws(){return ll()}function AE(){return ll()}function ll(){return new Os((n=>n.toString()),((n,e)=>n.isEqual(e)))}const XR=new nt(fe.comparator),JR=new vt(fe.comparator);function De(...n){let e=JR;for(const t of n)e=e.add(t);return e}const ZR=new vt(xe);function eC(){return ZR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function SE(n){return{integerValue:""+n}}function tC(n,e){return PR(e)?SE(e):ip(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this._=void 0}}function nC(n,e,t){return n instanceof _l?(function(o,l){const h={fields:{[aE]:{stringValue:oE},[uE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ep(l)&&(l=Qc(l)),l&&(h.fields[lE]=l),{mapValue:h}})(t,e):n instanceof jo?CE(n,e):n instanceof Bo?PE(n,e):(function(o,l){const h=RE(o,l),f=s_(h)+s_(o.Ae);return Ef(h)&&Ef(o.Ae)?SE(f):ip(o.serializer,f)})(n,e)}function rC(n,e,t){return n instanceof jo?CE(n,e):n instanceof Bo?PE(n,e):t}function RE(n,e){return n instanceof Pc?(function(i){return Ef(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class _l extends Zc{}class jo extends Zc{constructor(e){super(),this.elements=e}}function CE(n,e){const t=kE(e);for(const i of n.elements)t.some((o=>dr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Bo extends Zc{constructor(e){super(),this.elements=e}}function PE(n,e){let t=kE(e);for(const i of n.elements)t=t.filter((o=>!dr(o,i)));return{arrayValue:{values:t}}}class Pc extends Zc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function s_(n){return ut(n.integerValue||n.doubleValue)}function kE(n){return tp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t){this.field=e,this.transform=t}}function iC(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof jo&&o instanceof jo||i instanceof Bo&&o instanceof Bo?bo(i.elements,o.elements,dr):i instanceof Pc&&o instanceof Pc?dr(i.Ae,o.Ae):i instanceof _l&&o instanceof _l})(n.transform,e.transform)}class sC{constructor(e,t){this.version=e,this.transformResults=t}}class Ln{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class eh{}function NE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new DE(n.key,Ln.none()):new Cl(n.key,n.data,Ln.none());{const t=n.data,i=Zt.empty();let o=new vt(Nt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Wi(n.key,i,new hn(o.toArray()),Ln.none())}}function oC(n,e,t){n instanceof Cl?(function(o,l,h){const f=o.value.clone(),p=a_(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Wi?(function(o,l,h){if(!hc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=a_(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(xE(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function ul(n,e,t,i){return n instanceof Cl?(function(l,h,f,p){if(!hc(l.precondition,h))return f;const y=l.value.clone(),v=l_(l.fieldTransforms,p,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof Wi?(function(l,h,f,p){if(!hc(l.precondition,h))return f;const y=l_(l.fieldTransforms,p,h),v=h.data;return v.setAll(xE(l)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(n,e,t,i):(function(l,h,f){return hc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(n,e,t)}function aC(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=RE(i.transform,o||null);l!=null&&(t===null&&(t=Zt.empty()),t.set(i.field,l))}return t||null}function o_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&bo(i,o,((l,h)=>iC(l,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cl extends eh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wi extends eh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function a_(n,e,t){const i=new Map;je(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,rC(h,f,t[o]))}return i}function l_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,nC(l,h,e))}return i}class DE extends eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lC extends eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&oC(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ul(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ul(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=AE();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=NE(h,f);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,((t,i)=>o_(t,i)))&&bo(this.baseMutations,e.baseMutations,((t,i)=>o_(t,i)))}}class op{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){je(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return XR})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new op(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Oe;function dC(n){switch(n){case $.OK:return _e(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _e(15467,{code:n})}}function VE(n){if(n===void 0)return qr("GRPC error has no .code"),$.UNKNOWN;switch(n){case pt.OK:return $.OK;case pt.CANCELLED:return $.CANCELLED;case pt.UNKNOWN:return $.UNKNOWN;case pt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case pt.INTERNAL:return $.INTERNAL;case pt.UNAVAILABLE:return $.UNAVAILABLE;case pt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case pt.NOT_FOUND:return $.NOT_FOUND;case pt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case pt.ABORTED:return $.ABORTED;case pt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case pt.DATA_LOSS:return $.DATA_LOSS;default:return _e(39323,{code:n})}}(Oe=pt||(pt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Di([4294967295,4294967295],0);function u_(n){const e=fC().encode(n),t=new Gv;return t.update(e),new Uint8Array(t.digest())}function c_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Di([t,i],0),new Di([o,l],0)]}class ap{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new tl(`Invalid padding: ${t}`);if(i<0)throw new tl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new tl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Di.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Di.fromNumber(i)));return o.compare(pC)===1&&(o=new Di([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=u_(e),[i,o]=c_(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new ap(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.ge===0)return;const t=u_(e),[i,o]=c_(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new th(we.min(),o,new nt(xe),Wr(),De())}}class Pl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Pl(i,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class OE{constructor(e,t){this.targetId=e,this.Ce=t}}class LE{constructor(e,t,i=xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class h_{constructor(){this.ve=0,this.Fe=d_(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),t=De(),i=De();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:_e(38017,{changeType:l})}})),new Pl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=d_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wr(),this.Je=ec(),this.He=ec(),this.Ye=new nt(xe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Tf(l))if(i===0){const h=new fe(l.path);this.et(t,h,jt.newNoDocument(h,we.min()))}else je(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const f=this.ut(e),p=f?this.ct(f,e,h):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=bi(i).toUint8Array()}catch(p){if(p instanceof sE)return Mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new ap(h,o,l)}catch(p){return Mo(p instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Ge.ht(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const f=this.ot(h);if(f){if(l.current&&Tf(f.target)){const p=new fe(f.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,jt.newNoDocument(p,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let i=De();this.He.forEach(((l,h)=>{let f=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new th(e,t,this.Ye,this.je,i);return this.je=Wr(),this.Je=ec(),this.He=ec(),this.Ye=new nt(xe),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new h_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new vt(xe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new vt(xe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ec(){return new nt(fe.comparator)}function d_(){return new nt(fe.comparator)}const gC={asc:"ASCENDING",desc:"DESCENDING"},yC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class vC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sf(n,e){return n.useProto3Json||Kc(e)?e:{value:e}}function kc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ME(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EC(n,e){return kc(n,e.toTimestamp())}function ur(n){return je(!!n,49232),we.fromTimestamp((function(t){const i=Mi(t);return new Ye(i.seconds,i.nanos)})(n))}function lp(n,e){return Rf(n,e).canonicalString()}function Rf(n,e){const t=(function(o){return new $e(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function bE(n){const e=$e.fromString(n);return je(zE(e),10190,{key:e.toString()}),e}function Cf(n,e){return lp(n.databaseId,e.path)}function Jd(n,e){const t=bE(e);if(t.get(1)!==n.databaseId.projectId)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(UE(t))}function FE(n,e){return lp(n.databaseId,e)}function wC(n){const e=bE(n);return e.length===4?$e.emptyPath():UE(e)}function Pf(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UE(n){return je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function f_(n,e,t){return{name:Cf(n,e),fields:t.value.mapValue.fields}}function TC(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,v){return y.useProto3Json?(je(v===void 0||typeof v=="string",58123),xt.fromBase64String(v||"")):(je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),xt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(y){const v=y.code===void 0?$.UNKNOWN:VE(y.code);return new ie(v,y.message||"")})(h);t=new LE(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Jd(n,i.document.name),l=ur(i.document.updateTime),h=i.document.createTime?ur(i.document.createTime):we.min(),f=new Zt({mapValue:{fields:i.document.fields}}),p=jt.newFoundDocument(o,l,h,f),y=i.targetIds||[],v=i.removedTargetIds||[];t=new dc(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Jd(n,i.document),l=i.readTime?ur(i.readTime):we.min(),h=jt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new dc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Jd(n,i.document),l=i.removedTargetIds||[];t=new dc([],l,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new hC(o,l),f=i.targetId;t=new OE(f,h)}}return t}function IC(n,e){let t;if(e instanceof Cl)t={update:f_(n,e.key,e.value)};else if(e instanceof DE)t={delete:Cf(n,e.key)};else if(e instanceof Wi)t={update:f_(n,e.key,e.data),updateMask:DC(e.fieldMask)};else{if(!(e instanceof lC))return _e(16599,{Vt:e.type});t={verify:Cf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof _l)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof jo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Bo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Pc)return{fieldPath:h.field.canonicalString(),increment:f.Ae};throw _e(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:EC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e(27497)})(n,e.precondition)),t}function AC(n,e){return n&&n.length>0?(je(e!==void 0,14353),n.map((t=>(function(o,l){let h=o.updateTime?ur(o.updateTime):ur(l);return h.isEqual(we.min())&&(h=ur(l)),new sC(h,o.transformResults||[])})(t,e)))):[]}function SC(n,e){return{documents:[FE(n,e.path)]}}function RC(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=FE(n,o);const l=(function(y){if(y.length!==0)return BE(bn.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(y){if(y.length!==0)return y.map((v=>(function(I){return{field:Po(I.field),direction:kC(I.dir)}})(v)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Sf(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function CC(n){let e=wC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){je(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(w){const I=jE(w);return I instanceof bn&&mE(I)?I.getFilters():[I]})(t.where));let h=[];t.orderBy&&(h=(function(w){return w.map((I=>(function(M){return new yl(ko(M.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(I)))})(t.orderBy));let f=null;t.limit&&(f=(function(w){let I;return I=typeof w=="object"?w.value:w,Kc(I)?null:I})(t.limit));let p=null;t.startAt&&(p=(function(w){const I=!!w.before,O=w.values||[];return new Cc(O,I)})(t.startAt));let y=null;return t.endAt&&(y=(function(w){const I=!w.before,O=w.values||[];return new Cc(O,I)})(t.endAt)),$R(e,o,h,l,f,"F",p,y)}function PC(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ko(t.unaryFilter.field);return mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ko(t.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ko(t.unaryFilter.field);return mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ko(t.unaryFilter.field);return mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return mt.create(ko(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bn.create(t.compositeFilter.filters.map((i=>jE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(t.compositeFilter.op))})(n):_e(30097,{filter:n})}function kC(n){return gC[n]}function NC(n){return yC[n]}function xC(n){return _C[n]}function Po(n){return{fieldPath:n.canonicalString()}}function ko(n){return Nt.fromServerFormat(n.fieldPath)}function BE(n){return n instanceof mt?(function(t){if(t.op==="=="){if(e_(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(Zy(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(e_(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(Zy(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:NC(t.op),value:t.value}}})(n):n instanceof bn?(function(t){const i=t.getFilters().map((o=>BE(o)));return i.length===1?i[0]:{compositeFilter:{op:xC(t.op),filters:i}}})(n):_e(54877,{filter:n})}function DC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function zE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t,i,o,l=we.min(),h=we.min(),f=xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.yt=e}}function OC(n){const e=CC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Af(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Cn=new MC}addToCollectionParentIndex(e,t){return this.Cn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Li.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class MC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new vt($e.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new vt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(qE,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",bC=1048576;function g_([n,e],[t,i]){const o=xe(n,t);return o===0?xe(e,i):o}class FC{constructor(e){this.Ir=e,this.buffer=new vt(g_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();g_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(m_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Go(t)?oe(m_,"Ignoring IndexedDB error during garbage collection: ",t):await $o(t)}await this.Vr(3e5)}))}}class jC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Gc.ce);const i=new FC(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(p_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,h,f,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(i=w,f=Date.now(),this.removeTargets(e,i,t)))).next((w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((w=>(y=Date.now(),Ro()<=Ne.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w}))))}}function BC(n,e){return new jC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.changes=new Os((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&ul(i.mutation,o,hn.empty(),Ye.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,De()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=De()){const o=ws();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=el();return l.forEach(((f,p)=>{h=h.insert(f,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=ws();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,De())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=Wr();const h=ll(),f=(function(){return ll()})();return t.forEach(((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Wi)?l=l.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),ul(v.mutation,y,v.mutation.getFieldMask(),Ye.now())):h.set(y.key,hn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,v)=>h.set(y,v))),t.forEach(((y,v)=>f.set(y,new qC(v,h.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=ll();let o=new nt(((h,f)=>h-f)),l=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||hn.empty();v=f.applyToLocalView(y,v),i.set(p,v);const w=(o.get(f.batchId)||De()).add(p);o=o.insert(f.batchId,w)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,v=p.value,w=AE();v.forEach((I=>{if(!l.has(I)){const O=NE(t.get(I),i.get(I));O!==null&&w.set(I,O),l=l.add(I)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,w))}return G.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return fe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):G.resolve(ws());let f=fl,p=l;return h.next((y=>G.forEach(y,((v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next((I=>{p=p.insert(v,I)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,De()))).next((v=>({batchId:f,changes:IE(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((i=>{let o=el();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=el();return this.indexManager.getCollectionParents(e,l).next((f=>G.forEach(f,(p=>{const y=(function(w,I){return new Ko(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((v=>{v.forEach(((w,I)=>{h=h.insert(w,I)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((p,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,jt.newInvalidDocument(v)))}));let f=el();return h.forEach(((p,y)=>{const v=l.get(p);v!==void 0&&ul(v.mutation,y,hn.empty(),Ye.now()),Jc(t,y)&&(f=f.insert(p,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return G.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ur(o.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:OC(o.bundledQuery),readTime:ur(o.readTime)}})(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.overlays=new nt(fe.comparator),this.qr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ws();return G.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=ws(),l=t.length+1,h=new fe(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new nt(((y,v)=>y-v));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=ws(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=ws(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>f.set(y,v))),!(f.size()>=o)););return G.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new cC(t,i));let l=this.qr.get(t);l===void 0&&(l=De(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.Qr=new vt(At.$r),this.Ur=new vt(At.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new At(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new At(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new fe(new $e([])),i=new At(t,e),o=new At(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new fe(new $e([])),i=new At(t,e),o=new At(t,e+1);let l=De();return this.Ur.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new At(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class At{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return fe.comparator(e.key,t.key)||xe(e.Yr,t.Yr)}static Kr(e,t){return xe(e.Yr,t.Yr)||fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new vt(At.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new uC(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Zr=this.Zr.add(new At(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,t){return G.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Zf:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(h=>{const f=this.Xr(h.Yr);l.push(f)})),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vt(xe);return t.forEach((o=>{const l=new At(o,0),h=new At(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(f=>{i=i.add(f.Yr)}))})),G.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;fe.isDocumentKey(l)||(l=l.child(""));const h=new At(new fe(l),0);let f=new vt(xe);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Yr)),!0)}),h),G.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return G.forEach(t.mutations,(o=>{const l=new At(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new At(t,0),o=this.Zr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.ri=e,this.docs=(function(){return new nt(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let i=Wr();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():jt.newInvalidDocument(o))})),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Wr();const h=t.path,f=new fe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||AR(IR(v),i)<=0||(o.has(v.key)||Jc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,i,o){_e(9500)}ii(e,t){return G.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new YC(this)}getSize(e){return G.resolve(this.size)}}class YC extends zC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),G.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.persistence=e,this.si=new Os((t=>np(t)),rp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new up,this.targetCount=0,this.ai=zo.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),G.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new zo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Pr(t),G.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),G.waitFor(l).next((()=>o))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Gc(0),this.li=!1,this.li=!0,this.hi=new GC,this.referenceDelegate=e(this),this.Pi=new XC(this),this.indexManager=new LC,this.remoteDocumentCache=(function(o){return new QC(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new VC(t),this.Ii=new HC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $C,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new KC(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const o=new JC(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return G.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class JC extends RR{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.Ri=new up,this.Vi=null}static mi(e){return new cp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),G.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,(i=>{const o=fe.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return G.or([()=>G.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Nc{constructor(e,t){this.persistence=e,this.pi=new Os((i=>kR(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=BC(this,t)}static mi(e,t){return new Nc(e,t)}Ei(){}di(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return G.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?G.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((f=>{f||(i++,l.removeEntry(h,we.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uc(e.data.value)),t}br(e,t,i){return G.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=De(),o=De();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new hp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PI()?8:CR(Bt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new ZC;return this.Ss(e,t,h).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,h,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Ro()<=Ne.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(Ro()<=Ne.DEBUG&&oe("QueryEngine","Query:",Co(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Ro()<=Ne.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(t))):G.resolve())}ys(e,t){if(i_(t))return G.resolve(null);let i=lr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Af(t,null,"F"),i=lr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=De(...l);return this.ps.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.Ds(t,f);return this.Cs(t,y,h,p.readTime)?this.ys(e,Af(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,i,o){return i_(t)||o.isEqual(we.min())?G.resolve(null):this.ps.getDocuments(e,i).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,i,o)?G.resolve(null):(Ro()<=Ne.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(t)),this.vs(e,h,t,TR(o,fl)).next((f=>f)))}))}Ds(e,t){let i=new vt(wE(e));return t.forEach(((o,l)=>{Jc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return Ro()<=Ne.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ps.getDocumentsMatchingQuery(e,t,Li.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="LocalStore",t1=3e8;class n1{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new nt(xe),this.xs=new Os((l=>np(l)),rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function r1(n,e,t,i){return new n1(n,e,t,i)}async function HE(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let p=De();for(const y of o){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:f})))}))}))}function i1(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,y,v){const w=y.batch,I=w.keys();let O=G.resolve();return I.forEach((M=>{O=O.next((()=>v.getEntry(p,M))).next((B=>{const x=y.docVersions.get(M);je(x!==null,48541),B.version.compareTo(x)<0&&(w.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),v.addEntry(B)))}))})),O.next((()=>f.mutationQueue.removeMutationBatch(p,w)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=De();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function $E(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function s1(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((v,w)=>{const I=o.get(w);if(!I)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,w))));let O=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(xt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,i)),o=o.insert(w,O),(function(B,x,K){return B.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=t1?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(I,O,v)&&f.push(t.Pi.updateTargetData(l,O))}));let p=Wr(),y=De();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(o1(l,h,e.documentUpdates).next((v=>{p=v.ks,y=v.qs}))),!i.isEqual(we.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return G.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function o1(n,e,t){let i=De(),o=De();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let h=Wr();return t.forEach(((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):oe(dp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function a1(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Zf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function l1(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,G.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new ki(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function kf(n,e,t){const i=Ie(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Go(h))throw h;oe(dp,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function y_(n,e,t){const i=Ie(n);let o=we.min(),l=De();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,v){const w=Ie(p),I=w.xs.get(v);return I!==void 0?G.resolve(w.Ms.get(I)):w.Pi.getTargetData(y,v)})(i,h,lr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?l:De()))).next((f=>(u1(i,KR(e),f),{documents:f,Qs:l})))))}function u1(n,e,t){let i=n.Os.get(e)||we.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class __{constructor(){this.activeTargetIds=eC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c1{constructor(){this.Mo=new __,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new __,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="ConnectivityMonitor";class E_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(v_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function Nf(){return tc===null?tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RestConnection",d1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f1{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Sc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const h=Nf(),f=this.zo(e,t.toUriEncodedString());oe(Zd,`Sending RPC '${e}' ${h}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:y}=new URL(f),v=xs(y);return this.Jo(e,f,p,i,v).then((w=>(oe(Zd,`Received RPC '${e}' ${h}: `,w),w)),(w=>{throw Mo(Zd,`RPC '${e}' ${h} failed with error: `,w,"url: ",f,"request:",i),w}))}Ho(e,t,i,o,l,h){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=d1[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class m1 extends f1{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const h=Nf();return new Promise(((f,p)=>{const y=new Kv;y.setWithCredentials(!0),y.listenOnce(Qv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case lc.NO_ERROR:const w=y.getResponseJson();oe(Ft,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),f(w);break;case lc.TIMEOUT:oe(Ft,`RPC '${e}' ${h} timed out`),p(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const I=y.getStatus();if(oe(Ft,`RPC '${e}' ${h} failed with status:`,I,"response text:",y.getResponseText()),I>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const M=O?.error;if(M&&M.status&&M.message){const B=(function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Q)>=0?Q:$.UNKNOWN})(M.status);p(new ie(B,M.message))}else p(new ie($.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ie($.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Ft,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);oe(Ft,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",v,i,15)}))}T_(e,t,i){const o=Nf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Jv(),f=Xv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");oe(Ft,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=h.createWebChannel(v,p);this.I_(w);let I=!1,O=!1;const M=new p1({Yo:x=>{O?oe(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(I||(oe(Ft,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),oe(Ft,`RPC '${e}' stream ${o} sending:`,x),w.send(x))},Zo:()=>w.close()}),B=(x,K,Q)=>{x.listen(K,(te=>{try{Q(te)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return B(w,Za.EventType.OPEN,(()=>{O||(oe(Ft,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),B(w,Za.EventType.CLOSE,(()=>{O||(O=!0,oe(Ft,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(w))})),B(w,Za.EventType.ERROR,(x=>{O||(O=!0,Mo(Ft,`RPC '${e}' stream ${o} transport errored. Name:`,x.name,"Message:",x.message),M.a_(new ie($.UNAVAILABLE,"The operation could not be completed")))})),B(w,Za.EventType.MESSAGE,(x=>{if(!O){const K=x.data[0];je(!!K,16349);const Q=K,te=Q?.error||Q[0]?.error;if(te){oe(Ft,`RPC '${e}' stream ${o} received error:`,te);const ue=te.status;let Ee=(function(A){const R=pt[A];if(R!==void 0)return VE(R)})(ue),Ae=te.message;Ee===void 0&&(Ee=$.INTERNAL,Ae="Unknown error status: "+ue+" with message "+te.message),O=!0,M.a_(new ie(Ee,Ae)),w.close()}else oe(Ft,`RPC '${e}' stream ${o} received:`,K),M.u_(K)}})),B(f,Yv.STAT_EVENT,(x=>{x.stat===yf.PROXY?oe(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===yf.NOPROXY&&oe(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(n){return new vC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class KE{constructor(e,t,i,o,l,h,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new ie($.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(oe(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class g1 extends KE{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=TC(this.serializer,e),i=(function(l){if(!("targetChange"in l))return we.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?ur(h.readTime):we.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Pf(this.serializer),t.addTarget=(function(l,h){let f;const p=h.target;if(f=Tf(p)?{documents:SC(l,p)}:{query:RC(l,p).ft},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=ME(l,h.resumeToken);const y=Sf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(we.min())>0){f.readTime=kc(l,h.snapshotVersion.toTimestamp());const y=Sf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=PC(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Pf(this.serializer),t.removeTarget=e,this.q_(t)}}class y1 extends KE{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=AC(e.writeResults,e.commitTime),i=ur(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Pf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>IC(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{}class v1 extends _1{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,Rf(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ie($.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Ho(e,Rf(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ie($.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class E1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qr(t),this.aa=!1):oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class w1{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Ls(this)&&(oe(Ns,"Restarting streams for network reachability change."),await(async function(p){const y=Ie(p);y.Ea.add(4),await kl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await rh(y)})(this))}))})),this.Ra=new E1(i,o)}}async function rh(n){if(Ls(n))for(const e of n.da)await e(!0)}async function kl(n){for(const e of n.da)await e(!1)}function QE(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),gp(t)?mp(t):Qo(t).O_()&&pp(t,e))}function fp(n,e){const t=Ie(n),i=Qo(t);t.Ia.delete(e),i.O_()&&YE(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ls(t)&&t.Ra.set("Unknown"))}function pp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qo(n).Y_(e)}function YE(n,e){n.Va.Ue(e),Qo(n).Z_(e)}function mp(n){n.Va=new mC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Qo(n).start(),n.Ra.ua()}function gp(n){return Ls(n)&&!Qo(n).x_()&&n.Ia.size>0}function Ls(n){return Ie(n).Ea.size===0}function XE(n){n.Va=void 0}async function T1(n){n.Ra.set("Online")}async function I1(n){n.Ia.forEach(((e,t)=>{pp(n,e)}))}async function A1(n,e){XE(n),gp(n)?(n.Ra.ha(e),mp(n)):n.Ra.set("Unknown")}async function S1(n,e,t){if(n.Ra.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(i){oe(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xc(n,i)}else if(e instanceof dc?n.Va.Ze(e):e instanceof OE?n.Va.st(e):n.Va.tt(e),!t.isEqual(we.min()))try{const i=await $E(n.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.Va.Tt(h);return f.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(y);v&&l.Ia.set(y,v.withResumeToken(p.resumeToken,h))}})),f.targetMismatches.forEach(((p,y)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(xt.EMPTY_BYTE_STRING,v.snapshotVersion)),YE(l,p);const w=new ki(v.target,p,y,v.sequenceNumber);pp(l,w)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){oe(Ns,"Failed to raise snapshot:",i),await xc(n,i)}}async function xc(n,e,t){if(!Go(e))throw e;n.Ea.add(1),await kl(n),n.Ra.set("Offline"),t||(t=()=>$E(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{oe(Ns,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rh(n)}))}function JE(n,e){return e().catch((t=>xc(n,t,e)))}async function ih(n){const e=Ie(n),t=Ui(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zf;for(;R1(e);)try{const o=await a1(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,C1(e,o)}catch(o){await xc(e,o)}ZE(e)&&ew(e)}function R1(n){return Ls(n)&&n.Ta.length<10}function C1(n,e){n.Ta.push(e);const t=Ui(n);t.O_()&&t.X_&&t.ea(e.mutations)}function ZE(n){return Ls(n)&&!Ui(n).x_()&&n.Ta.length>0}function ew(n){Ui(n).start()}async function P1(n){Ui(n).ra()}async function k1(n){const e=Ui(n);for(const t of n.Ta)e.ea(t.mutations)}async function N1(n,e,t){const i=n.Ta.shift(),o=op.from(i,e,t);await JE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await ih(n)}async function x1(n,e){e&&Ui(n).X_&&await(async function(i,o){if((function(h){return dC(h)&&h!==$.ABORTED})(o.code)){const l=i.Ta.shift();Ui(i).B_(),await JE(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await ih(i)}})(n,e),ZE(n)&&ew(n)}async function T_(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),oe(Ns,"RemoteStore received new credentials");const i=Ls(t);t.Ea.add(3),await kl(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rh(t)}async function D1(n,e){const t=Ie(n);e?(t.Ea.delete(2),await rh(t)):e||(t.Ea.add(2),await kl(t),t.Ra.set("Unknown"))}function Qo(n){return n.ma||(n.ma=(function(t,i,o){const l=Ie(t);return l.sa(),new g1(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:T1.bind(null,n),t_:I1.bind(null,n),r_:A1.bind(null,n),H_:S1.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),gp(n)?mp(n):n.Ra.set("Unknown")):(await n.ma.stop(),XE(n))}))),n.ma}function Ui(n){return n.fa||(n.fa=(function(t,i,o){const l=Ie(t);return l.sa(),new y1(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:P1.bind(null,n),r_:x1.bind(null,n),ta:k1.bind(null,n),na:N1.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ih(n)):(await n.fa.stop(),n.Ta.length>0&&(oe(Ns,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new yp(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(n,e){if(qr("AsyncQueue",`${e}: ${n}`),Go(n))return new ie($.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||fe.comparator(t.key,i.key):(t,i)=>fe.comparator(t.key,i.key),this.keyedMap=el(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Oo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.ga=new nt(fe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class qo{constructor(e,t,i,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new qo(e,t,Oo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class O1{constructor(){this.queries=A_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Ie(t),l=o.queries;o.queries=A_(),l.forEach(((h,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new ie($.ABORTED,"Firestore shutting down"))}}function A_(){return new Os((n=>EE(n)),Xc)}async function vp(n,e){const t=Ie(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new V1,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=_p(h,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&wp(t)}async function Ep(n,e){const t=Ie(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function L1(n,e){const t=Ie(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.Sa)f.Fa(o)&&(i=!0);h.wa=o}}i&&wp(t)}function M1(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function wp(n){n.Ca.forEach((e=>{e.next()}))}var xf,S_;(S_=xf||(xf={})).Ma="default",S_.Cache="cache";class Tp{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.key=e}}class nw{constructor(e){this.key=e}}class b1{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=wE(e),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new I_,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const I=o.get(v),O=Jc(this.query,w)?w:null,M=!!I&&this.mutatedKeys.has(I.key),B=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let x=!1;I&&O?I.data.isEqual(O.data)?M!==B&&(i.track({type:3,doc:O}),x=!0):this.su(I,O)||(i.track({type:2,doc:O}),x=!0,(p&&this.eu(O,p)>0||y&&this.eu(O,y)<0)&&(f=!0)):!I&&O?(i.track({type:0,doc:O}),x=!0):I&&!O&&(i.track({type:1,doc:I}),x=!0,(p||y)&&(f=!0)),x&&(O?(h=h.add(O),l=B?l.add(v):l.delete(v)):(h=h.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:h,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,w)=>(function(O,M){const B=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:x})}};return B(O)-B(M)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,h.length!==0||y?{snapshot:new qo(this.query,e.tu,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new nw(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new tw(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=De();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ip="SyncEngine";class F1{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class U1{constructor(e){this.key=e,this.hu=!1}}class j1{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Os((f=>EE(f)),Xc),this.Iu=new Map,this.Eu=new Set,this.du=new nt(fe.comparator),this.Au=new Map,this.Ru=new up,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B1(n,e,t=!0){const i=lw(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await rw(i,e,t,!0),o}async function z1(n,e){const t=lw(n);await rw(t,e,!0,!1)}async function rw(n,e,t,i){const o=await l1(n.localStore,lr(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await q1(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&QE(n.remoteStore,o),f}async function q1(n,e,t,i,o){n.pu=(w,I,O)=>(async function(B,x,K,Q){let te=x.view.ru(K);te.Cs&&(te=await y_(B.localStore,x.query,!1).then((({documents:k})=>x.view.ru(k,te))));const ue=Q&&Q.targetChanges.get(x.targetId),Ee=Q&&Q.targetMismatches.get(x.targetId)!=null,Ae=x.view.applyChanges(te,B.isPrimaryClient,ue,Ee);return C_(B,x.targetId,Ae.au),Ae.snapshot})(n,w,I,O);const l=await y_(n.localStore,e,!0),h=new b1(e,l.Qs),f=h.ru(l.documents),p=Pl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(f,n.isPrimaryClient,p);C_(n,t,y.au);const v=new F1(e,t,h);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function W1(n,e,t){const i=Ie(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((h=>!Xc(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await kf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&fp(i.remoteStore,o.targetId),Df(i,o.targetId)})).catch($o)):(Df(i,o.targetId),await kf(i.localStore,o.targetId,!0))}async function H1(n,e){const t=Ie(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),fp(t.remoteStore,i.targetId))}async function $1(n,e,t){const i=Z1(n);try{const o=await(function(h,f){const p=Ie(h),y=Ye.now(),v=f.reduce(((O,M)=>O.add(M.key)),De());let w,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let M=Wr(),B=De();return p.Ns.getEntries(O,v).next((x=>{M=x,M.forEach(((K,Q)=>{Q.isValidDocument()||(B=B.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,M))).next((x=>{w=x;const K=[];for(const Q of f){const te=aC(Q,w.get(Q.key).overlayedDocument);te!=null&&K.push(new Wi(Q.key,te,dE(te.value.mapValue),Ln.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,K,f)})).next((x=>{I=x;const K=x.applyToLocalDocumentSet(w,B);return p.documentOverlayCache.saveOverlays(O,x.batchId,K)}))})).then((()=>({batchId:I.batchId,changes:IE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,p){let y=h.Vu[h.currentUser.toKey()];y||(y=new nt(xe)),y=y.insert(f,p),h.Vu[h.currentUser.toKey()]=y})(i,o.batchId,t),await Nl(i,o.changes),await ih(i.remoteStore)}catch(o){const l=_p(o,"Failed to persist write");t.reject(l)}}async function iw(n,e){const t=Ie(n);try{const i=await s1(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?je(h.hu,14607):o.removedDocuments.size>0&&(je(h.hu,42227),h.hu=!1))})),await Nl(t,i,e)}catch(i){await $o(i)}}function R_(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const p=Ie(h);p.onlineState=f;let y=!1;p.queries.forEach(((v,w)=>{for(const I of w.Sa)I.va(f)&&(y=!0)})),y&&wp(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function G1(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let h=new nt(fe.comparator);h=h.insert(l,jt.newNoDocument(l,we.min()));const f=De().add(l),p=new th(we.min(),new Map,new nt(xe),h,f);await iw(i,p),i.du=i.du.remove(l),i.Au.delete(e),Ap(i)}else await kf(i.localStore,e,!1).then((()=>Df(i,e,t))).catch($o)}async function K1(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await i1(t.localStore,e);ow(t,i,null),sw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Nl(t,o)}catch(o){await $o(o)}}async function Q1(n,e,t){const i=Ie(n);try{const o=await(function(h,f){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return p.mutationQueue.lookupMutationBatch(y,f).next((w=>(je(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(y,w)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>p.localDocuments.getDocuments(y,v)))}))})(i.localStore,e);ow(i,e,t),sw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Nl(i,o)}catch(o){await $o(o)}}function sw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function ow(n,e,t){const i=Ie(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Df(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||aw(n,i)}))}function aw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(fp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ap(n))}function C_(n,e,t){for(const i of t)i instanceof tw?(n.Ru.addReference(i.key,e),Y1(n,i)):i instanceof nw?(oe(Ip,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||aw(n,i.key)):_e(19791,{wu:i})}function Y1(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(oe(Ip,"New document in limbo: "+t),n.Eu.add(i),Ap(n))}function Ap(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new fe($e.fromString(e)),i=n.fu.next();n.Au.set(i,new U1(t)),n.du=n.du.insert(t,i),QE(n.remoteStore,new ki(lr(Yc(t.path)),i,"TargetPurposeLimboResolution",Gc.ce))}}async function Nl(n,e,t){const i=Ie(n),o=[],l=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{h.push(i.pu(p,e,t).then((y=>{if((y||t)&&i.isPrimaryClient){const v=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(y){o.push(y);const v=hp.As(p.targetId,y);l.push(v)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(p,y){const v=Ie(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>G.forEach(y,(I=>G.forEach(I.Es,(O=>v.persistence.referenceDelegate.addReference(w,I.targetId,O))).next((()=>G.forEach(I.ds,(O=>v.persistence.referenceDelegate.removeReference(w,I.targetId,O)))))))))}catch(w){if(!Go(w))throw w;oe(dp,"Failed to update sequence numbers: "+w)}for(const w of y){const I=w.targetId;if(!w.fromCache){const O=v.Ms.get(I),M=O.snapshotVersion,B=O.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(I,B)}}})(i.localStore,l))}async function X1(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){oe(Ip,"User change. New user:",e.toKey());const i=await HE(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new ie($.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Nl(t,i.Ls)}}function J1(n,e){const t=Ie(n),i=t.Au.get(e);if(i&&i.hu)return De().add(i.key);{let o=De();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const f=t.Tu.get(h);o=o.unionWith(f.view.nu)}return o}}function lw(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=iw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G1.bind(null,e),e.Pu.H_=L1.bind(null,e.eventManager),e.Pu.yu=M1.bind(null,e.eventManager),e}function Z1(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q1.bind(null,e),e}class Dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return r1(this.persistence,new e1,e.initialUser,this.serializer)}Cu(e){return new WE(cp.mi,this.serializer)}Du(e){return new c1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dc.provider={build:()=>new Dc};class eP extends Dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){je(this.persistence.referenceDelegate instanceof Nc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new UC(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new WE((i=>Nc.mi(i,t)),this.serializer)}}class Vf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>R_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=X1.bind(null,this.syncEngine),await D1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new O1})()}createDatastore(e){const t=nh(e.databaseInfo.databaseId),i=(function(l){return new m1(l)})(e.databaseInfo);return(function(l,h,f,p){return new v1(l,h,f,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new w1(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>R_(this.syncEngine,t,0)),(function(){return E_.v()?new E_:new h1})())}createSyncEngine(e,t){return(function(o,l,h,f,p,y,v){const w=new j1(o,l,h,f,p,y);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ie(t);oe(Ns,"RemoteStore shutting down."),i.Ea.add(5),await kl(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vf.provider={build:()=>new Vf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class tP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=Jf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{oe(ji,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(oe(ji,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=_p(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function tf(n,e){n.asyncQueue.verifyOperationInProgress(),oe(ji,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await HE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function P_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nP(n);oe(ji,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>T_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>T_(e.remoteStore,o))),n._onlineComponents=e}async function nP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe(ji,"Using user provided OfflineComponentProvider");try{await tf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Mo("Error using user provided cache. Falling back to memory cache: "+t),await tf(n,new Dc)}}else oe(ji,"Using default OfflineComponentProvider"),await tf(n,new eP(void 0));return n._offlineComponents}async function uw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe(ji,"Using user provided OnlineComponentProvider"),await P_(n,n._uninitializedComponentsProvider._online)):(oe(ji,"Using default OnlineComponentProvider"),await P_(n,new Vf))),n._onlineComponents}function rP(n){return uw(n).then((e=>e.syncEngine))}async function Vc(n){const e=await uw(n),t=e.eventManager;return t.onListen=B1.bind(null,e.syncEngine),t.onUnlisten=W1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=z1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=H1.bind(null,e.syncEngine),t}function iP(n,e,t={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,p,y){const v=new Sp({next:I=>{v.Nu(),h.enqueueAndForget((()=>Ep(l,w)));const O=I.docs.has(f);!O&&I.fromCache?y.reject(new ie($.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&p&&p.source==="server"?y.reject(new ie($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new Tp(Yc(f.path),v,{includeMetadataChanges:!0,qa:!0});return vp(l,w)})(await Vc(n),n.asyncQueue,e,t,i))),i.promise}function sP(n,e,t={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,p,y){const v=new Sp({next:I=>{v.Nu(),h.enqueueAndForget((()=>Ep(l,w))),I.fromCache&&p.source==="server"?y.reject(new ie($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new Tp(f,v,{includeMetadataChanges:!0,qa:!0});return vp(l,w)})(await Vc(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firestore.googleapis.com",N_=!0;class x_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hw,this.ssl=N_}else this.host=e.host,this.ssl=e.ssl??N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bC)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new hR;switch(i.type){case"firstParty":return new mR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=k_.get(t);i&&(oe("ComponentProvider","Removing Datastore"),k_.delete(t),i.terminate())})(this),Promise.resolve()}}function oP(n,e,t,i={}){n=dn(n,sh);const o=xs(e),l=n._getSettings(),h={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(Ff(`https://${f}`),Uf("Firestore",!0)),l.host!==hw&&l.host!==f&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!jr(p,h)&&(n._setSettings(p),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=Ut.MOCK_USER;else{y=av(i.mockUserToken,n._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ut(w)}n._authCredentials=new dR(new eE(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hi(this.firestore,e,this._query)}}class st{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Rl(t,st._jsonSchema))return new st(e,i||null,new fe($e.fromString(t.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:gt("string",st._jsonSchemaVersion),referencePath:gt("string")};class Vi extends Hi{constructor(e,t,i){super(e,t,Yc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new fe(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function Ts(n,e,...t){if(n=ct(n),tE("collection","path",e),n instanceof sh){const i=$e.fromString(e,...t);return Wy(i),new Vi(n,null,i)}{if(!(n instanceof st||n instanceof Vi))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($e.fromString(e,...t));return Wy(i),new Vi(n.firestore,null,i)}}function nl(n,e,...t){if(n=ct(n),arguments.length===1&&(e=Jf.newId()),tE("doc","path",e),n instanceof sh){const i=$e.fromString(e,...t);return qy(i),new st(n,null,new fe(i))}{if(!(n instanceof st||n instanceof Vi))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($e.fromString(e,...t));return qy(i),new st(n.firestore,n instanceof Vi?n.converter:null,new fe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GE(this,"async_queue_retry"),this._c=()=>{const i=ef();i&&oe(D_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=ef();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ef();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Go(e))throw e;oe(D_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,qr("INTERNAL UNHANDLED ERROR: ",O_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=yp.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function O_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Bi extends sh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new V_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function aP(n,e){const t=typeof n=="object"?n:zf(),i=typeof n=="string"?n:Sc,o=zc(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=iv("firestore");l&&oP(o,...l)}return o}function oh(n){if(n._terminated)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lP(n),n._firestoreClient}function lP(n){const e=n._freezeSettings(),t=(function(o,l,h,f){return new DR(o,l,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,cw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new tP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(xt.fromBase64String(e))}catch(t){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wn(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rl(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:gt("string",wn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(Rl(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:gt("string",cr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rl(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new hr(e.vectorValues);throw new ie($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:gt("string",hr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^__.*__$/;class cP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cl(e,this.data,t,this.fieldTransforms)}}class dw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Wi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:n})}}class lh{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fw(this.Ac)&&uP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||nh(e)}Cc(e,t,i,o=!1){return new lh({Ac:e,methodName:t,Dc:i,path:Nt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uh(n){const e=n._freezeSettings(),t=nh(n._databaseId);return new hP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pw(n,e,t,i,o,l={}){const h=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);kp("Data must be an object, but it was:",h,i);const f=gw(i,h);let p,y;if(l.merge)p=new hn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const I=Of(e,w,t);if(!h.contains(I))throw new ie($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);_w(v,I)||v.push(I)}p=new hn(v),y=h.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,y=h.fieldTransforms;return new cP(new Zt(f),p,y)}class ch extends Yo{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ch}}function mw(n,e,t){return new lh({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rp extends Yo{_toFieldTransform(e){return new sp(e.path,new _l)}isEqual(e){return e instanceof Rp}}class Cp extends Yo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=mw(this,e,!0),i=this.vc.map((l=>Ms(l,t))),o=new jo(i);return new sp(e.path,o)}isEqual(e){return e instanceof Cp&&jr(this.vc,e.vc)}}class Pp extends Yo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=mw(this,e,!0),i=this.vc.map((l=>Ms(l,t))),o=new Bo(i);return new sp(e.path,o)}isEqual(e){return e instanceof Pp&&jr(this.vc,e.vc)}}function dP(n,e,t,i){const o=n.Cc(1,e,t);kp("Data must be an object, but it was:",o,i);const l=[],h=Zt.empty();qi(i,((p,y)=>{const v=Np(e,p,t);y=ct(y);const w=o.yc(v);if(y instanceof ch)l.push(v);else{const I=Ms(y,w);I!=null&&(l.push(v),h.set(v,I))}}));const f=new hn(l);return new dw(h,f,o.fieldTransforms)}function fP(n,e,t,i,o,l){const h=n.Cc(1,e,t),f=[Of(e,i,t)],p=[o];if(l.length%2!=0)throw new ie($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)f.push(Of(e,l[I])),p.push(l[I+1]);const y=[],v=Zt.empty();for(let I=f.length-1;I>=0;--I)if(!_w(y,f[I])){const O=f[I];let M=p[I];M=ct(M);const B=h.yc(O);if(M instanceof ch)y.push(O);else{const x=Ms(M,B);x!=null&&(y.push(O),v.set(O,x))}}const w=new hn(y);return new dw(v,w,h.fieldTransforms)}function pP(n,e,t,i=!1){return Ms(t,n.Cc(i?4:3,e))}function Ms(n,e){if(yw(n=ct(n)))return kp("Unsupported field value:",e,n),gw(n,e);if(n instanceof Yo)return(function(i,o){if(!fw(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let p=Ms(f,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return tC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ye.fromDate(i);return{timestampValue:kc(o.serializer,l)}}if(i instanceof Ye){const l=new Ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kc(o.serializer,l)}}if(i instanceof cr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wn)return{bytesValue:ME(o.serializer,i._byteString)};if(i instanceof st){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:lp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof hr)return(function(h,f){return{mapValue:{fields:{[cE]:{stringValue:hE},[Rc]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return ip(f.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${$c(i)}`)})(n,e)}function gw(n,e){const t={};return iE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(n,((i,o)=>{const l=Ms(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function yw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof cr||n instanceof wn||n instanceof st||n instanceof Yo||n instanceof hr)}function kp(n,e,t){if(!yw(t)||!nE(t)){const i=$c(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Of(n,e,t){if((e=ct(e))instanceof ah)return e._internalPath;if(typeof e=="string")return Np(n,e);throw Oc("Field path arguments must be of type string or ",n,!1,void 0,t)}const mP=new RegExp("[~\\*/\\[\\]]");function Np(n,e,t){if(e.search(mP)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ah(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Oc(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new ie($.INVALID_ARGUMENT,f+n+p)}function _w(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gP extends vw{data(){return super.data()}}function hh(n,e){return typeof e=="string"?Np(n,e):e instanceof ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ie($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class ww extends xp{}function cl(n,e,...t){let i=[];e instanceof xp&&i.push(e),i=i.concat(t),(function(l){const h=l.filter((p=>p instanceof Dp)).length,f=l.filter((p=>p instanceof dh)).length;if(h>1||h>0&&f>0)throw new ie($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)n=o._apply(n);return n}class dh extends ww{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new dh(e,t,i)}_apply(e){const t=this._parse(e);return Iw(e._query,t),new Hi(e.firestore,e.converter,If(e._query,t))}_parse(e){const t=uh(e.firestore);return(function(l,h,f,p,y,v,w){let I;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ie($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){b_(w,v);const M=[];for(const B of w)M.push(M_(p,l,B));I={arrayValue:{values:M}}}else I=M_(p,l,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||b_(w,v),I=pP(f,h,w,v==="in"||v==="not-in");return mt.create(y,v,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nf(n,e,t){const i=e,o=hh("where",n);return dh._create(o,i,t)}class Dp extends xp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dp(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:bn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const f=l.getFlattenedFilters();for(const p of f)Iw(h,p),h=If(h,p)})(e._query,t),new Hi(e.firestore,e.converter,If(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vp extends ww{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vp(e,t)}_apply(e){const t=(function(o,l,h){if(o.startAt!==null)throw new ie($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yl(l,h)})(e._query,this._field,this._direction);return new Hi(e.firestore,e.converter,(function(o,l){const h=o.explicitOrderBy.concat([l]);return new Ko(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Tw(n,e="asc"){const t=e,i=hh("orderBy",n);return Vp._create(i,t)}function M_(n,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new ie($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(e)&&t.indexOf("/")!==-1)throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child($e.fromString(t));if(!fe.isDocumentKey(i))throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Jy(n,new fe(i))}if(t instanceof st)return Jy(n,t._key);throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$c(t)}.`)}function b_(n,e){if(!Array.isArray(n)||n.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Iw(n,e){const t=(function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yP{convertValue(e,t="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return qi(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Rc].arrayValue?.values?.map((i=>ut(i.doubleValue)));return new hr(t)}convertGeoPoint(e){return new cr(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Qc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pl(e));default:return null}}convertTimestamp(e){const t=Mi(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=$e.fromString(e);je(zE(i),9688,{name:e});const o=new ml(i.get(1),i.get(3)),l=new fe(i.popFirst(5));return o.isEqual(t)||qr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class rl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class As extends vw{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(hh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=As._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:gt("string",As._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class fc extends As{data(e={}){return super.data(e)}}class Ss{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new rl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new fc(this._firestore,this._userDataWriter,i.key,i,new rl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const p=new fc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new rl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new fc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new rl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),v=h.indexOf(f.doc.key)),{type:_P(f.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ss._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _P(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n){n=dn(n,st);const e=dn(n.firestore,Bi);return iP(oh(e),n._key).then((t=>Rw(e,n,t)))}Ss._jsonSchemaVersion="firestore/querySnapshot/1.0",Ss._jsonSchema={type:gt("string",Ss._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class Op extends yP{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,t)}}function F_(n){n=dn(n,Hi);const e=dn(n.firestore,Bi),t=oh(e),i=new Op(e);return Ew(n._query),sP(t,n._query).then((o=>new Ss(e,i,n,o)))}function U_(n,e,t){n=dn(n,st);const i=dn(n.firestore,Bi),o=Aw(n.converter,e,t);return Mp(i,[pw(uh(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Ln.none())])}function rf(n,e,t,...i){n=dn(n,st);const o=dn(n.firestore,Bi),l=uh(o);let h;return h=typeof(e=ct(e))=="string"||e instanceof ah?fP(l,"updateDoc",n._key,e,t,i):dP(l,"updateDoc",n._key,e),Mp(o,[h.toMutation(n._key,Ln.exists(!0))])}function Sw(n,e){const t=dn(n.firestore,Bi),i=nl(n),o=Aw(n.converter,e);return Mp(t,[pw(uh(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Ln.exists(!1))]).then((()=>i))}function Lp(n,...e){n=ct(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||L_(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(L_(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,h,f;if(n instanceof st)h=dn(n.firestore,Bi),f=Yc(n._key.path),l={next:p=>{e[i]&&e[i](Rw(h,n,p))},error:e[i+1],complete:e[i+2]};else{const p=dn(n,Hi);h=dn(p.firestore,Bi),f=p._query;const y=new Op(h);l={next:v=>{e[i]&&e[i](new Ss(h,y,p,v))},error:e[i+1],complete:e[i+2]},Ew(n._query)}return(function(y,v,w,I){const O=new Sp(I),M=new Tp(v,O,w);return y.asyncQueue.enqueueAndForget((async()=>vp(await Vc(y),M))),()=>{O.Nu(),y.asyncQueue.enqueueAndForget((async()=>Ep(await Vc(y),M)))}})(oh(h),f,o,l)}function Mp(n,e){return(function(i,o){const l=new Fr;return i.asyncQueue.enqueueAndForget((async()=>$1(await rP(i),o,l))),l.promise})(oh(n),e)}function Rw(n,e,t){const i=t.docs.get(e._key),o=new Op(n);return new As(n,o,e._key,i,new rl(t.hasPendingWrites,t.fromCache),e.converter)}function EP(){return new Rp("serverTimestamp")}function wP(...n){return new Cp("arrayUnion",n)}function TP(...n){return new Pp("arrayRemove",n)}(function(e,t=!0){(function(o){Ho=o})(Ds),Rs(new Oi("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new Bi(new fR(i.getProvider("auth-internal")),new gR(h,i.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(y.options.projectId,v)})(h,o),h);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),sr(Uy,jy,e),sr(Uy,jy,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebasestorage.googleapis.com",IP="storageBucket",AP=120*1e3,SP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends pr{constructor(e,t,i=0){super(sf(e),`Firebase Storage: ${t} (${sf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fr||(fr={}));function sf(n){return"storage/"+n}function RP(){const n="An unknown error occurred, please check the error payload for server response.";return new mr(fr.UNKNOWN,n)}function CP(){return new mr(fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PP(){return new mr(fr.CANCELED,"User canceled the upload/download.")}function kP(n){return new mr(fr.INVALID_URL,"Invalid URL '"+n+"'.")}function NP(n){return new mr(fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function j_(n){return new mr(fr.INVALID_ARGUMENT,n)}function Pw(){return new mr(fr.APP_DELETED,"The Firebase app was deleted.")}function xP(n){return new mr(fr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Vn.makeFromUrl(e,t)}catch{return new Vn(e,"")}if(i.path==="")return i;throw NP(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const h="(/(.*))?$",f=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function y(ue){ue.path_=decodeURIComponent(ue.path)}const v="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",O=new RegExp(`^https?://${w}/${v}/b/${o}/o${I}`,"i"),M={bucket:1,path:3},B=t===Cw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",K=new RegExp(`^https?://${B}/${o}/${x}`,"i"),te=[{regex:f,indices:p,postModify:l},{regex:O,indices:M,postModify:y},{regex:K,indices:{bucket:1,path:2},postModify:y}];for(let ue=0;ue<te.length;ue++){const Ee=te[ue],Ae=Ee.regex.exec(e);if(Ae){const k=Ae[Ee.indices.bucket];let A=Ae[Ee.indices.path];A||(A=""),i=new Vn(k,A),Ee.postModify(i);break}}if(i==null)throw kP(e);return i}}class DP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(n,e,t){let i=1,o=null,l=null,h=!1,f=0;function p(){return f===2}let y=!1;function v(...x){y||(y=!0,e.apply(null,x))}function w(x){o=setTimeout(()=>{o=null,n(O,p())},x)}function I(){l&&clearTimeout(l)}function O(x,...K){if(y){I();return}if(x){I(),v.call(null,x,...K);return}if(p()||h){I(),v.call(null,x,...K);return}i<64&&(i*=2);let te;f===1?(f=2,te=0):te=(i+Math.random())*1e3,w(te)}let M=!1;function B(x){M||(M=!0,I(),!y&&(o!==null?(x||(f=2),clearTimeout(o),w(0)):x||(f=1)))}return w(0),l=setTimeout(()=>{h=!0,B(!0)},t),B}function OP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n){return n!==void 0}function B_(n,e,t,i){if(i<e)throw j_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw j_(`Invalid value for '${n}'. Expected ${t} or less.`)}function MP(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Lc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Lc||(Lc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t,i,o,l,h,f,p,y,v,w,I=!0,O=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=f,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=w,this.retry=I,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,B)=>{this.resolve_=M,this.reject_=B,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new nc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=f=>{const p=f.loaded,y=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const f=l.getErrorCode()===Lc.NO_ERROR,p=l.getStatus();if(!f||bP(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Lc.ABORT;i(!1,new nc(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new nc(y,l))})},t=(i,o)=>{const l=this.resolve_,h=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());LP(p)?l(p):l()}catch(p){h(p)}else if(f!==null){const p=RP();p.serverResponse=f.getErrorText(),this.errorCallback_?h(this.errorCallback_(f,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Pw():PP();h(p)}else{const p=CP();h(p)}};this.canceled_?t(!1,new nc(!1,null,!0)):this.backoffId_=VP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&OP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function UP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function jP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function zP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function qP(n,e,t,i,o,l,h=!0,f=!1){const p=MP(n.urlParams),y=n.url+p,v=Object.assign({},n.headers);return BP(v,e),UP(v,t),jP(v,l),zP(v,i),new FP(y,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function HP(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t){this._service=e,t instanceof Vn?this._location=t:this._location=Vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Mc(e,t)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HP(this._location.path)}get storage(){return this._service}get parent(){const e=WP(this._location.path);if(e===null)return null;const t=new Vn(this._location.bucket,e);return new Mc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw xP(e)}}function z_(n,e){const t=e?.[IP];return t==null?null:Vn.makeFromBucketSpec(t,n)}function $P(n,e,t,i={}){n.host=`${e}:${t}`;const o=xs(e);o&&(Ff(`https://${n.host}/b`),Uf("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:av(l,n.app.options.projectId))}class GP{constructor(e,t,i,o,l,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=h,this._bucket=null,this._host=Cw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AP,this._maxUploadRetryTime=SP,this._requests=new Set,o!=null?this._bucket=Vn.makeFromBucketSpec(o,this._host):this._bucket=z_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=z_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){B_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){B_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mc(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new DP(Pw());{const h=qP(e,this._appId,i,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const q_="@firebase/storage",W_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="storage";function KP(n=zf(),e){n=ct(n);const i=zc(n,kw).getImmediate({identifier:e}),o=iv("storage");return o&&QP(i,...o),i}function QP(n,e,t,i={}){$P(n,e,t,i)}function YP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new GP(t,i,o,e,Ds)}function XP(){Rs(new Oi(kw,YP,"PUBLIC").setMultipleInstances(!0)),sr(q_,W_,""),sr(q_,W_,"esm2020")}XP();const JP={apiKey:"AIzaSyCEw0bPvvgqbOqVXyUXcPvKeJsyTcm9S44",authDomain:"chat-friends-40d1f.firebaseapp.com",projectId:"chat-friends-40d1f",storageBucket:"chat-friends-40d1f.firebasestorage.app",messagingSenderId:"283372982957",appId:"1:283372982957:web:2c5c0d944500d590d5ac24"},bp=cv(JP),bc=uR(bp),On=aP(bp);KP(bp);const Nw=q.createContext(),ZP=({children:n})=>{const[e,t]=q.useState(null),[i,o]=q.useState(null),[l,h]=q.useState(!0);q.useEffect(()=>{const w=X0(bc,async I=>{if(t(I),I){const O=nl(On,"users",I.uid),M=await vP(O);if(M.exists()){const B=M.data();(!B.username||!B.friends)&&await rf(O,{username:B.username||B.name?.toLowerCase()||I.email.split("@")[0],friends:B.friends||[]}),o({uid:I.uid,...B,friends:B.friends||[]})}else{const B={name:I.displayName||"Guest",bio:"",avatar:I.photoURL||"",username:I.email.split("@")[0],friends:[]};await U_(O,B),o({uid:I.uid,...B})}}else o(null);h(!1)});return()=>w()},[]);const f=async(w,I,O)=>{if(!e)return;const M=nl(On,"users",e.uid);await U_(M,{name:w,bio:I,avatar:O},{merge:!0}),o(B=>({...B,name:w,bio:I,avatar:O}))},p=async w=>{if(!e||!w)return;const I=nl(On,"users",e.uid);await rf(I,{friends:wP(w)}),o(O=>({...O,friends:[...O.friends||[],w]}))},y=async w=>{if(!e)return;const I=nl(On,"users",e.uid);await rf(I,{friends:TP(w)}),o(O=>({...O,friends:O.friends.filter(M=>M!==w)}))},v=async()=>{await J0(bc),t(null),o(null)};return H.jsx(Nw.Provider,{value:{user:e,profile:i,updateProfile:f,logout:v,addFriend:p,removeFriend:y,loading:l},children:!l&&n})},xl=()=>q.useContext(Nw);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H_="popstate";function ek(n={}){function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return Lf("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:vl(o)}return nk(e,t,null,n)}function Ze(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tk(){return Math.random().toString(36).substring(2,10)}function $_(n,e){return{usr:n.state,key:n.key,idx:e}}function Lf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xo(e):e,state:t,key:e&&e.key||i||tk()}}function vl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function nk(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f="POP",p=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function w(){f="POP";let x=v(),K=x==null?null:x-y;y=x,p&&p({action:f,location:B.location,delta:K})}function I(x,K){f="PUSH";let Q=Lf(B.location,x,K);y=v()+1;let te=$_(Q,y),ue=B.createHref(Q);try{h.pushState(te,"",ue)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(ue)}l&&p&&p({action:f,location:B.location,delta:1})}function O(x,K){f="REPLACE";let Q=Lf(B.location,x,K);y=v();let te=$_(Q,y),ue=B.createHref(Q);h.replaceState(te,"",ue),l&&p&&p({action:f,location:B.location,delta:0})}function M(x){return rk(x)}let B={get action(){return f},get location(){return n(o,h)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(H_,w),p=x,()=>{o.removeEventListener(H_,w),p=null}},createHref(x){return e(o,x)},createURL:M,encodeLocation(x){let K=M(x);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:I,replace:O,go(x){return h.go(x)}};return B}function rk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:vl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function xw(n,e,t="/"){return ik(n,e,t,!1)}function ik(n,e,t,i){let o=typeof e=="string"?Xo(e):e,l=Hr(o.pathname||"/",t);if(l==null)return null;let h=Dw(n);sk(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=gk(l);f=pk(h[p],y,i)}return f}function Dw(n,e=[],t=[],i="",o=!1){let l=(h,f,p=o,y)=>{let v={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;Ze(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let w=Ur([i,v.relativePath]),I=t.concat(v);h.children&&h.children.length>0&&(Ze(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Dw(h.children,e,I,w,p)),!(h.path==null&&!h.index)&&e.push({path:w,score:dk(w,h.index),routesMeta:I})};return n.forEach((h,f)=>{if(h.path===""||!h.path?.includes("?"))l(h,f);else for(let p of Vw(h.path))l(h,f,!0,p)}),e}function Vw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=Vw(i.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function sk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fk(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var ok=/^:[\w-]+$/,ak=3,lk=2,uk=1,ck=10,hk=-2,G_=n=>n==="*";function dk(n,e){let t=n.split("/"),i=t.length;return t.some(G_)&&(i+=hk),e&&(i+=lk),t.filter(o=>!G_(o)).reduce((o,l)=>o+(ok.test(l)?ak:l===""?uk:ck),i)}function fk(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function pk(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",h=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",w=Fc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),I=p.route;if(!w&&y&&t&&!i[i.length-1].route.index&&(w=Fc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:Ur([l,w.pathname]),pathnameBase:Ek(Ur([l,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(l=Ur([l,w.pathnameBase]))}return h}function Fc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=mk(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:w},I)=>{if(v==="*"){let M=f[I]||"";h=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const O=f[I];return w&&!O?y[v]=void 0:y[v]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function mk(n,e=!1,t=!0){Fn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function gk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function yk(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Xo(n):n;return{pathname:t?t.startsWith("/")?t:_k(t,e):e,search:wk(i),hash:Tk(o)}}function _k(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function of(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fp(n){let e=vk(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Up(n,e,t,i=!1){let o;typeof n=="string"?o=Xo(n):(o={...n},Ze(!o.pathname||!o.pathname.includes("?"),of("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),of("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),of("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let w=e.length-1;if(!i&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}f=w>=0?e[w]:"/"}let p=yk(o,f),y=h&&h!=="/"&&h.endsWith("/"),v=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var Ur=n=>n.join("/").replace(/\/\/+/g,"/"),Ek=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),wk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Tk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Ik(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ow=["POST","PUT","PATCH","DELETE"];new Set(Ow);var Ak=["GET",...Ow];new Set(Ak);var Jo=q.createContext(null);Jo.displayName="DataRouter";var fh=q.createContext(null);fh.displayName="DataRouterState";q.createContext(!1);var Lw=q.createContext({isTransitioning:!1});Lw.displayName="ViewTransition";var Sk=q.createContext(new Map);Sk.displayName="Fetchers";var Rk=q.createContext(null);Rk.displayName="Await";var Un=q.createContext(null);Un.displayName="Navigation";var Dl=q.createContext(null);Dl.displayName="Location";var gr=q.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var jp=q.createContext(null);jp.displayName="RouteError";function Ck(n,{relative:e}={}){Ze(Zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=q.useContext(Un),{hash:o,pathname:l,search:h}=Vl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Ur([t,l])),i.createHref({pathname:f,search:h,hash:o})}function Zo(){return q.useContext(Dl)!=null}function $i(){return Ze(Zo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Dl).location}var Mw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bw(n){q.useContext(Un).static||q.useLayoutEffect(n)}function ea(){let{isDataRoute:n}=q.useContext(gr);return n?jk():Pk()}function Pk(){Ze(Zo(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(Jo),{basename:e,navigator:t}=q.useContext(Un),{matches:i}=q.useContext(gr),{pathname:o}=$i(),l=JSON.stringify(Fp(i)),h=q.useRef(!1);return bw(()=>{h.current=!0}),q.useCallback((p,y={})=>{if(Fn(h.current,Mw),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=Up(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ur([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,l,o,n])}q.createContext(null);function Vl(n,{relative:e}={}){let{matches:t}=q.useContext(gr),{pathname:i}=$i(),o=JSON.stringify(Fp(t));return q.useMemo(()=>Up(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function kk(n,e){return Fw(n,e)}function Fw(n,e,t,i,o){Ze(Zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=q.useContext(Un),{matches:h}=q.useContext(gr),f=h[h.length-1],p=f?f.params:{},y=f?f.pathname:"/",v=f?f.pathnameBase:"/",w=f&&f.route;{let Q=w&&w.path||"";Uw(y,!w||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let I=$i(),O;if(e){let Q=typeof e=="string"?Xo(e):e;Ze(v==="/"||Q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),O=Q}else O=I;let M=O.pathname||"/",B=M;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");B="/"+M.replace(/^\//,"").split("/").slice(Q.length).join("/")}let x=xw(n,{pathname:B});Fn(w||x!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Fn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Ok(x&&x.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:Ur([v,l.encodeLocation?l.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:Ur([v,l.encodeLocation?l.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),h,t,i,o);return e&&K?q.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},K):K}function Nk(){let n=Uk(),e=Ik(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:l},"ErrorBoundary")," or"," ",q.createElement("code",{style:l},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:o},t):null,h)}var xk=q.createElement(Nk,null),Dk=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?q.createElement(gr.Provider,{value:this.props.routeContext},q.createElement(jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vk({routeContext:n,match:e,children:t}){let i=q.useContext(Jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(gr.Provider,{value:n},t)}function Ok(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,h=t?.errors;if(h!=null){let y=l.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);Ze(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,p=-1;if(t)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:w,errors:I}=t,O=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!I||I[v.route.id]===void 0);if(v.route.lazy||O){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,v,w)=>{let I,O=!1,M=null,B=null;t&&(I=h&&v.route.id?h[v.route.id]:void 0,M=v.route.errorElement||xk,f&&(p<0&&w===0?(Uw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,B=null):p===w&&(O=!0,B=v.route.hydrateFallbackElement||null)));let x=e.concat(l.slice(0,w+1)),K=()=>{let Q;return I?Q=M:O?Q=B:v.route.Component?Q=q.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=y,q.createElement(Vk,{match:v,routeContext:{outlet:y,matches:x,isDataRoute:t!=null},children:Q})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?q.createElement(Dk,{location:t.location,revalidation:t.revalidation,component:M,error:I,children:K(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:i}):K()},null)}function Bp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lk(n){let e=q.useContext(Jo);return Ze(e,Bp(n)),e}function Mk(n){let e=q.useContext(fh);return Ze(e,Bp(n)),e}function bk(n){let e=q.useContext(gr);return Ze(e,Bp(n)),e}function zp(n){let e=bk(n),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Fk(){return zp("useRouteId")}function Uk(){let n=q.useContext(jp),e=Mk("useRouteError"),t=zp("useRouteError");return n!==void 0?n:e.errors?.[t]}function jk(){let{router:n}=Lk("useNavigate"),e=zp("useNavigate"),t=q.useRef(!1);return bw(()=>{t.current=!0}),q.useCallback(async(o,l={})=>{Fn(t.current,Mw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var K_={};function Uw(n,e,t){!e&&!K_[n]&&(K_[n]=!0,Fn(!1,t))}q.memo(Bk);function Bk({routes:n,future:e,state:t,unstable_onError:i}){return Fw(n,void 0,t,i,e)}function Q_({to:n,replace:e,state:t,relative:i}){Ze(Zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Un);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=q.useContext(gr),{pathname:h}=$i(),f=ea(),p=Up(n,Fp(l),h,i==="path"),y=JSON.stringify(p);return q.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:i})},[f,y,i,e,t]),null}function Ai(n){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zk({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Ze(!Zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Xo(t));let{pathname:p="/",search:y="",hash:v="",state:w=null,key:I="default"}=t,O=q.useMemo(()=>{let M=Hr(p,h);return M==null?null:{location:{pathname:M,search:y,hash:v,state:w,key:I},navigationType:i}},[h,p,y,v,w,I,i]);return Fn(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:q.createElement(Un.Provider,{value:f},q.createElement(Dl.Provider,{children:e,value:O}))}function qk({children:n,location:e}){return kk(Mf(n),e)}function Mf(n,e=[]){let t=[];return q.Children.forEach(n,(i,o)=>{if(!q.isValidElement(i))return;let l=[...e,o];if(i.type===q.Fragment){t.push.apply(t,Mf(i.props.children,l));return}Ze(i.type===Ai,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Mf(i.props.children,l)),t.push(h)}),t}var pc="get",mc="application/x-www-form-urlencoded";function ph(n){return n!=null&&typeof n.tagName=="string"}function Wk(n){return ph(n)&&n.tagName.toLowerCase()==="button"}function Hk(n){return ph(n)&&n.tagName.toLowerCase()==="form"}function $k(n){return ph(n)&&n.tagName.toLowerCase()==="input"}function Gk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Kk(n,e){return n.button===0&&(!e||e==="_self")&&!Gk(n)}var rc=null;function Qk(){if(rc===null)try{new FormData(document.createElement("form"),0),rc=!1}catch{rc=!0}return rc}var Yk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function af(n){return n!=null&&!Yk.has(n)?(Fn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):n}function Xk(n,e){let t,i,o,l,h;if(Hk(n)){let f=n.getAttribute("action");i=f?Hr(f,e):null,t=n.getAttribute("method")||pc,o=af(n.getAttribute("enctype"))||mc,l=new FormData(n)}else if(Wk(n)||$k(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?Hr(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||pc,o=af(n.getAttribute("formenctype"))||af(f.getAttribute("enctype"))||mc,l=new FormData(f,n),!Qk()){let{name:y,type:v,value:w}=n;if(v==="image"){let I=y?`${y}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else y&&l.append(y,w)}}else{if(ph(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=pc,i=null,o=mc,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jk(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Hr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function Zk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tN(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await Zk(l,t);return h.links?h.links():[]}return[]}));return sN(i.flat(1).filter(eN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Y_(n,e,t,i,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>t[y].pathname!==p.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function nN(n,e,{includeHydrateFallback:t}={}){return rN(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function rN(n){return[...new Set(n)]}function iN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function sN(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(iN(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function jw(){let n=q.useContext(Jo);return qp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oN(){let n=q.useContext(fh);return qp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wp=q.createContext(void 0);Wp.displayName="FrameworkContext";function Bw(){let n=q.useContext(Wp);return qp(n,"You must render this element inside a <HydratedRouter> element"),n}function aN(n,e){let t=q.useContext(Wp),[i,o]=q.useState(!1),[l,h]=q.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:w}=e,I=q.useRef(null);q.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let B=K=>{K.forEach(Q=>{h(Q.isIntersecting)})},x=new IntersectionObserver(B,{threshold:.5});return I.current&&x.observe(I.current),()=>{x.disconnect()}}},[n]),q.useEffect(()=>{if(i){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[i]);let O=()=>{o(!0)},M=()=>{o(!1),h(!1)};return t?n!=="intent"?[l,I,{}]:[l,I,{onFocus:Ya(f,O),onBlur:Ya(p,M),onMouseEnter:Ya(y,O),onMouseLeave:Ya(v,M),onTouchStart:Ya(w,O)}]:[!1,I,{}]}function Ya(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function lN({page:n,...e}){let{router:t}=jw(),i=q.useMemo(()=>xw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?q.createElement(cN,{page:n,matches:i,...e}):null}function uN(n){let{manifest:e,routeModules:t}=Bw(),[i,o]=q.useState([]);return q.useEffect(()=>{let l=!1;return tN(n,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[n,e,t]),i}function cN({page:n,matches:e,...t}){let i=$i(),{manifest:o,routeModules:l}=Bw(),{basename:h}=jw(),{loaderData:f,matches:p}=oN(),y=q.useMemo(()=>Y_(n,e,p,o,i,"data"),[n,e,p,o,i]),v=q.useMemo(()=>Y_(n,e,p,o,i,"assets"),[n,e,p,o,i]),w=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,B=!1;if(e.forEach(K=>{let Q=o.routes[K.route.id];!Q||!Q.hasLoader||(!y.some(te=>te.route.id===K.route.id)&&K.route.id in f&&l[K.route.id]?.shouldRevalidate||Q.hasClientLoader?B=!0:M.add(K.route.id))}),M.size===0)return[];let x=Jk(n,h,"data");return B&&M.size>0&&x.searchParams.set("_routes",e.filter(K=>M.has(K.route.id)).map(K=>K.route.id).join(",")),[x.pathname+x.search]},[h,f,i,o,y,e,n,l]),I=q.useMemo(()=>nN(v,o),[v,o]),O=uN(v);return q.createElement(q.Fragment,null,w.map(M=>q.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),I.map(M=>q.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),O.map(({key:M,link:B})=>q.createElement("link",{key:M,nonce:t.nonce,...B})))}function hN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zw&&(window.__reactRouterVersion="7.9.3")}catch{}function dN({basename:n,children:e,window:t}){let i=q.useRef();i.current==null&&(i.current=ek({window:t,v5Compat:!0}));let o=i.current,[l,h]=q.useState({action:o.action,location:o.location}),f=q.useCallback(p=>{q.startTransition(()=>h(p))},[h]);return q.useLayoutEffect(()=>o.listen(f),[o,f]),q.createElement(zk,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mh=q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:v,viewTransition:w,...I},O){let{basename:M}=q.useContext(Un),B=typeof y=="string"&&qw.test(y),x,K=!1;if(typeof y=="string"&&B&&(x=y,zw))try{let R=new URL(window.location.href),D=y.startsWith("//")?new URL(R.protocol+y):new URL(y),N=Hr(D.pathname,M);D.origin===R.origin&&N!=null?y=N+D.search+D.hash:K=!0}catch{Fn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=Ck(y,{relative:o}),[te,ue,Ee]=aN(i,I),Ae=gN(y,{replace:h,state:f,target:p,preventScrollReset:v,relative:o,viewTransition:w});function k(R){e&&e(R),R.defaultPrevented||Ae(R)}let A=q.createElement("a",{...I,...Ee,href:x||Q,onClick:K||l?e:k,ref:hN(O,ue),target:p,"data-discover":!B&&t==="render"?"true":void 0});return te&&!B?q.createElement(q.Fragment,null,A,q.createElement(lN,{page:Q})):A});mh.displayName="Link";var fN=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:f,children:p,...y},v){let w=Vl(h,{relative:y.relative}),I=$i(),O=q.useContext(fh),{navigator:M,basename:B}=q.useContext(Un),x=O!=null&&wN(w)&&f===!0,K=M.encodeLocation?M.encodeLocation(w).pathname:w.pathname,Q=I.pathname,te=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),te=te?te.toLowerCase():null,K=K.toLowerCase()),te&&B&&(te=Hr(te,B)||te);const ue=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let Ee=Q===K||!o&&Q.startsWith(K)&&Q.charAt(ue)==="/",Ae=te!=null&&(te===K||!o&&te.startsWith(K)&&te.charAt(K.length)==="/"),k={isActive:Ee,isPending:Ae,isTransitioning:x},A=Ee?e:void 0,R;typeof i=="function"?R=i(k):R=[i,Ee?"active":null,Ae?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(k):l;return q.createElement(mh,{...y,"aria-current":A,className:R,ref:v,style:D,to:h,viewTransition:f},typeof p=="function"?p(k):p)});fN.displayName="NavLink";var pN=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=pc,action:f,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:w,...I},O)=>{let M=vN(),B=EN(f,{relative:y}),x=h.toLowerCase()==="get"?"get":"post",K=typeof f=="string"&&qw.test(f),Q=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let ue=te.nativeEvent.submitter,Ee=ue?.getAttribute("formmethod")||h;M(ue||te.currentTarget,{fetcherKey:e,method:Ee,navigate:t,replace:o,state:l,relative:y,preventScrollReset:v,viewTransition:w})};return q.createElement("form",{ref:O,method:x,action:B,onSubmit:i?p:Q,...I,"data-discover":!K&&n==="render"?"true":void 0})});pN.displayName="Form";function mN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ww(n){let e=q.useContext(Jo);return Ze(e,mN(n)),e}function gN(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=ea(),p=$i(),y=Vl(n,{relative:l});return q.useCallback(v=>{if(Kk(v,e)){v.preventDefault();let w=t!==void 0?t:vl(p)===vl(y);f(n,{replace:w,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[p,f,y,t,i,e,n,o,l,h])}var yN=0,_N=()=>`__${String(++yN)}__`;function vN(){let{router:n}=Ww("useSubmit"),{basename:e}=q.useContext(Un),t=Fk();return q.useCallback(async(i,o={})=>{let{action:l,method:h,encType:f,formData:p,body:y}=Xk(i,e);if(o.navigate===!1){let v=o.fetcherKey||_N();await n.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function EN(n,{relative:e}={}){let{basename:t}=q.useContext(Un),i=q.useContext(gr);Ze(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Vl(n||".",{relative:e})},h=$i();if(n==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ur([t,l.pathname])),vl(l)}function wN(n,{relative:e}={}){let t=q.useContext(Lw);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ww("useViewTransitionState"),o=Vl(n,{relative:e});if(!t.isTransitioning)return!1;let l=Hr(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Hr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Fc(o.pathname,h)!=null||Fc(o.pathname,l)!=null}const TN=()=>{const[n,e]=q.useState(""),[t,i]=q.useState(""),o=ea(),l=async h=>{h.preventDefault();try{await $0(bc,n,t),alert("Login successful!"),o("/profile")}catch(f){alert(f.message)}};return H.jsx("div",{className:"login",children:H.jsxs("div",{className:"login-container",children:[H.jsx("h2",{children:"Login"}),H.jsxs("form",{onSubmit:l,children:[H.jsx("input",{onChange:h=>e(h.target.value),type:"email",placeholder:"Email",required:!0}),H.jsx("input",{onChange:h=>i(h.target.value),type:"password",placeholder:"Password",required:!0}),H.jsx("button",{type:"submit",children:"Login"})]}),H.jsxs("p",{children:["Dont have an account? ",H.jsx(mh,{to:"/signup",children:"Sign Up"})]})]})})},IN=()=>{const[n,e]=q.useState(""),[t,i]=q.useState(""),[o,l]=q.useState(""),[h,f]=q.useState(!1),p=ea(),y=async v=>{v.preventDefault(),f(!0);try{const w=await H0(bc,t,o);await K0(w.user,{displayName:n}),alert("Account created successfully!"),p("/profile")}catch(w){alert(w.message)}finally{f(!1)}};return H.jsx("div",{className:"signup",children:H.jsxs("div",{className:"signup-container",children:[H.jsx("h2",{children:"Create Account"}),H.jsxs("form",{onSubmit:y,children:[H.jsx("input",{onChange:v=>e(v.target.value),type:"text",placeholder:"Username",required:!0}),H.jsx("input",{onChange:v=>i(v.target.value),type:"email",placeholder:"Email",required:!0}),H.jsx("input",{onChange:v=>l(v.target.value),type:"password",placeholder:"Password",required:!0}),H.jsx("button",{type:"submit",disabled:h,children:h?"Creating...":"Sign Up"})]}),H.jsxs("p",{children:["Already have an account? ",H.jsx(mh,{to:"/login",children:"Login"})]})]})})},AN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdTSURBVHgB7Z3dTtRaFMcXdaKi0YhRExMT6o0X3ihXiMak8wTqExzmCTznCZQ30CcQn0B9AiYhQOACOCEhgQRSEi5IIHwGGAgfrn/Ze1LKdPq1d3eZmV/SdGiGYfpnde2111rd7aKCMDExYZ+dnTn80rYsqxd7bOfn5w+6uroe+N/Lx7b52Da/dLE/PT39n/ezfNx99+7dLBWALjIEhGRBPt64ceMDC/I6KF5ahOiz/Nl/+LN/DwwMuGSAXIWdmZl5UKvVPvPLQbqwyDxwWeTveYuci7Cjo6NOqVT6wi8dMkuVLfr727dvf5NmtApbIEGDuOzPh9gfD5MmtAhbYEGDuCcnJ5X3799XSTFKhYUPPTw8/MGDx0e6XgzzNqTSBysTdnx8HGL+UDW6G0Cpe8gsLKz06OjoCw8K/1ILwOfxrbu7e6ivr2+bMpBJWMSivBuh/EKnvHB5K2dxDRalZGxs7DX/d2eo9UQFNm8jOEdKSSphJycn/2FfOnKN/WkcbJ5UjOBcKQWJXQH+EDv5YWojOHcx2N/f/zPJ7yQSth1FlSQVN7aw8DdtcPmHIrJo5bjZs1jCtvDonwiIywN2X5xoIXLwQpxKHVE9kBvm3YjQpCmRwiL4p46ofmyetn+JelNTV8B+dZCd9g/qcAW23k/N0o+hwnb8anPgb2/duvU8bOrbzBV0XEAT4G/ZTYZezQ0tlq3VoQtr7RAB53PLjfK5pZD3G/WrnCSnR48e0d27d+n+/fvEU0vvGOAToePjYwyqtLm5Sbu7u95rg98VV3Y1ePyKxZocsCBeb28v9fT01IWMw/r6Oq2urhoTuJHVXvn2LGpkKKEDWOaLFy8SCSp5/Pix9/srKyueFedNI6u9NHiJKoBNOfPw4UN6+fJlKlElPEJ7/xgIbAAHdT7/gUvCcgjxmXIGguDyV0Vaq8+KsNo6dWFF3OpQzjx79swTVxXSTxvA8U9168JyXJZ7ZRWCwj+qJungp4qDg4N63a8urAk3oMsfQlSImzc88NerDZ6wwg3YlDOIU3VhaBCzp6enPT/kCWvCDYA7d+6QLlT67STUarVP2HvCshv4QC0GZmsmkFpKi01d5s2CKavSCQvraWlNTU29NlXH0jkF5foUmQBZL/hZi+e5NhmiFYUFXGEoW6bcANjf3ydd7OzskEFsi538KzLE1tYW6ULnZ0eBm1MsUXk0AlwB8qmqwZVgMkdLsFgyXH5BHlU1a2trZBjbqMUCWKxKq4WlIvFtEkRZVhFahpaWlrySS1bwGfPz82QaGGvq/liVwMqWl5cpK/gMw761TiGEBSipLC4uphJGWqqJskwY+SctmwBhMKLbth077Qf/DFdSFEuVlMS9p4VpzYRACwsLXtpPFgmDOQVYKOJUDFI6wrWsoEumJO6iLlzPqz9aQOL65s2b3mtMVYtmnUFgrHAFLhW8lQgWqiJqyBEXcewKdVAKa7oDYV3qoBTWdFa6gkKBwQp+FfuwSoD0s9gXzediIYoSZ2KqZBAUFO/du1dvgEtbVeDSsycw0oV7e3taU5JRwAt4TXHj4+NbeYZcKCI+efLE6yjUVf+XmbO8m+UQZb1586anJH7ALTYOaQaCIvjPozQtm0Gw5dmNCP+KfUn88IfFdUgjaCXCZgIpMMTVkab0Ay2xl+VvbWuk4FJHJ6EpUf3gO2TtaoxCaukJK24Ic0kDBlsrGyL7cDXhypvr/NmtRDfhxgEWUiRRJfhOOq4grJAkX9eFrdVq30ghGDyKcPmHobp9FPhdal3YcrmMZEyVFFFkUSVPnz4lhVT999gGE91DpAidnYSqUNnq6XcD4JKwrHiVFFmtTPO1CW7w9s9GpRklVjs3N1fovCmmwEioK+KKZmF3JuKuRIcUIIPzokQHmOai70BhfQwh1vPgwbBIGf8BhxSA6SQ2jMAQF34N/jevFk6ZM0BSZmNjQ3nCHEv4NToeevc3J2Z+6VxKD7Mf5A4gsH8Dcu+/1TMIBJIdhdhzuFgv22CDkLg1VHPlYZittaGwoXM7/nIVPkFHV9YLJ1zEQmACXGoyHoX2FYi4tkIdwmi6yGTThg2EEMH4rMNFzMqiDjd7T5w1Yb5SAcs3BnG7u7u/Rr0pUljhEsqolVMHl7dynJU6Y/VuwZewsG0tLs797OzsU9wVOmM3xWGFNI4Q/qM2Beee5BkLiReN5FnZIBle2sQAlajBKkjiNk7xByrt4BbEOSYWFaRe8RiLSFqW9YtadAkpiIpxJe0jVjpLSTfGJVNLSQP8YZ6j97XSJALncvv27b6BjEv3Z15VXiIGtWu7uhwufU76VPr7+5W0Aih9wARcA3/BrxyapFrX2hT8nX/zbKqSdYl+P0qFlYgl/BCS2VRsqnSRTKmSYrQIKymwe6iSJkElWoWVYKE0sZiPQ2apkmZBJbkIKxE+WIpsUz64vP3kkf6bSh8aRa7C+vGJrOXRfqKDsj0e7dcM8TgAW4j8Sggd+TBKuniqEW5QcdGdbkrIIH8BDAGBkF/hM9YAAAAASUVORK5CYII=",SN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASdSURBVHgB3ZvBa9RAFMZfrYqwFVuQ9qAiFVER9eBB9GBBBLGX3v0jPXuqFL1URBFaxHpQtBWxB1u0C7IFcX5Nxk7fziSZbHaTzQePbSazs/PlvXnvzct0QvyYNTJvZM5IR4aDrpE1I58lHieMLEgyT40dI7tGNo180zcn1DXk7gYGGgZ6Rp5KPFDG3QL9eKjL6ecBjjk3Z4wsyujIgn0ph5MF+6HAx0ambcOkc+ORJKYyKkD2nSTmF4vfRk4bOVOgLxwvGvnKb1qTXpL+tbotyRrbkfKaqAPW/1xS7fBZhv15I5fVzXUjq5LY/l8ZLzBn66zmnHYUug3h65KsX4tPRt7K+AONou0ptxGnNa06lgkTTcW6up6D8Ixq3Jb2QDvEzjFpN3q64bgMDkLZTCr8jUfHszfSUgYhDLlrRq6KP35DfEuS0NaVhqAsYbR5X7LzbB4C8RBP+ULKJRiVo8wahuxDKb6p6KT9p6UBiCXM5NGsNmHMl/i9ln5qEyb3XZDRpq5exJr0TenX7IYkRHX6eSPtb8H3rqV9a0Oshs+rawI7WZkv1+behmq7IjVrOYYwzsedrN3AZwHS7sPAtGekRsQQ1hP9kf+Vg8C/mTPOSBFDWJti0djazRlnpIghrNdp0bA0lTPOSBFDeEdd48CKaGs2Z5yRIoYwmZJ2QLdyvkNoci2BNV1rjg1hl0TWumSyH1QbYeampy+av+25tyU1g8TjjSQTQ2N5YeajJLUiV2tokZwZze2l9y6I38mtS82YkHjYXDrG22JF1IfrWL9P3IsymwcmfaS4nQNbDK/VWVlMSjn8kWQ9ouWpwDho9b0cVj/rwhE/UsakfSD06IrHsOrZ7nsv0JPD3Rp+RD/cIyZdRYlH0h8adriBKO+TdMLTce5Dlqpr0PlWRXjY0FvNEDpyGPtXfR2aTpglcs/IOYnDfPrZR7rJhG1pyJezs14xXUyY/IHykS5OzPsGrcppVQ00imZ9yQta8/mLrAf0H2XD0jDBGrwj/XPD669IuPppy8JsaoLvj6vQ8Gz6I+6Lq710YjZUFEHWeqVUVPQFX6amByFc9HhE37GDwFihSUJ0Q+Ln5h2vrEnbAYuUazAv3k7wcH3aRqMPjJxS7Tyg51JuhxU0byaBKbED6qWd8rKjQs4hgG76Gzvp98mWQidxXsrgKSm/seQ2EJYwS1t+PTgWkDOAj6x7PAKged+xA753VbIRs17z0PfAIOzWmrPWY4gse1ydym074iveh1BmvUahaOIRQ9YFyQGkCTWXMvrRB7JD30IWIVyWrAVm9UoSQqzZ6XQsfAahq4jfqAx5hAcl68J6zlrrWlkVjyrJNgYhwq0kC3yEW0sW+Ai3liwIadhFa8iCvDJtq8iCLMKtIwtChFtJFkBYJ9j2kEoboPcGuxDWRxdqPZJQMXT+/pMCwL66gZcObdbHCWxY9FZ0HcKYtD5Iba970qBzkgVAMeOsJHt8rV14vLY1LbS6KA04KTckYMXPjHQnnYbvkvz3RxNLt4PAvpv+xYVLjlegXySnrjtmwA+tSEoWhMq0kKaaaA9+jxNYq0QeW205gn8V7PTp/QnotgAAAABJRU5ErkJggg==",RN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcDSURBVHgB7VvNb9xEFH8z9kYVpMGoCQKltA6UzQohdXvrjc2ttKFduHFquPXW9AScsrnBqclf0OQfoAlqSuFS9wS3urd8VIqDElEgFW4TKWmy9vCe90Njx95sdu0la/hJ++HZsdfz/N6bN7/3hkHC0PWivp/ZK3CunBcgdCGEDgw0BkyX++FvFr7ZjDH6fOI4jikywny2+MCCBMEgAZw+N1pgCrvmglsMDvSowPMtV7gGc9ns+tN7BsSM2ASg6QWtt6f3Jl5xnA4hAXjCcJ1JR3GNuDSjbQF0YuAhsNFkZhzmTLcriLYE8E72k6LClDvQeOA2vkx8PRHMNYGDmXF7bGtxzpI76bmiXoayzlzQBIMCNp3HVwEa3nxFIzZW7s9Ai2hLAO8Of7pKji3kJxq0gVef3t7dNm3LsKEFkHad7OktuFwUmWDXo/qRIPbZ/kgr2tCWAE4Pj/4N/qdvVwc91eqgo/B27pKuAC+AYBMRjpXMYnJjaWEKjgAF2sDJgXN/4EeekRwZfLf9avuLP5/+/GDXtnYhZmxvPrW3NlfMrecr030DWUaah/8rC/8EHl/qO5WFl8+XHzV73USmwU6gohFKKcw0MNaY2Vhe+LKZ63StAGoYHL4yjk9+AgKOGIVgohAuHHZ+1wuA4GmDUB4eiC6b0IS2fMBxAfmH1wfen0cBFGW/gGF1/mT/Bxr6jZ+izk2FAAiRQgB2EYXwAoXwa9h5qTABGRHmYJdZ+UJYnMAhZfAGqYjPoBKM1aCpQr0T1v+ACVB4q/Xnfnmjf/iGdipnv3i+9AS6DFt/rTxDtX9FcYHUrIeZgs8ESH0yIvNQCm/t9aV7b0KXAiPVu/hRlJpsDNaG5CjVZwKqq16XY3v8Hms467u57OgEhdL0wrn8NiQAtPtbEDAFXLmOy33qAqCnj9PGmPwjHs9CAsBF1G3UvRJUghdih8ZRICWIGZ4/EDDta2RwkxZZtcO6AGihEXj61vrivRIkALz22IFGvDFIAOqeSoujSC2oC4ALZcJ3pismIQWwrDk7TAtqXz0BEIcXXNcT7QRJIXhDFSRiboQwLTidGy3QF08AQhW+FRXF0EmysevLnmlNV2+KOIRJnG3GISF4WkAEjQynMjuo9MaFZ//135DNnYeEUR1wYoM+ACRqcIj1KZFxdo3+n5P3D6r/zt6OASmDuqsSL1k3Axrz0NDnZ3nGVfOBvkbcdNZxQNUMTLltT90d4aj4fgG40HWh7xHgGxsDnlfx/bzciFy7AR3AmezV6y5zpzAIspHWKv22/ENis0ANRMszIQW/XOgcjUGXOylc6Yj6CyZK+KGRLZIgoBNw/CaA2n+W4434uLTMq55V6AACjrcjGSWMbXwPlwPXeJBHW139fg1SimBsQw8hdYTIUfG/AOA/Du5VZkig6AhSCop65WNKqnKcg32eEaOjrqXADoNaVnX5GNc8NkcxWIF+eUgpGPdPt0iIrpEPWPM38tQKoFp4ITeY3KvakMH9oXHK4A/7wTG5AweYn7xMGqYFul6kMRXkNsGFySk6CswEWu+J3tSZgdNTLsjHNGYauxcH4HTgZ4BEMgztvwmXi2u+BlGhyCqBEIO5QP9CmszAy3mIQM6DV3IengCQ/zfgkAxKN8MrrpJQzXkY9J1LrQ0zKN2MRjmPugAOy6B0KygHGeAebDnnURdAVAYlGD93E8LynYhZmRfwZ4dDtEAVaiKZW/BT1BYkAAWUiWC+EzPGU/4+8h3Zi7shhQW5RjU2rUIusuSMf/Nyc9mEGHFm+CpN5V/7Gl1x6/flHw25KbRGCHP2D8EfNdnCdUc2Vu7HepNJgVQfNfcxSFwjPf2NpYWhYN9QQgTVhGrrfKbAuXK3G/xBrcoFAjXMSPePhPUPFUA1PPalx8mW6MLHWQghJT4eaCxRyd7IOkGy+b7+LJEjF6VmDR1L8bWB9+apLg+OEaIGT5lnVP1vo847tE5wMHdlJliQ3E59fhIY/PBynjvK3QNPnonZjcWFsUbnNlUoicHEY+wZXCG2VJ8fN8jbI7VVgqSLpcM0ofpHMw53JjutDVVPTzFKMfhbM0++hqZrhbc2V+ZoowIESAUqSCa/0Hcqqx1lo0KroPVJ/1sffYVprRkI5y+nUStvQJM4cq1wVH1+5WLxb2uroYndaS2ZZEvF0lH1+TLINFzHnd9xdox2Nk31qshOKR5BU4DoJKpBsUvHN00N5i6PNdjEJMPAPma5XH6kMMVGft7CxZcld6husaUB5qvbbEm96dVwS167jrjtcvmqMyK1JAfZKf4gtt1pse0XaGJbWxyIfVteMpunc17hJZoHfNyuMGgR45G2yFvWaKw4kfiOES9EddW8V4xF9UgCdKpKCds+7+UpK6m6NUrYZKDHCG6xjRv/AF0bOBSDHmXQAAAAAElFTkSuQmCC",CN="/chat-Friends/assets/logo-9xkPj2hX.png",PN="/chat-Friends/assets/profile_richard-Bfd_-P-Z.png",kN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJjSURBVHgB1ZiBcdswDEUhT6BOUG7QbBBt0G4QbVBvYI+QDdxO0Gwge4K2E1Ab2BsgQMRcFAikSEnkJe8OpxNNgl8gRMGsYAGI2NDljuzeXWtnzI2sd3Yhe6qqqodSkLia7EB2xXT+krWQk5UCJTaLYHJ655xvTUdmYAvI0c/ARBzdE0fHPUw9Gscr0JDtnSAflsfCGnBYap/A41hYhC9D9ivgb5nYQCQfUwR6BHebiHXONEctbIRbEYlNCgLqL866PIoX+yd28EEZvIdMuFSSNHODtCV/hMzgNGe7uQF7nOaMgfxCm6So4jQ3WygE52ZUVJWn4rd88Ta0QGjU/DuyRrRdqNq5QSForjMMldYrLHKy07DQb6LtCcpzEfeqUCPa/kF55JwyeKrQHsrTi3sjO7DQd4lbMj9HzM65g08CC333NLQ1fIXyzG6HLLQXbV+gPEbc/5cddkpjA+W5F/e97MBC5dbwHcrTiPvpFumpnEp+Qlsxt9X67dzhwFm0Z6tDFR7E/dnbUynzroXKvFZZTRMaUOP0gKGDjLiUs2LOU8xA7ekOkAmc1qHhaIrBXQmxOBxeSI4pDrTl2EysS7FO8W+XOOMjGu1AzOKKFwyHSt6in4clTn1imRPO/a2dCuwwDq/YKjCBoQu/+cbTpYdhz+NP8PhLUrsxXPz+AH/BwWO0w42W9vbfkAKGD7jWcHT+W0yM7JxgdmhxPR2KI6LNxTqnnG+pEeZc5+ObBsKBCIqtYCFuYjYutM3op5uzl9x1f4dj/LV00b5M6TmbG8yRBrnwiL3CRwQja9QPAb7tNC8n3s9GsmlLVaiiEgAAAABJRU5ErkJggg==",NN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAduSURBVHgB7Z0/bBtVHMe/73wJKajFI1vciU60naALShYkBmgyMCC1ohmKVImqZUMopU6JEBIDiYrE0KFBGRgYmtKNpRFLCwuBBTYuGxsuiNRpknu87ztfcrbPvj/23T3/+Sx2nXNP99Hvfu/3/tyzgCFMVWXl4AAzQqACgWkB9SpRkUBZvS8Hj1Wf1dRnNXWcAxc1KfCret2SLpy9z8QWDECgIBoi5yzgvBJzplVeWrR0gS3Xxf3SHjbqnwsHBZCr2PJ1Wd45gWvqpJfAiMwHx5VYzVtyLmLtRTlTEripzjaDIhHYlAdYfbYsNpAxmYo1Rmg7jOKlvU/FGjIiE7EGC23FOXCxsL8sNtFn+ipW59DjuKsajzkMEFJizdrDUj9zcN/ETi7KOVhKap9a9wLoa3roWSyj9OmL6raXuI4hQMldeeFfLNVWRA090JPYqY9kRU7iIfIrnfLCEc8w20tqsJCSiY/lGXcSv2D4pBIdMLxGpCSV2KlP5HvCxsMBzqdxqFjqGnmtSEHiVMATqW7jGkYI9hTrt8Q3Cb8Tn1GU6pNUbmyxzDcjcPt3o+buYzbu6FkssUPc+ielpqqFs3GqhcjGi3XqWOoh2gWdRB0YKVYX/2OpQSr/HddOutI1FUzckJcsgbsY04aarZjvNvzYUew4r0ZSO/YPTnbq+nZMBe7EOAVEUH56vPPdHBqxU2o8VVo6WsdEoMZzZ8PGc0MjVkkd59WYlErhDVmbWDZYGKeA+EjMcMak9eM2sZaILiXGNBMWtU1i9SzAOFqTExK1TWJFCdcwhLx1Cni9gkxpjdpDsaxbaR5DQnkK+OA14OcrwLaqNH90gIuph61joNwFu7r24ecTgzWz2gkt9Jwnlbyh6pvf/gIWZ5Xgv5EpOyf0vF+V7w/Fqop2oNNAUCjfM0rf+fZIKqP15S+RKapTwNmGauP9Yff1TwwgrUIJpTJS+UqpizPev5kOskZMolJfFNs6YgcxDYQJJWFSKTQPqUTuYl69rHipwMJ5rn8cBDoJJUGpX7wJXG3k2eU8O+d06YuVUq9PNZrpsifqwtl2oSQo9c78UQXw4I/8olWjXPJFvKDmsvZtvT7ASCiUt/PFs52PYQNFqbV6s1TCBmu7pzUtyWGetfcsVEyMVhb0zJFRhX03qetb+UslB7uYtVVOyLJsTkxcoeR7dZu/f897z47AKy81/z3X3BqAz1HYQuI0DAjZJELJukpelze8fPvDQrvUoqJVIzDNiC0XWREkFUqipJKiopXwiR+bj/ygANIIJRS2vOk1at+9Gy610GglyqndeI4qN9IKJUGpjNTpcufjCqZs57VkiK01hU6nPFtcqYVHq0fZRoYwB15QQq+eSy+UxJXqH2sCmYlldIZ1O5OSRKoh0apJvaI7CrbcD35HT1y+F18qMSVaicVnT5EBjByWRJSTJor4PUZgEqmmRKuiZomMxPpQDvvrcaOJXVN2Ufk9llI/XYmWSqHrsVat5kbN0o+m5wBvaQpe7zLc40vlaBSlMlLj5Gj+nwZFK3sIjqWGDLeRE93Sgy+VgypJpBoYrewgPGHj5SBnWtMD5bz6tSf17VPxpZLbjwyLVug9E7ZsFbGOKGgQhunBjzbK4Zjrnbn43+d3vnoM83CV2FIJm9JFYfjRxkhNIpWYVF4FkbbKsfWqcGTGlUEcmGOTYGRu9ajtVcWW7iBwDxUUTNKZVFOjFQ2XXs/LxX0YQFxZBkfroUsvYkvYgAEwYtdjTGsaG604cqnFMs+igLIrDFYK3fKt0dGqHDZcHg3CqIor9nOiWaJLqEed/25ytKoCdtV/eyi2bmEFhnD7cXjUGh6tTSn1aNiwKril3SYM4Ek9PGqNjlblzk8DpHlF9wGWYAiM2mBX1fRo5UZpwX83ia3zeSWDojYYoZfvwWSc1sc/22YQTIpaRqjfcch1YVtChGx3Fjr88txN+dCU5xH8aXKDxTq7t8TJ1g9DJxMZtdIyQ6zJkUq4hV/Y56GTicy1UpjRGzMZ5Wit076IHWdpnwksmDDqZTCOmjDs2B51nv5mXdshzMd4DVawbm2l67qCRgmxijHNuFitR2wuGblgY9fSzy05GOPjHLO9Z7m6Eb0SRqUEYWF2nG81Dl3UqtE7dcZaYqSnb0ZcLq/dtTDfLa8Gib12S8/jSHyIEYXXTgdxj0++aeQNeUmO2JZRqgJYqCfcCTnxakOegCcahbSgf6wihVSSeqnGRFWesVxwzKmCIYRS2a4kuf2D9LaVdFVWpDukW0krqXEbqjB6WnjME6s6lw9jDk8nQhX/x9Q19SKV9G3VVqNRu4kBjV7e+rbqwu/06edS+rZUXjdqXq1rxGxvEjiS97yFkzt9/A2aTNYZNrbwY0lWgclIbOrBFNN/EqUVY9NDhkJ9clkZy43S9J5eRU/35CDUJ9clx7o8O8BcY8ekCvLB4SqfKQsrcQZP+kVBa7kDki2cb2ydUkYfaPSWWNTf58qUXsumtBQmthX25MS+imJuTCFwWouO8WOUkmPFEttc8s/V6UWJbOV/J4waAuvSu7cAAAAASUVORK5CYII=",xN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8ElEQVR4nO3dzWoUQRRA4ZFAtiZZJVka9QV8AX/ACApZ5R1EyS4afAPXYdC3EMW1P4+j7nUVOVJM1hm7u5p7uTkf9K4aqjj0DF0zdC8WkiRJkiRJkroDbgCPgFfA2ZrjFHjYzjHFDIAd4DvDfQO2jdI/yGfG+2iQvjHuMt1to/QLctQhyJFB+gU57hDk2CAGqQmvkFwwSC4YJBcMkgsGyQWD5AIcdrgPeRy9jjKALeDPhBi/gZvR6yiF1Zb6WKfR8y8JeAH8GBCijX0ePe/SgA3gFnBvzdHGbETPV5IkSZIkSdcXsA88u/zR6qqjjdmPnm9ZwCbwDvg7YLf3Ali2c6PnXw7wnvGW0fOv+DF1MSFIO3cveh1lsPo+mOpp9DrKwH+d5IJBcsEguWCQXDBILhgkFwySCwbJBW8MS26d7EavoxRWu7ZjnUfPv+r2+3LgldLGnrv9Pm+YvQE/UPkxJUmSJEmSpOgHBxz8x4MD2hgfHDBzjBPg14Dd3p/Ay1kndV0BbxjvdfT8SwG2Jz6eqZ27Fb2OMoAnTHcYvY4y8F8nuWCQXDBILhgkFwySCwbJBYPkgkFywVce5QLc6XCnfhC9jlKATxNifIief9UNxq8jYnzxxZLzvnr1QdtOB96uOdqY+756VZIkSZIkSVrM4h8rzbcQzwZwVgAAAABJRU5ErkJggg==",DN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVR4nO2STQrCMBBG3wnsmUy68AAiLmq9j1RP1kUn7jyCrVeoMgVFJJBJwV0ffBCyeMwfLPyVsqXwHbULXDT61r9ZMtexd8LDB57fccJQBnbZMi+Mv7JPhNEsLVuKWGWR9Jsbq6TQC0eDbMr6yiHdrnC2Cr3QWCpsrEIXOKWFHXWGsLIuZTDI7qalKHoSqbNxwpYcJmmgj51LtuyNtqRz0s1PCVTmNheYywsBbeNMCHkbYwAAAABJRU5ErkJggg==",Ht={avatar_icon:AN,gallery_icon:SN,help_icon:RN,logo:CN,profile_img:PN,search_icon:kN,send_button:NN,menu_icon:xN,green_dot:DN},Hw=async n=>{const e=new FormData;e.append("file",n),e.append("upload_preset","chat_app_upload");try{return(await(await fetch("https://api.cloudinary.com/v1_1/dxxltlx2l/image/upload",{method:"POST",body:e})).json()).secure_url}catch(t){throw console.error("Cloudinary Upload Error:",t),t}},VN=()=>{const{profile:n,updateProfile:e,loading:t}=xl(),[i,o]=q.useState(null),[l,h]=q.useState(n?.avatar||Ht.avatar_icon),[f,p]=q.useState(n?.name||""),[y,v]=q.useState(n?.bio||""),w=ea(),I=async M=>{M.preventDefault();let B=l;i&&(B=await Hw(i)),await e(f,y,B),alert("Profile saved successfully!"),w("/chat")},O=M=>{const B=M.target.files[0];o(B),h(URL.createObjectURL(B))};return H.jsx("div",{className:"profile",children:H.jsx("div",{className:"profile-container",children:t?H.jsx("h3",{children:"Loading profile..."}):H.jsxs("form",{onSubmit:I,children:[H.jsx("h3",{children:"Profile Details"}),H.jsxs("label",{htmlFor:"avatar",children:[H.jsx("input",{type:"file",id:"avatar",hidden:!0,onChange:O}),H.jsx("img",{src:l,alt:"avatar"}),"Upload profile image"]}),H.jsx("input",{type:"text",value:f,onChange:M=>p(M.target.value),placeholder:"Your name",required:!0}),H.jsx("textarea",{value:y,onChange:M=>v(M.target.value),placeholder:"Write your bio",required:!0}),H.jsx("button",{type:"submit",children:"Save"})]})})})};var $w={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},X_=Is.createContext&&Is.createContext($w),ON=["attr","size","title"];function LN(n,e){if(n==null)return{};var t=MN(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function MN(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Uc(){return Uc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Uc.apply(this,arguments)}function J_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function jc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(t),!0).forEach(function(i){bN(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function bN(n,e,t){return e=FN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FN(n){var e=UN(n,"string");return typeof e=="symbol"?e:e+""}function UN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gw(n){return n&&n.map((e,t)=>Is.createElement(e.tag,jc({key:t},e.attr),Gw(e.child)))}function jN(n){return e=>Is.createElement(BN,Uc({attr:jc({},n.attr)},e),Gw(n.child))}function BN(n){var e=t=>{var{attr:i,size:o,title:l}=n,h=LN(n,ON),f=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Is.createElement("svg",Uc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,h,{className:p,style:jc(jc({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Is.createElement("title",null,l),n.children)};return X_!==void 0?Is.createElement(X_.Consumer,null,t=>e(t)):e($w)}function Kw(n){return jN({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(n)}function zN({chatId:n,chatUser:e,goBack:t,openInfo:i}){const{profile:o}=xl(),[l,h]=q.useState([]),[f,p]=q.useState(""),[y,v]=q.useState(null),w=q.useRef(null);q.useEffect(()=>h([]),[n]),q.useEffect(()=>{if(!n)return;const M=cl(Ts(On,"chats",n,"messages"),Tw("timestamp","asc")),B=Lp(M,x=>{h(x.docs.map(K=>K.data()))});return()=>B()},[n]),q.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[l]);const I=async M=>{if(M?.preventDefault(),!f.trim()&&!y||!o?.uid)return;let B="";y&&(B=await Hw(y),v(null)),await Sw(Ts(On,"chats",n,"messages"),{text:f,imageUrl:B,senderId:o.uid,timestamp:EP()}),p("")},O=M=>{M.target.files[0]&&v(M.target.files[0])};return H.jsxs("div",{className:"chat-box",children:[H.jsxs("div",{className:"chat-user",children:[H.jsx(Kw,{className:"back-arrow",onClick:t}),H.jsx("img",{src:e?.avatar||Ht.profile_img,className:"avatar",alt:"profile"}),H.jsxs("p",{children:[e?.name||e?.username||"Chat",H.jsx("img",{src:Ht.green_dot,className:"dot",alt:""})]}),H.jsx("img",{src:Ht.help_icon,alt:"help",className:"help",onClick:i})]}),H.jsxs("div",{className:"chat-msg",children:[l.map((M,B)=>{const x=M.senderId===o.uid,K=M.timestamp?.seconds?new Date(M.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return H.jsxs("div",{className:x?"s-msg":"r-msg",children:[H.jsxs("div",{className:"bubble",children:[M.imageUrl&&H.jsxs("div",{className:"image-bubble",children:[H.jsx("img",{src:M.imageUrl,alt:"",className:"msg-image"}),M.text&&H.jsx("p",{className:"msg-caption",children:M.text})]}),!M.imageUrl&&M.text&&H.jsx("p",{className:"msg",children:M.text})]}),H.jsxs("div",{className:"meta",children:[H.jsx("img",{src:x?o.avatar||Ht.profile_img:e?.avatar||Ht.profile_img,alt:""}),H.jsx("p",{children:K})]})]},B)}),H.jsx("div",{ref:w})]}),y&&H.jsxs("div",{className:"image-preview",children:[H.jsx("p",{children:"Preview:"}),H.jsx("img",{src:URL.createObjectURL(y),alt:"preview",className:"preview-img"}),H.jsx("button",{className:"remove-preview",onClick:()=>v(null),children:""})]}),H.jsxs("div",{className:"chat-input",children:[H.jsx("input",{type:"text",placeholder:"Send a message...",value:f,onChange:M=>p(M.target.value),onKeyDown:M=>M.key==="Enter"&&I(M)}),H.jsx("input",{type:"file",id:"image",accept:"image/png, image/jpeg",hidden:!0,onChange:O}),H.jsx("label",{htmlFor:"image",children:H.jsx("img",{src:Ht.gallery_icon,alt:"gallery"})}),H.jsx("img",{src:Ht.send_button,alt:"send",className:"send-btn",onClick:I})]})]})}function qN({onFriendClick:n}){const{logout:e,profile:t,addFriend:i}=xl(),[o,l]=q.useState(!1),[h,f]=q.useState([]),[p,y]=q.useState(""),v=ea(),w=()=>l(x=>!x),I=()=>{v("/profile"),l(!1)};q.useEffect(()=>{if(!t?.friends||t.friends.length===0){f([]);return}const x=cl(Ts(On,"users"),nf("__name__","in",t.friends)),K=Lp(x,Q=>{const te=Q.docs.map(ue=>({uid:ue.id,bio:ue.data().bio||"",name:ue.data().name,username:ue.data().username,avatar:ue.data().avatar||Ht.profile_img}));f(te)});return()=>K()},[t?.friends]);const O=async x=>{if(!t?.uid)return;const K=cl(Ts(On,"chats"),nf("participants","array-contains",t.uid)),Q=await F_(K);let te=null;Q.forEach(Ee=>{Ee.data().participants.includes(x.uid)&&(te=Ee.id)});const ue=te||(await Sw(Ts(On,"chats"),{participants:[t.uid,x.uid],createdAt:new Date,lastMessage:"",timestamp:new Date})).id;n({chatId:ue,...x})},M=async x=>{if(!x.trim())return;if(x===t.username)return alert("You cannot add yourself");const K=cl(Ts(On,"users"),nf("username","==",x)),Q=await F_(K);if(Q.empty)return alert("User not found");const te=Q.docs[0].id;if(t.friends?.includes(te))return alert("User already added");i(te),alert("Friend added successfully")},B=h.filter(x=>x.name.toLowerCase().includes(p.toLowerCase())||x.username.toLowerCase().includes(p.toLowerCase()));return H.jsxs("div",{className:"ls",children:[H.jsxs("div",{className:"ls-top",children:[H.jsxs("div",{className:"ls-nav",children:[H.jsx("img",{src:Ht.logo,className:"logo",alt:"App Logo"}),H.jsxs("div",{className:"menu",children:[H.jsx("img",{src:Ht.menu_icon,className:"menu-icon",alt:"Menu Icon",onClick:w}),o&&H.jsxs("div",{className:"sub-menu",children:[H.jsx("p",{onClick:I,children:"Edit Profile"}),H.jsx("hr",{}),H.jsx("p",{onClick:e,children:"Logout"})]})]})]}),H.jsxs("div",{className:"ls-search",children:[H.jsx("img",{src:Ht.search_icon,alt:"Search Icon"}),H.jsx("input",{type:"text",placeholder:"Search friends...",value:p,onChange:x=>y(x.target.value),onKeyDown:x=>{x.key==="Enter"&&(M(x.target.value),y(""))}})]})]}),H.jsxs("div",{className:"ls-list",children:[B.length===0&&H.jsx("p",{className:"no-chat",children:"No friends found."}),B.map(x=>H.jsxs("div",{className:"friends",onClick:()=>O(x),children:[H.jsx("img",{src:x.avatar||Ht.profile_img,alt:"Friend"}),H.jsxs("div",{children:[H.jsx("p",{children:x.name}),H.jsx("span",{children:"Tap to chat"})]})]},x.uid))]})]})}function WN({chatUser:n,chatId:e,goBack:t}){const{logout:i}=xl(),[o,l]=q.useState([]);return q.useEffect(()=>{if(!e)return;const h=cl(Ts(On,"chats",e,"messages"),Tw("timestamp","desc")),f=Lp(h,p=>{const y=p.docs.map(v=>v.data()).filter(v=>v.imageUrl).map(v=>v.imageUrl);l(y)});return()=>f()},[e]),console.log("Chat ID:",e),n?H.jsxs("div",{className:"rs",children:[t&&H.jsx("div",{className:"rs-header",children:H.jsx("button",{className:"back-btn",onClick:t,children:H.jsx(Kw,{})})}),H.jsxs("div",{className:"rs-profile",children:[H.jsx("img",{src:n.avatar||Ht.profile_img,alt:""}),H.jsxs("h3",{children:[n.name||n.username,H.jsx("img",{src:Ht.green_dot,className:"dot",alt:""})]}),H.jsx("p",{children:n.bio||"Available"})]}),H.jsx("hr",{}),H.jsxs("div",{className:"rs-media",children:[H.jsx("h4",{children:"Media"}),H.jsxs("div",{className:"media-grid",children:[o.length===0&&H.jsx("p",{className:"no-media",children:"No media shared"}),o.map((h,f)=>H.jsx("img",{src:h,alt:"shared media"},f))]})]}),H.jsx("button",{onClick:i,children:"Log Out"})]}):H.jsx("div",{className:"rs empty",children:H.jsx("p",{children:"Select a chat to see details"})})}const Z_=()=>{const[n,e]=q.useState("left"),[t,i]=q.useState(null),[o,l]=q.useState(null);return H.jsx("div",{className:"chat",children:H.jsxs("div",{className:"chat-container",children:[H.jsx("div",{className:`panel left ${n==="left"?"show":""}`,children:H.jsx(qN,{onFriendClick:({chatId:h,...f})=>{i(h),l(f),e("chat")}})}),H.jsx("div",{className:`panel chatbox ${n==="chat"?"show":""}`,children:t&&o&&H.jsx(zN,{chatId:t,chatUser:o,goBack:()=>e("left"),openInfo:()=>e("right")})}),H.jsx("div",{className:`panel right ${n==="right"?"show":""}`,children:o&&H.jsx(WN,{chatUser:o,chatId:t,goBack:()=>e("chat")})})]})})};function HN(){const{user:n}=xl();return H.jsx(qk,{children:n?H.jsxs(H.Fragment,{children:[H.jsx(Ai,{path:"/chat",element:H.jsx(Z_,{})}),H.jsx(Ai,{path:"/chat/:chatId",element:H.jsx(Z_,{})}),H.jsx(Ai,{path:"/profile",element:H.jsx(VN,{})}),H.jsx(Ai,{path:"*",element:H.jsx(Q_,{to:"/chat"})})]}):H.jsxs(H.Fragment,{children:[H.jsx(Ai,{path:"/login",element:H.jsx(TN,{})}),H.jsx(Ai,{path:"/signup",element:H.jsx(IN,{})}),H.jsx(Ai,{path:"*",element:H.jsx(Q_,{to:"/login"})})]})})}cI.createRoot(document.getElementById("root")).render(H.jsx(dN,{children:H.jsx(ZP,{children:H.jsx(HN,{})})}));
